"use strict";(self.webpackChunkclients_control=self.webpackChunkclients_control||[]).push([[179],{291:()=>{function Ee(t){return"function"==typeof t}function Fi(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Is=Fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Li(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class at{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ee(r))try{r()}catch(s){e=s instanceof Is?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Yr(s)}catch(o){e=e??[],o instanceof Is?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Is(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Yr(e);else{if(e instanceof at){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Li(n,e)}remove(e){const{_finalizers:n}=this;n&&Li(n,e),e instanceof at&&e._removeParent(this)}}at.EMPTY=(()=>{const t=new at;return t.closed=!0,t})();const Du=at.EMPTY;function cd(t){return t instanceof at||t&&"closed"in t&&Ee(t.remove)&&Ee(t.add)&&Ee(t.unsubscribe)}function Yr(t){Ee(t)?t():t.unsubscribe()}const Vi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},So={setTimeout(t,e,...n){const{delegate:r}=So;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=So;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kg(t){So.setTimeout(()=>{const{onUnhandledError:e}=Vi;if(!e)throw t;e(t)})}function ld(){}const Ng=bu("C",void 0,void 0);function bu(t,e,n){return{kind:t,value:e,error:n}}let Xr=null;function br(t){if(Vi.useDeprecatedSynchronousErrorHandling){const e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}class Ao extends at{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cd(e)&&e.add(this)):this.destination=Tu}static create(e,n,r){return new Ui(e,n,r)}next(e){this.isStopped?Cu(function Pg(t){return bu("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cu(function Og(t){return bu("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cu(Ng,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dd=Function.prototype.bind;function xo(t,e){return dd.call(t,e)}class hd{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rn(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rn(r)}else Rn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rn(n)}}}class Ui extends Ao{constructor(e,n,r){let i;if(super(),Ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Vi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xo(e.next,s),error:e.error&&xo(e.error,s),complete:e.complete&&xo(e.complete,s)}):i=e}this.destination=new hd(i)}}function Rn(t){Vi.useDeprecatedSynchronousErrorHandling?function Fg(t){Vi.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}(t):kg(t)}function Cu(t,e){const{onStoppedNotification:n}=Vi;n&&So.setTimeout(()=>n(t,e))}const Tu={closed:!0,next:ld,error:function fd(t){throw t},complete:ld},Su="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zr(t){return t}function gd(t){return 0===t.length?Zr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Vg(t){return t&&t instanceof Ao||function Lg(t){return t&&Ee(t.next)&&Ee(t.error)&&Ee(t.complete)}(t)&&cd(t)}(n)?n:new Ui(n,r,i);return br(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=md(r))((i,s)=>{const o=new Ui({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Su](){return this}pipe(...n){return gd(n)(this)}toPromise(n){return new(n=md(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function md(t){var e;return null!==(e=t??Vi.Promise)&&void 0!==e?e:Promise}const Ug=Fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Yn=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new yd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ug}next(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Du:(this.currentObservers=null,s.push(n),new at(()=>{this.currentObservers=null,Li(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ke;return n.source=this,n}}return t.create=(e,n)=>new yd(e,n),t})();class yd extends Yn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Du}}function Au(t){return Ee(t?.lift)}function ut(t){return e=>{if(Au(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,e,n,r,i){return new $g(t,e,n,r,i)}class $g extends Ao{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(t,e){return ut((n,r)=>{let i=0;n.subscribe(ct(r,s=>{r.next(t.call(e,s,i++))}))})}function jg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function vn(t){return this instanceof vn?(this.v=t,this):new vn(t)}function Ru(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function U(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const E0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D0(t){return Ee(t?.then)}function b0(t){return Ee(t[Su])}function C0(t){return Symbol.asyncIterator&&Ee(t?.[Symbol.asyncIterator])}function T0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const S0=function Z$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function A0(t){return Ee(t?.[S0])}function x0(t){return function Es(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof vn?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vn(n.read());if(i)return yield vn(void 0);yield yield vn(r)}}finally{n.releaseLock()}})}function M0(t){return Ee(t?.getReader)}function Zn(t){if(t instanceof ke)return t;if(null!=t){if(b0(t))return function J$(t){return new ke(e=>{const n=t[Su]();if(Ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(E0(t))return function eB(t){return new ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(D0(t))return function tB(t){return new ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kg)})}(t);if(C0(t))return R0(t);if(A0(t))return function nB(t){return new ke(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(M0(t))return function rB(t){return R0(x0(t))}(t)}throw T0(t)}function R0(t){return new ke(e=>{(function iB(t,e){var n,r,i,s;return function y(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ru(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Jr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Pt(t,e,n=1/0){return Ee(e)?Pt((r,i)=>le((s,o)=>e(r,s,i,o))(Zn(t(r,i))),n):("number"==typeof e&&(n=e),ut((r,i)=>function sB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Zn(n(g,l++)).subscribe(ct(e,D=>{i?.(D),s?f(D):e.next(D)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const D=u.shift();o?Jr(e,o,()=>p(D)):p(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ko(t=1/0){return Pt(Zr,t)}const Cr=new ke(t=>t.complete());function Hg(t){return t[t.length-1]}function ku(t){return function aB(t){return t&&Ee(t.schedule)}(Hg(t))?t.pop():void 0}function wd(t,e=0){return ut((n,r)=>{n.subscribe(ct(r,i=>Jr(r,t,()=>r.next(i),e),()=>Jr(r,t,()=>r.complete(),e),i=>Jr(r,t,()=>r.error(i),e)))})}function Id(t,e=0){return ut((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function N0(t,e){if(!t)throw new Error("Iterable cannot be null");return new ke(n=>{Jr(n,e,()=>{const r=t[Symbol.asyncIterator]();Jr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lt(t,e){return e?function pB(t,e){if(null!=t){if(b0(t))return function cB(t,e){return Zn(t).pipe(Id(e),wd(e))}(t,e);if(E0(t))return function dB(t,e){return new ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(D0(t))return function lB(t,e){return Zn(t).pipe(Id(e),wd(e))}(t,e);if(C0(t))return N0(t,e);if(A0(t))return function hB(t,e){return new ke(n=>{let r;return Jr(n,e,()=>{r=t[S0](),Jr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ee(r?.return)&&r.return()})}(t,e);if(M0(t))return function fB(t,e){return N0(x0(t),e)}(t,e)}throw T0(t)}(t,e):Zn(t)}function zg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ui({next:()=>{r.unsubscribe(),t()}});return Zn(e(...n)).subscribe(r)}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Wg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const yB=Re({__forward_ref__:Re});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return Ne(this())},t}function X(t){return Kg(t)?t():t}function Kg(t){return"function"==typeof t&&t.hasOwnProperty(yB)&&t.__forward_ref__===Oe}function Qg(t){return t&&!!t.\u0275providers}const O0="https://g.co/ng/security#xss";class R extends Error{constructor(e,n){super(Ed(e,n)),this.code=e}}function Ed(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function Dd(t,e){throw new R(-201,!1)}function Jn(t,e){null==t&&function be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function bd(t){return P0(t,Cd)||P0(t,L0)}function P0(t,e){return t.hasOwnProperty(e)?t[e]:null}function F0(t){return t&&(t.hasOwnProperty(Yg)||t.hasOwnProperty(TB))?t[Yg]:null}const Cd=Re({\u0275prov:Re}),Yg=Re({\u0275inj:Re}),L0=Re({ngInjectableDef:Re}),TB=Re({ngInjectorDef:Re});var Z=(()=>((Z=Z||{})[Z.Default=0]="Default",Z[Z.Host=1]="Host",Z[Z.Self=2]="Self",Z[Z.SkipSelf=4]="SkipSelf",Z[Z.Optional=8]="Optional",Z))();let Xg;function er(t){const e=Xg;return Xg=t,e}function V0(t,e,n){const r=bd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==e?e:void Dd(Ne(t))}const Fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nu={},Zg="__NG_DI_FLAG__",Td="ngTempTokenPath",AB="ngTokenPath",xB=/\n/gm,MB="\u0275",U0="__source";let Ou;function No(t){const e=Ou;return Ou=t,e}function RB(t,e=Z.Default){if(void 0===Ou)throw new R(-203,!1);return null===Ou?V0(t,void 0,e):Ou.get(t,e&Z.Optional?null:void 0,e)}function W(t,e=Z.Default){return(function SB(){return Xg}()||RB)(X(t),e)}function ge(t,e=Z.Default){return W(t,Sd(e))}function Sd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jg(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let i,s=Z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=kB(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function Pu(t,e){return t[Zg]=e,t.prototype[Zg]=e,t}function kB(t){return t[Zg]}function Bi(t){return{toString:t}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Sr=(()=>{return(t=Sr||(Sr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Sr;var t})();const ei={},Ie=[],Ad=Re({\u0275cmp:Re}),em=Re({\u0275dir:Re}),tm=Re({\u0275pipe:Re}),B0=Re({\u0275mod:Re}),ti=Re({\u0275fac:Re}),Fu=Re({__NG_ELEMENT_ID__:Re});let PB=0;function On(t){return Bi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Ie,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Sr.Emulated,id:"c"+PB++,styles:t.styles||Ie,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=H0(t.inputs,r),i.outputs=H0(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(j0).filter(G0):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(sn).filter(G0):null,i})}function j0(t){return Ce(t)||Kt(t)}function G0(t){return null!==t}function tr(t){return Bi(()=>({type:t.type,bootstrap:t.bootstrap||Ie,declarations:t.declarations||Ie,imports:t.imports||Ie,exports:t.exports||Ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function H0(t,e){if(null==t)return ei;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ee=On;function Ce(t){return t[Ad]||null}function Kt(t){return t[em]||null}function sn(t){return t[tm]||null}function Pn(t,e){const n=t[B0]||null;if(!n&&!0===e)throw new Error(`Type ${Ne(t)} does not have '\u0275mod' property.`);return n}const ni=0,V=1,ue=2,We=3,dr=4,Ds=5,Qt=6,Po=7,Je=8,xd=9,Md=10,de=11,nm=12,Lu=13,z0=14,Fo=15,Yt=16,Vu=17,Lo=18,Ar=19,Uu=20,q0=21,Le=22,rm=1,W0=2,Rd=7,kd=8,Vo=9,on=10;function Fn(t){return Array.isArray(t)&&"object"==typeof t[rm]}function hr(t){return Array.isArray(t)&&!0===t[rm]}function im(t){return 0!=(4&t.flags)}function $u(t){return t.componentOffset>-1}function Nd(t){return 1==(1&t.flags)}function fr(t){return null!==t.template}function VB(t){return 0!=(256&t[ue])}function bs(t,e){return t.hasOwnProperty(ti)?t[ti]:null}class BB{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function nr(){return Y0}function Y0(t){return t.type.prototype.ngOnChanges&&(t.setInput=GB),jB}function jB(){const t=Z0(this),e=t?.current;if(e){const n=t.previous;if(n===ei)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function GB(t,e,n,r){const i=this.declaredInputs[n],s=Z0(t)||function HB(t,e){return t[X0]=e}(t,{previous:ei,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new BB(u&&u.currentValue,e,a===ei),t[r]=e}nr.ngInherit=!0;const X0="__ngSimpleChanges__";function Z0(t){return t[X0]||null}const rr=function(t,e,n){};function Ft(t){for(;Array.isArray(t);)t=t[ni];return t}function Ln(t,e){return Ft(e[t.index])}function tS(t,e){return t.data[e]}function Vn(t,e){const n=e[t];return Fn(n)?n:n[ni]}function Pd(t){return 64==(64&t[ue])}function ji(t,e){return null==e?null:t[e]}function nS(t){t[Lo]=0}function om(t,e){t[Ds]+=e;let n=t,r=t[We];for(;null!==r&&(1===e&&1===n[Ds]||-1===e&&0===n[Ds]);)r[Ds]+=e,n=r,r=r[We]}const ie={lFrame:hS(null),bindingsEnabled:!0};function iS(){return ie.bindingsEnabled}function T(){return ie.lFrame.lView}function ye(){return ie.lFrame.tView}function Lt(){let t=sS();for(;null!==t&&64===t.type;)t=t.parent;return t}function sS(){return ie.lFrame.currentTNode}function xr(t,e){const n=ie.lFrame;n.currentTNode=t,n.isParent=e}function am(){return ie.lFrame.isParent}function $o(){return ie.lFrame.bindingIndex++}function sj(t,e){const n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,cm(e)}function cm(t){ie.lFrame.currentDirectiveIndex=t}function dm(t){ie.lFrame.currentQueryIndex=t}function aj(t){const e=t[V];return 2===e.type?e.declTNode:1===e.type?t[Qt]:null}function lS(t,e,n){if(n&Z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Z.Host||(i=aj(s),null===i||(s=s[Fo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ie.lFrame=dS();return r.currentTNode=e,r.lView=t,!0}function hm(t){const e=dS(),n=t[V];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dS(){const t=ie.lFrame,e=null===t?null:t.child;return null===e?hS(t):e}function hS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fS(){const t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pS=fS;function fm(){const t=fS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function un(){return ie.lFrame.selectedIndex}function Cs(t){ie.lFrame.selectedIndex=t}function He(){const t=ie.lFrame;return tS(t.tView,t.selectedIndex)}function Fd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Ld(t,e,n){gS(t,e,3,n)}function Vd(t,e,n,r){(3&t[ue])===n&&gS(t,e,n,r)}function pm(t,e){let n=t[ue];(3&n)===e&&(n&=2047,n+=1,t[ue]=n)}function gS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Lo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Lo]+=65536),(a<s||-1==s)&&(mj(t,n,e,u),t[Lo]=(4294901760&t[Lo])+u+2),u++}function mj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[ue]>>11<t[Lo]>>16&&(3&t[ue])===e){t[ue]+=2048,rr(4,a,s);try{s.call(a)}finally{rr(5,a,s)}}}else{rr(4,a,s);try{s.call(a)}finally{rr(5,a,s)}}}const Bo=-1;class ju{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function mm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];yS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function mS(t){return 3===t||4===t||6===t}function yS(t){return 64===t.charCodeAt(0)}function Gu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_S(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _S(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function vS(t){return t!==Bo}function Ud(t){return 32767&t}function $d(t,e){let n=function wj(t){return t>>16}(t),r=e;for(;n>0;)r=r[Fo],n--;return r}let ym=!0;function Bd(t){const e=ym;return ym=t,e}const wS=255,IS=5;let Ij=0;const Mr={};function jd(t,e){const n=ES(t,e);if(-1!==n)return n;const r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,_m(r.data,t),_m(e,null),_m(r.blueprint,null));const i=vm(t,e),s=t.injectorIndex;if(vS(i)){const o=Ud(i),a=$d(i,e),u=a[V].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function _m(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ES(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function vm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=xS(i),null===r)return Bo;if(n++,i=i[Fo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Bo}function wm(t,e,n){!function Ej(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fu)&&(r=n[Fu]),null==r&&(r=n[Fu]=Ij++);const i=r&wS;e.data[t+(i>>IS)]|=1<<i}(t,e,n)}function DS(t,e,n){if(n&Z.Optional||void 0!==t)return t;Dd()}function bS(t,e,n,r){if(n&Z.Optional&&void 0===r&&(r=null),!(n&(Z.Self|Z.Host))){const i=t[xd],s=er(void 0);try{return i?i.get(e,r,n&Z.Optional):V0(e,r,n&Z.Optional)}finally{er(s)}}return DS(r,0,n)}function CS(t,e,n,r=Z.Default,i){if(null!==t){if(1024&e[ue]){const o=function Sj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[ue]&&!(256&o[ue]);){const a=TS(s,o,n,r|Z.Self,Mr);if(a!==Mr)return a;let u=s.parent;if(!u){const c=o[q0];if(c){const l=c.get(n,Mr,r);if(l!==Mr)return l}u=xS(o),o=o[Fo]}s=u}return i}(t,e,n,r,Mr);if(o!==Mr)return o}const s=TS(t,e,n,r,Mr);if(s!==Mr)return s}return bS(e,n,r,i)}function TS(t,e,n,r,i){const s=function Cj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Fu)?t[Fu]:void 0;return"number"==typeof e?e>=0?e&wS:Tj:e}(n);if("function"==typeof s){if(!lS(e,t,r))return r&Z.Host?DS(i,0,r):bS(e,n,r,i);try{const o=s(r);if(null!=o||r&Z.Optional)return o;Dd()}finally{pS()}}else if("number"==typeof s){let o=null,a=ES(t,e),u=Bo,c=r&Z.Host?e[Yt][Qt]:null;for((-1===a||r&Z.SkipSelf)&&(u=-1===a?vm(t,e):e[a+8],u!==Bo&&AS(r,!1)?(o=e[V],a=Ud(u),e=$d(u,e)):a=-1);-1!==a;){const l=e[V];if(SS(s,a,l.data)){const d=bj(a,e,n,o,r,c);if(d!==Mr)return d}u=e[a+8],u!==Bo&&AS(r,e[V].data[a+8]===c)&&SS(s,a,e)?(o=l,a=Ud(u),e=$d(u,e)):a=-1}}return i}function bj(t,e,n,r,i,s){const o=e[V],a=o.data[t+8],l=function Gd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&fr(f)&&f.type===n)return u}return null}(a,o,n,null==r?$u(a)&&ym:r!=o&&0!=(3&a.type),i&Z.Host&&s===a);return null!==l?Ts(e,o,l,a):Mr}function Ts(t,e,n,r){let i=t[n];const s=e.data;if(function yj(t){return t instanceof ju}(i)){const o=i;o.resolving&&function _B(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new R(-200,`Circular dependency in DI detected for ${t}${n}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}(s[n]));const a=Bd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?er(o.injectImpl):null;lS(t,r,Z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function gj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Y0(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&er(u),Bd(a),o.resolving=!1,pS()}}return i}function SS(t,e,n){return!!(n[e+(t>>IS)]&1<<t)}function AS(t,e){return!(t&Z.Self||t&Z.Host&&e)}class jo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return CS(this._tNode,this._lView,e,Sd(r),n)}}function Tj(){return new jo(Lt(),T())}function Im(t){return Kg(t)?()=>{const e=Im(X(t));return e&&e()}:bs(t)}function xS(t){const e=t[V],n=e.type;return 2===n?e.declTNode:1===n?t[Qt]:null}const Ho="__parameters__";function qo(t,e,n){return Bi(()=>{const r=function Em(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ho)?u[Ho]:Object.defineProperty(u,Ho,{value:[]})[Ho];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class G{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ss(t,e){t.forEach(n=>Array.isArray(n)?Ss(n,e):e(n))}function RS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const cn=Pu(qo("Optional"),8),Wu=Pu(qo("SkipSelf"),4);var In=(()=>((In=In||{})[In.Important=1]="Important",In[In.DashCase=2]="DashCase",In))();const Mm=new Map;let Jj=0;const km="__ngContext__";function Xt(t,e){Fn(e)?(t[km]=e[Uu],function tG(t){Mm.set(t[Uu],t)}(e)):t[km]=e}let Nm;function Om(t,e){return Nm(t,e)}function Xu(t){const e=t[We];return hr(e)?e[We]:e}function Pm(t){return ZS(t[Lu])}function Fm(t){return ZS(t[dr])}function ZS(t){for(;null!==t&&!hr(t);)t=t[dr];return t}function Qo(t,e,n,r,i){if(null!=r){let s,o=!1;hr(r)?s=r:Fn(r)&&(o=!0,r=r[ni]);const a=Ft(r);0===t&&null!==n?null==i?iA(e,n,a):As(e,n,a,i||null,!0):1===t&&null!==n?As(e,n,a,i||null,!0):2===t?function Gm(t,e,n){const r=Qd(t,e);r&&function IG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function bG(t,e,n,r,i){const s=n[Rd];s!==Ft(n)&&Qo(e,t,r,s,i);for(let a=on;a<n.length;a++){const u=n[a];Zu(u[V],u,t,e,r,s)}}(e,t,s,n,i)}}function Vm(t,e,n){return t.createElement(e,n)}function eA(t,e){const n=t[Vo],r=n.indexOf(e),i=e[We];512&e[ue]&&(e[ue]&=-513,om(i,-1)),n.splice(r,1)}function Um(t,e){if(t.length<=on)return;const n=on+e,r=t[n];if(r){const i=r[Vu];null!==i&&i!==t&&eA(i,r),e>0&&(t[n-1][dr]=r[dr]);const s=zd(t,on+e);!function fG(t,e){Zu(t,e,e[de],2,null,null),e[ni]=null,e[Qt]=null}(r[V],r);const o=s[Ar];null!==o&&o.detachView(s[V]),r[We]=null,r[dr]=null,r[ue]&=-65}return r}function tA(t,e){if(!(128&e[ue])){const n=e[de];n.destroyNode&&Zu(t,e,n,3,null,null),function mG(t){let e=t[Lu];if(!e)return $m(t[V],t);for(;e;){let n=null;if(Fn(e))n=e[Lu];else{const r=e[on];r&&(n=r)}if(!n){for(;e&&!e[dr]&&e!==t;)Fn(e)&&$m(e[V],e),e=e[We];null===e&&(e=t),Fn(e)&&$m(e[V],e),n=e&&e[dr]}e=n}}(e)}}function $m(t,e){if(!(128&e[ue])){e[ue]&=-65,e[ue]|=128,function wG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ju)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];rr(4,a,u);try{u.call(a)}finally{rr(5,a,u)}}else{rr(4,i,s);try{s.call(i)}finally{rr(5,i,s)}}}}}(t,e),function vG(t,e){const n=t.cleanup,r=e[Po];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Po]=null}}(t,e),1===e[V].type&&e[de].destroy();const n=e[Vu];if(null!==n&&hr(e[We])){n!==e[We]&&eA(n,e);const r=e[Ar];null!==r&&r.detachView(t)}!function nG(t){Mm.delete(t[Uu])}(e)}}function nA(t,e,n){return function rA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ni];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Sr.None||s===Sr.Emulated)return null}return Ln(r,n)}}(t,e.parent,n)}function As(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iA(t,e,n){t.appendChild(e,n)}function sA(t,e,n,r,i){null!==r?As(t,e,n,r,i):iA(t,e,n)}function Qd(t,e){return t.parentNode(e)}let Bm,qm,Jd,uA=function aA(t,e,n){return 40&t.type?Ln(t,n):null};function Yd(t,e,n,r){const i=nA(t,r,e),s=e[de],a=function oA(t,e,n){return uA(t,e,n)}(r.parent||e[Qt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)sA(s,i,n[u],a,!1);else sA(s,i,n,a,!1);void 0!==Bm&&Bm(s,r,e,n,i)}function Xd(t,e){if(null!==e){const n=e.type;if(3&n)return Ln(e,t);if(4&n)return jm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Xd(t,r);{const i=t[e.index];return hr(i)?jm(-1,i):Ft(i)}}if(32&n)return Om(e,t)()||Ft(t[e.index]);{const r=lA(t,e);return null!==r?Array.isArray(r)?r[0]:Xd(Xu(t[Yt]),r):Xd(t,e.next)}}return null}function lA(t,e){return null!==e?t[Yt][Qt].projection[e.projection]:null}function jm(t,e){const n=on+t+1;if(n<e.length){const r=e[n],i=r[V].firstChild;if(null!==i)return Xd(r,i)}return e[Rd]}function Hm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Xt(Ft(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Hm(t,e,n.child,r,i,s,!1),Qo(e,t,i,a,s);else if(32&u){const c=Om(n,r);let l;for(;l=c();)Qo(e,t,i,l,s);Qo(e,t,i,a,s)}else 16&u?dA(t,e,r,n,i,s):Qo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Zu(t,e,n,r,i,s){Hm(n,r,t.firstChild,e,i,s,!1)}function dA(t,e,n,r,i,s){const o=n[Yt],u=o[Qt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Qo(e,t,i,u[c],s);else Hm(t,e,u,o[We],i,s,!0)}function hA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&mm(t,e,r),null!==i&&hA(t,e,i),null!==s&&function TG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function yA(t){return function Wm(){if(void 0===Jd&&(Jd=null,Fe.trustedTypes))try{Jd=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jd}()?.createScriptURL(t)||t}class _A{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${O0})`}}function Gi(t){return t instanceof _A?t.changingThisBreaksApplicationSecurity:t}function Ju(t,e){const n=function FG(t){return t instanceof _A&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${O0})`)}return n===e}const $G=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var dt=(()=>((dt=dt||{})[dt.NONE=0]="NONE",dt[dt.HTML=1]="HTML",dt[dt.STYLE=2]="STYLE",dt[dt.SCRIPT=3]="SCRIPT",dt[dt.URL=4]="URL",dt[dt.RESOURCE_URL=5]="RESOURCE_URL",dt))();function CA(t){const e=tc();return e?e.sanitize(dt.URL,t)||"":Ju(t,"URL")?Gi(t):function Km(t){return(t=String(t)).match($G)?t:"unsafe:"+t}(re(t))}function TA(t){const e=tc();if(e)return yA(e.sanitize(dt.RESOURCE_URL,t)||"");if(Ju(t,"ResourceURL"))return yA(Gi(t));throw new R(904,!1)}function tc(){const t=T();return t&&t[nm]}const th=new G("ENVIRONMENT_INITIALIZER"),AA=new G("INJECTOR",-1),xA=new G("INJECTOR_DEF_TYPES");class MA{get(e,n=Nu){if(n===Nu){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return n}}function JG(...t){return{\u0275providers:RA(0,t),\u0275fromNgModule:!0}}function RA(t,...e){const n=[],r=new Set;let i;return Ss(e,s=>{const o=s;Zm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&kA(i,n),n}function kA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Jm(i,s=>{e.push(s)})}}function Zm(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=F0(t);const o=!s&&Ce(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=F0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Zm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ss(s.imports,l=>{Zm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&kA(c,e)}if(!a){const c=bs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ie},{provide:xA,useValue:i,multi:!0},{provide:th,useValue:()=>W(i),multi:!0})}const u=s.providers;null==u||a||Jm(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Jm(t,e){for(let n of t)Qg(n)&&(n=n.\u0275providers),Array.isArray(n)?Jm(n,e):e(n)}const eH=Re({provide:String,useValue:Re});function ey(t){return null!==t&&"object"==typeof t&&eH in t}function xs(t){return"function"==typeof t}const ty=new G("Set Injector scope."),nh={},nH={};let ny;function rh(){return void 0===ny&&(ny=new MA),ny}class oi{}class PA extends oi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iy(e,o=>this.processProvider(o)),this.records.set(AA,Xo(void 0,this)),i.has("environment")&&this.records.set(oi,Xo(void 0,this));const s=this.records.get(ty);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(xA.multi,Ie,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=No(this),r=er(void 0);try{return e()}finally{No(n),er(r)}}get(e,n=Nu,r=Z.Default){this.assertNotDestroyed(),r=Sd(r);const i=No(this),s=er(void 0);try{if(!(r&Z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function aH(t){return"function"==typeof t||"object"==typeof t&&t instanceof G}(e)&&bd(e);a=u&&this.injectableDefInScope(u)?Xo(ry(e),nh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Z.Self?rh():this.parent).get(e,n=r&Z.Optional&&n===Nu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Td]=o[Td]||[]).unshift(Ne(e)),i)throw o;return function NB(t,e,n,r){const i=t[Td];throw e[U0]&&i.unshift(e[U0]),t.message=function OB(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==MB?t.slice(2):t;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xB,"\n  ")}`}("\n"+t.message,i,n,r),t[AB]=i,t[Td]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{er(s),No(i)}}resolveInjectorInitializers(){const e=No(this),n=er(void 0);try{const r=this.get(th.multi,Ie,Z.Self);for(const i of r)i()}finally{No(e),er(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let n=xs(e=X(e))?e:X(e&&e.provide);const r=function iH(t){return ey(t)?Xo(void 0,t.useValue):Xo(function FA(t,e,n){let r;if(xs(t)){const i=X(t);return bs(i)||ry(i)}if(ey(t))r=()=>X(t.useValue);else if(function OA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Jg(t.deps||[]));else if(function NA(t){return!(!t||!t.useExisting)}(t))r=()=>W(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function sH(t){return!!t.deps}(t))return bs(i)||ry(i);r=()=>new i(...Jg(t.deps))}return r}(t),nh)}(e);if(xs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Xo(void 0,nh,!0),i.factory=()=>Jg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===nh&&(n.value=nH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function oH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ry(t){const e=bd(t),n=null!==e?e.factory:bs(t);if(null!==n)return n;if(t instanceof G)throw new R(204,!1);if(t instanceof Function)return function rH(t){const e=t.length;if(e>0)throw function qu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new R(204,!1);const n=function bB(t){const e=t&&(t[Cd]||t[L0]);return e?(function CB(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),e):null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new R(204,!1)}function Xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iy(t,e){for(const n of t)Array.isArray(n)?iy(n,e):n&&Qg(n)?iy(n.\u0275providers,e):e(n)}class uH{}class LA{}class lH{resolveComponentFactory(e){throw function cH(t){const e=Error(`No component factory found for ${Ne(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let nc=(()=>{class t{}return t.NULL=new lH,t})();function dH(){return Zo(Lt(),T())}function Zo(t,e){return new $n(Ln(t,e))}let $n=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=dH,t})();class UA{}let ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function fH(){const t=T(),n=Vn(Lt().index,t);return(Fn(n)?n:t)[de]}(),t})(),pH=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>null}),t})();class Jo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $A=new Jo("15.2.2"),sy={},oy="ngOriginalError";function ay(t){return t[oy]}class ea{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ay(e);for(;n&&ay(n);)n=ay(n);return n||null}}function ui(t){return t instanceof Function?t():t}function jA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const GA="ng-template";function CH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==jA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function HA(t){return 4===t.type&&t.value!==GA}function TH(t,e,n){return e===(4!==t.type||n?t.value:GA)}function SH(t,e,n){let r=4;const i=t.attrs||[],s=function MH(t){for(let e=0;e<t.length;e++)if(mS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!TH(t,u,n)||""===u&&1===e.length){if(pr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!CH(t.attrs,c,n)){if(pr(r))return!1;o=!0}continue}const d=AH(8&r?"class":u,i,HA(t),n);if(-1===d){if(pr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==jA(f,c,0)||2&r&&c!==h){if(pr(r))return!1;o=!0}}}}else{if(!o&&!pr(r)&&!pr(u))return!1;if(o&&pr(u))continue;o=!1,r=u|1&r}}return pr(r)||o}function pr(t){return 0==(1&t)}function AH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function RH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function zA(t,e,n=!1){for(let r=0;r<e.length;r++)if(SH(t,e[r],n))return!0;return!1}function qA(t,e){return t?":not("+e.trim()+")":e}function NH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!pr(o)&&(e+=qA(s,i),i=""),r=o,s=s||!pr(r);n++}return""!==i&&(e+=qA(s,i)),e}const se={};function ih(t){WA(ye(),T(),un()+t,!1)}function WA(t,e,n,r){if(!r)if(3==(3&e[ue])){const s=t.preOrderCheckHooks;null!==s&&Ld(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Vd(e,s,0,n)}Cs(n)}function XA(t,e=null,n=null,r){const i=ZA(t,e,n,r);return i.resolveInjectorInitializers(),i}function ZA(t,e=null,n=null,r,i=new Set){const s=[n||Ie,JG(t)];return r=r||("object"==typeof t?void 0:Ne(t)),new PA(s,e||rh(),r||null,i)}let Bn=(()=>{class t{static create(n,r){if(Array.isArray(n))return XA({name:""},r,n,"");{const i=n.name??"";return XA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Nu,t.NULL=new MA,t.\u0275prov=K({token:t,providedIn:"any",factory:()=>W(AA)}),t.__NG_ELEMENT_ID__=-1,t})();function x(t,e=Z.Default){const n=T();return null===n?W(t,e):CS(Lt(),n,X(t),e)}function ox(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];dm(n[r]),o.contentQueries(2,e[s],s)}}}function oh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ni]=i,d[ue]=76|r,(null!==l||t&&1024&t[ue])&&(d[ue]|=1024),nS(d),d[We]=d[Fo]=t,d[Je]=n,d[Md]=o||t&&t[Md],d[de]=a||t&&t[de],d[nm]=u||t&&t[nm]||null,d[xd]=c||t&&t[xd]||null,d[Qt]=s,d[Uu]=function eG(){return Jj++}(),d[q0]=l,d[Yt]=2==e.type?t[Yt]:d,d}function ra(t,e,n,r,i){let s=t.data[e];if(null===s)s=function hy(t,e,n,r,i){const s=sS(),o=am(),u=t.data[e]=function sz(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function ij(){return ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Bu(){const t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xr(s,!0),s}function rc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fy(t,e,n){hm(e);try{const r=t.viewQuery;null!==r&&Dy(1,r,n);const i=t.template;null!==i&&ax(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ox(t,e),t.staticViewQueries&&Dy(2,t.viewQuery,n);const s=t.components;null!==s&&function nz(t,e){for(let n=0;n<e.length;n++)bz(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ue]&=-5,fm()}}function ah(t,e,n,r){const i=e[ue];if(128!=(128&i)){hm(e);try{nS(e),function aS(t){return ie.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ax(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ld(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Vd(e,c,0,null),pm(e,0)}if(function Ez(t){for(let e=Pm(t);null!==e;e=Fm(e)){if(!e[W0])continue;const n=e[Vo];for(let r=0;r<n.length;r++){const i=n[r];512&i[ue]||om(i[We],1),i[ue]|=512}}}(e),function Iz(t){for(let e=Pm(t);null!==e;e=Fm(e))for(let n=on;n<e.length;n++){const r=e[n],i=r[V];Pd(r)&&ah(i,r,i.template,r[Je])}}(e),null!==t.contentQueries&&ox(t,e),o){const c=t.contentCheckHooks;null!==c&&Ld(e,c)}else{const c=t.contentHooks;null!==c&&Vd(e,c,1),pm(e,1)}!function ez(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Cs(~i);else{const s=i,o=n[++r],a=n[++r];sj(o,s),a(2,e[s])}}}finally{Cs(-1)}}(t,e);const a=t.components;null!==a&&function tz(t,e){for(let n=0;n<e.length;n++)Dz(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Dy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ld(e,c)}else{const c=t.viewHooks;null!==c&&Vd(e,c,2),pm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ue]&=-41,512&e[ue]&&(e[ue]&=-513,om(e[We],-1))}finally{fm()}}}function ax(t,e,n,r,i){const s=un(),o=2&r;try{Cs(-1),o&&e.length>Le&&WA(t,e,Le,!1),rr(o?2:0,i),n(r,i)}finally{Cs(s),rr(o?3:1,i)}}function py(t,e,n){if(im(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function gy(t,e,n){iS()&&(function dz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;$u(n)&&function _z(t,e,n){const r=Ln(e,t),i=ux(n),s=t[Md],o=uh(t,oh(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jd(n,e),Xt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ts(e,t,a,n);Xt(c,e),null!==o&&vz(0,a-i,c,u,0,o),fr(u)&&(Vn(n.index,e)[Je]=Ts(e,t,a,n))}}(t,e,n,Ln(n,e)),64==(64&n.flags)&&px(t,e,n))}function my(t,e,n=Ln){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ux(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=yy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function yy(t,e,n,r,i,s,o,a,u,c){const l=Le+r,d=l+i,h=function rz(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:se);return n}(l,d),f="function"==typeof c?c():c;return h[V]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function lx(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?dx(n,e,i,s):r.hasOwnProperty(i)&&dx(n,e,r[i],s)}return n}function dx(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function hx(t,e){const n=Vn(e,t);16&n[ue]||(n[ue]|=32)}function _y(t,e,n,r){if(iS()){const i=null===r?null:{"":-1},s=function fz(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(zA(e,o.selectors,!1))if(r||(r=[]),fr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),vy(t,e,a.length)}else r.unshift(o),vy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&fx(t,e,n,o,i,a),i&&function pz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new R(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Gu(n.mergedAttrs,n.attrs)}function fx(t,e,n,r,i,s){for(let c=0;c<r.length;c++)wm(jd(n,e),t,r[c].type);!function mz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=rc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Gu(n.mergedAttrs,l.hostAttrs),yz(t,n,e,u,l),gz(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function oz(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=lx(d.inputs,l,u,h?h.inputs:null),c=lx(d.outputs,l,c,p);const g=null===u||null===o||HA(e)?null:wz(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function px(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function oj(){return ie.lFrame.currentDirectiveIndex}();try{Cs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];cm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&hz(u,c)}}finally{Cs(-1),cm(o)}}function hz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function vy(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function gz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function yz(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bs(i.type)),o=new ju(s,fr(i),x);t.blueprint[r]=o,n[r]=o,function cz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function lz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,rc(t,n,i.hostVars,se),i)}function Rr(t,e,n,r,i,s){const o=Ln(t,e);!function wy(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?re(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[de],o,s,t.value,n,r,i)}function vz(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function wz(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function gx(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function Dz(t,e){const n=Vn(e,t);if(Pd(n)){const r=n[V];48&n[ue]?ah(r,n,r.template,n[Je]):n[Ds]>0&&Iy(n)}}function Iy(t){for(let r=Pm(t);null!==r;r=Fm(r))for(let i=on;i<r.length;i++){const s=r[i];if(Pd(s))if(512&s[ue]){const o=s[V];ah(o,s,o.template,s[Je])}else s[Ds]>0&&Iy(s)}const n=t[V].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Vn(n[r],t);Pd(i)&&i[Ds]>0&&Iy(i)}}function bz(t,e){const n=Vn(e,t),r=n[V];(function Cz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),fy(r,n,n[Je])}function uh(t,e){return t[Lu]?t[z0][dr]=e:t[Lu]=e,t[z0]=e,e}function Ey(t){for(;t;){t[ue]|=32;const e=Xu(t);if(VB(t)&&!e)return t;t=e}return null}function ch(t,e,n,r=!0){const i=e[Md];i.begin&&i.begin();try{ah(t,e,t.template,n)}catch(o){throw r&&vx(e,o),o}finally{i.end&&i.end()}}function Dy(t,e,n){dm(0),e(t,n)}function mx(t){return t[Po]||(t[Po]=[])}function yx(t){return t.cleanup||(t.cleanup=[])}function vx(t,e){const n=t[xd],r=n?n.get(ea,null):null;r&&r.handleError(e)}function by(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ci(t,e,n){const r=function Od(t,e){return Ft(e[t])}(e,t);!function JS(t,e,n){t.setValue(e,n)}(t[de],r,n)}function lh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Wg(i,a):2==s&&(r=Wg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function dh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ft(s)),hr(s))for(let a=on;a<s.length;a++){const u=s[a],c=u[V].firstChild;null!==c&&dh(u[V],u,c,r)}const o=n.type;if(8&o)dh(t,e,n.child,r);else if(32&o){const a=Om(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=lA(e,n);if(Array.isArray(a))r.push(...a);else{const u=Xu(e[Yt]);dh(u[V],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ic{get rootNodes(){const e=this._lView,n=e[V];return dh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return 128==(128&this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[We];if(hr(e)){const n=e[kd],r=n?n.indexOf(this):-1;r>-1&&(Um(e,r),zd(n,r))}this._attachedToViewContainer=!1}tA(this._lView[V],this._lView)}onDestroy(e){!function cx(t,e,n,r){const i=mx(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&yx(t).push(r,i.length-1))}(this._lView[V],this._lView,null,e)}markForCheck(){Ey(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-65}reattach(){this._lView[ue]|=64}detectChanges(){ch(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gG(t,e){Zu(t,e,e[de],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class Tz extends ic{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ch(e[V],e,e[Je],!1)}checkNoChanges(){}get context(){return null}}class wx extends nc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ce(e);return new sc(n,this.ngModule)}}function Ix(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Az{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sd(r);const i=this.injector.get(e,sy,r);return i!==sy||n===sy?i:this.parentInjector.get(e,n,r)}}class sc extends LA{get inputs(){return Ix(this.componentDef.inputs)}get outputs(){return Ix(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function OH(t){return t.map(NH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof oi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Az(e,s):e,a=o.get(UA,null);if(null===a)throw new R(407,!1);const u=o.get(pH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function iz(t,e,n){return t.selectRootElement(e,n===Sr.ShadowDom)}(c,r,this.componentDef.encapsulation):Vm(c,l,function Sz(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=yy(0,null,null,1,0,null,null,null,null,null),p=oh(null,f,null,h,null,null,a,c,u,o,null);let g,m;hm(p);try{const D=this.componentDef;let S,w=null;D.findHostDirectiveDefs?(S=[],w=new Map,D.findHostDirectiveDefs(D,S,w),S.push(D)):S=[D];const L=function Mz(t,e){const n=t[V],r=Le;return t[r]=e,ra(n,r,2,"#host",null)}(p,d),H=function Rz(t,e,n,r,i,s,o,a){const u=i[V];!function kz(t,e,n,r){for(const i of t)e.mergedAttrs=Gu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(lh(e,e.mergedAttrs,!0),null!==n&&fA(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=oh(i,ux(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&vy(u,t,r.length-1),uh(i,l),i[t.index]=l}(L,d,D,S,p,a,c);m=tS(f,Le),d&&function Oz(t,e,n,r){if(r)mm(t,n,["ng-version",$A.full]);else{const{attrs:i,classes:s}=function PH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!pr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&mm(t,n,i),s&&s.length>0&&hA(t,n,s.join(" "))}}(c,D,d,r),void 0!==n&&function Pz(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function Nz(t,e,n,r,i,s){const o=Lt(),a=i[V],u=Ln(o,i);fx(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Xt(Ts(i,a,o.directiveStart+l,o),i);px(a,i,o),u&&Xt(u,i);const c=Ts(i,a,o.directiveStart+o.componentOffset,o);if(t[Je]=i[Je]=c,null!==s)for(const l of s)l(c,e);return py(a,o,t),c}(H,D,S,w,p,[Fz]),fy(f,p,null)}finally{fm()}return new xz(this.componentType,g,Zo(m,p),p,m)}}class xz extends uH{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Tz(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;by(s[V],s,i,e,n),hx(s,this._tNode.index)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Fz(){const t=Lt();Fd(T()[V],t)}function hh(t){return!!function Ty(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Nr(t,e,n,r){const i=T();return Zt(i,$o(),e)&&(ye(),Rr(He(),i,t,e,n,r)),Nr}function oa(t,e,n,r,i,s){const a=function Ms(t,e,n,r){const i=Zt(t,e,n);return Zt(t,e+1,r)||i}(t,function ri(){return ie.lFrame.bindingIndex}(),n,i);return function ii(t){const e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2),a?e+re(n)+r+re(i)+s:se}function Sy(t,e,n){const r=T();return Zt(r,$o(),e)&&function jn(t,e,n,r,i,s,o,a){const u=Ln(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(by(t,n,l,r,i),$u(e)&&hx(n,e.index)):3&e.type&&(r=function az(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ye(),He(),r,t,e,r[de],n,!1),Sy}function Ay(t,e,n,r,i){const o=i?"class":"style";by(t,n,e.inputs[o],o,r)}function St(t,e,n,r){const i=T(),s=ye(),o=Le+t,a=i[de],u=s.firstCreatePass?function Jz(t,e,n,r,i,s){const o=e.consts,u=ra(e,t,2,r,ji(o,i));return _y(e,n,u,ji(o,s)),null!==u.attrs&&lh(u,u.attrs,!1),null!==u.mergedAttrs&&lh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=Vm(a,e,function pj(){return ie.lFrame.currentNamespace}()),l=Nd(u);return xr(u,!0),fA(a,c,u),32!=(32&u.flags)&&Yd(s,i,c,u),0===function YB(){return ie.lFrame.elementDepthCount}()&&Xt(c,i),function XB(){ie.lFrame.elementDepthCount++}(),l&&(gy(s,i,u),py(s,u,i)),null!==r&&my(i,u),St}function wt(){let t=Lt();am()?function um(){ie.lFrame.isParent=!1}():(t=t.parent,xr(t,!1));const e=t;!function ZB(){ie.lFrame.elementDepthCount--}();const n=ye();return n.firstCreatePass&&(Fd(n,t),im(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function _j(t){return 0!=(8&t.flags)}(e)&&Ay(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function vj(t){return 0!=(16&t.flags)}(e)&&Ay(n,e,T(),e.stylesWithoutHost,!1),wt}function li(t,e,n,r){return St(t,e,n,r),wt(),li}function ac(t){return!!t&&"function"==typeof t.then}const Ry=function Lx(t){return!!t&&"function"==typeof t.subscribe};function or(t,e,n,r){const i=T(),s=ye(),o=Lt();return function Ux(t,e,n,r,i,s,o){const a=Nd(r),c=t.firstCreatePass&&yx(t),l=e[Je],d=mx(e);let h=!0;if(3&r.type||o){const g=Ln(r,e),m=o?o(g):g,D=d.length,S=o?L=>o(Ft(L[r.index])):r.index;let w=null;if(!o&&a&&(w=function nq(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Po],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=Bx(r,e,l,s,!1);const L=n.listen(m,i,s);d.push(s,L),c&&c.push(i,S,D,D+1)}}else s=Bx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const H=e[p[m]][p[m+1]].subscribe(s),q=d.length;d.push(s,H),c&&c.push(i,r.index,q,-(q+1))}}}(s,i,i[de],o,t,e,r),or}function $x(t,e,n,r){try{return rr(6,e,n),!1!==n(r)}catch(i){return vx(t,i),!1}finally{rr(7,e,n)}}function Bx(t,e,n,r,i){return function s(o){if(o===Function)return r;Ey(t.componentOffset>-1?Vn(t.index,e):e);let u=$x(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=$x(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ln(t,e=""){const n=T(),r=ye(),i=t+Le,s=r.firstCreatePass?ra(r,i,1,e,null):r.data[i],o=n[i]=function Lm(t,e){return t.createText(e)}(n[de],e);Yd(r,n,o,s),xr(s,!1)}function Ly(t){return Vy("",t,""),Ly}function Vy(t,e,n){const r=T(),i=function sa(t,e,n,r){return Zt(t,$o(),n)?e+re(n)+r:se}(r,t,e,n);return i!==se&&ci(r,un(),i),Vy}function Uy(t,e,n,r,i){const s=T(),o=oa(s,t,e,n,r,i);return o!==se&&ci(s,un(),o),Uy}const ga="en-US";let RM=ga;class ma{}class rR{}class iR extends ma{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wx(this);const r=Pn(e);this._bootstrapComponents=ui(r.bootstrap),this._r3Injector=ZA(e,n,[{provide:ma,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qy extends rR{constructor(e){super(),this.moduleType=e}create(e){return new iR(this.moduleType,e)}}class W3 extends ma{constructor(e,n,r){super(),this.componentFactoryResolver=new wx(this),this.instance=null;const i=new PA([...e,{provide:ma,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],n||rh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ih(t,e,n=null){return new W3(t,e,n).injector}let K3=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=RA(0,n.type),i=r.length>0?Ih([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=K({token:t,providedIn:"environment",factory:()=>new t(W(oi))}),t})();function sR(t){t.getStandaloneInjector=e=>e.get(K3).getOrCreateStandaloneInjector(t)}function Ky(t){return e=>{setTimeout(t,void 0,e)}}const Qe=class wW extends Yn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ky(s),i&&(i=Ky(i)),o&&(o=Ky(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof at&&e.add(a),a}};let di=(()=>{class t{}return t.__NG_ELEMENT_ID__=bW,t})();const EW=di,DW=class extends EW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=oh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Vu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Ar];return null!==o&&(i[Ar]=o.createEmbeddedView(r)),fy(r,i,e),new ic(i)}};function bW(){return function Eh(t,e){return 4&t.type?new DW(e,t,Zo(t,e)):null}(Lt(),T())}let yr=(()=>{class t{}return t.__NG_ELEMENT_ID__=CW,t})();function CW(){return function vR(t,e){let n;const r=e[t.index];if(hr(r))n=r;else{let i;if(8&t.type)i=Ft(r);else{const s=e[de];i=s.createComment("");const o=Ln(t,e);As(s,Qd(s,o),i,function EG(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=gx(r,e,i,t),uh(e,n)}return new yR(n,t,e)}(Lt(),T())}const TW=yr,yR=class extends TW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const e=vm(this._hostTNode,this._hostLView);if(vS(e)){const n=$d(e,this._hostLView),r=Ud(e);return new jo(n[V].data[r+8],n)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=_R(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function zu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new sc(Ce(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(oi,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[V];if(function QB(t){return hr(t[We])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[We],h=new yR(d,d[Qt],d[We]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function yG(t,e,n,r){const i=on+r,s=n.length;r>0&&(n[i-1][dr]=e),r<s-on?(e[dr]=n[i],RS(n,on+r,e)):(n.push(e),e[dr]=null),e[We]=n;const o=e[Vu];null!==o&&n!==o&&function _G(t,e){const n=t[Vo];e[Yt]!==e[We][We][Yt]&&(t[W0]=!0),null===n?t[Vo]=[e]:n.push(e)}(o,e);const a=e[Ar];null!==a&&a.insertView(t),e[ue]|=64}(i,r,o,s);const a=jm(s,o),u=r[de],c=Qd(u,o[Rd]);return null!==c&&function pG(t,e,n,r,i,s){r[ni]=i,r[Qt]=e,Zu(t,r,n,1,i,s)}(i,o[Qt],u,r,c,a),e.attachToViewContainerRef(),RS(Yy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=_R(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Um(this._lContainer,n);r&&(zd(Yy(this._lContainer),n),tA(r[V],r))}detach(e){const n=this._adjustIndex(e,-1),r=Um(this._lContainer,n);return r&&null!=zd(Yy(this._lContainer),n)?new ic(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _R(t){return t[kd]}function Yy(t){return t[kd]||(t[kd]=[])}function bh(...t){}const Ch=new G("Application Initializer");let Th=(()=>{class t{constructor(n){this.appInits=n,this.resolve=bh,this.reject=bh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(ac(s))n.push(s);else if(Ry(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(W(Ch,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yc=new G("AppId",{providedIn:"root",factory:function zR(){return`${a_()}${a_()}${a_()}`}});function a_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qR=new G("Platform Initializer"),Sh=new G("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let e4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const hi=new G("LocaleId",{providedIn:"root",factory:()=>ge(hi,Z.Optional|Z.SkipSelf)||function t4(){return typeof $localize<"u"&&$localize.locale||ga}()});class r4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let WR=(()=>{class t{compileModuleSync(n){return new qy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ui(Pn(n).declarations).reduce((o,a)=>{const u=Ce(a);return u&&o.push(new sc(u)),o},[]);return new r4(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const o4=(()=>Promise.resolve(0))();function u_(t){typeof Zone>"u"?o4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function a4(){let t=Fe.requestAnimationFrame,e=Fe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function l4(t){const e=()=>{!function c4(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,l_(t),t.isCheckStableRunning=!0,c_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),l_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return YR(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),XR(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return YR(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),XR(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,l_(t),c_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new R(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,u4,bh,bh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const u4={};function c_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function l_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function YR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XR(t){t._nesting--,c_(t)}class d4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ZR=new G(""),Ah=new G("");let f_,d_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,f_||(function h4(t){f_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),u_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())u_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(W(Be),W(h_),W(Ah))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),h_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return f_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const fi=!1;let zi=null;const JR=new G("AllowMultipleToken"),p_=new G("PlatformDestroyListeners"),ek=new G("appBootstrapListener");class tk{constructor(e,n){this.name=e,this.token=n}}function rk(t,e,n=[]){const r=`Platform: ${e}`,i=new G(r);return(s=[])=>{let o=g_();if(!o||o.injector.get(JR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function g4(t){if(zi&&!zi.get(JR,!1))throw new R(400,!1);zi=t;const e=t.get(sk);(function nk(t){const e=t.get(qR,null);e&&e.forEach(n=>n())})(t)}(function ik(t=[],e){return Bn.create({name:e,providers:[{provide:ty,useValue:"platform"},{provide:p_,useValue:new Set([()=>zi=null])},...t]})}(a,r))}return function y4(t){const e=g_();if(!e)throw new R(401,!1);return e}()}}function g_(){return zi?.get(sk)??null}let sk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ak(t,e){let n;return n="noop"===t?new d4:("zone.js"===t?void 0:t)||new Be(e),n}(r?.ngZone,function ok(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Be,useValue:i}];return i.run(()=>{const o=Bn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(ea,null);if(!u)throw new R(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Mh(this._modules,a),c.unsubscribe()})}),function uk(t,e,n){try{const r=n();return ac(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Th);return c.runInitializers(),c.donePromise.then(()=>(function kM(t){Jn(t,"Expected localeId to be defined"),"string"==typeof t&&(RM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(hi,ga)||ga),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=ck({},r);return function f4(t,e,n){const r=new qy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(xh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new R(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(p_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(W(Bn))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function ck(t,e){return Array.isArray(e)?e.reduce(ck,t):{...t,...e}}let xh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ke(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ke(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),u_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function gB(...t){const e=ku(t),n=function uB(t,e){return"number"==typeof Hg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Zn(r[0]):ko(n)(lt(r,e)):Cr}(s,o.pipe(function mB(t={}){const{connector:e=(()=>new Yn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ut((g,m)=>{c++,!d&&!l&&h();const D=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=zg(p,i))}),D.subscribe(m),!o&&c>0&&(o=new Ui({next:S=>D.next(S),error:S=>{d=!0,h(),a=zg(f,n,S),D.error(S)},complete:()=>{l=!0,h(),a=zg(f,r),D.complete()}}),Zn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof LA;if(!this._injector.get(Th).done){!i&&function Oo(t){const e=Ce(t)||Kt(t)||sn(t);return null!==e&&e.standalone}(n);throw new R(405,fi)}let o;o=i?n:this._injector.get(nc).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function p4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ma),c=o.create(Bn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(ZR,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Mh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Mh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ek,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Mh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new R(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(W(Be),W(oi),W(ea))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Mh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Rh=(()=>{class t{}return t.__NG_ELEMENT_ID__=v4,t})();function v4(t){return function w4(t,e,n){if($u(t)&&!n){const r=Vn(t.index,e);return new ic(r,r)}return 47&t.type?new ic(e[Yt],e):null}(Lt(),T(),16==(16&t))}class pk{constructor(){}supports(e){return hh(e)}create(e){return new T4(e)}}const C4=(t,e)=>e;class T4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||C4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<mk(r,i,s)?n:r,a=mk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!hh(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Wz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new S4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new gk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class S4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class A4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class gk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new A4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _k(){return new Oh([new pk])}let Oh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_k()),deps:[[t,new Wu,new cn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new R(901,!1)}}return t.\u0275prov=K({token:t,providedIn:"root",factory:_k}),t})();const N4=rk(null,"core",[]);let O4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(W(xh))},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({}),t})();function va(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let w_=null;function pi(){return w_}class L4{}const Dn=new G("DocumentToken");let I_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return function V4(){return W(wk)}()},providedIn:"platform"}),t})();const U4=new G("Location Initialized");let wk=(()=>{class t extends I_{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pi().getBaseHref(this._doc)}onPopState(n){const r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){Ik()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){Ik()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(W(Dn))},t.\u0275prov=K({token:t,factory:function(){return function $4(){return new wk(W(Dn))}()},providedIn:"platform"}),t})();function Ik(){return!!window.history.pushState}function E_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ek(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gi(t){return t&&"?"!==t[0]?"?"+t:t}let Os=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return ge(bk)},providedIn:"root"}),t})();const Dk=new G("appBaseHref");let bk=(()=>{class t extends Os{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ge(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return E_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(W(I_),W(Dk,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),B4=(()=>{class t extends Os{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=E_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(W(I_),W(Dk,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),D_=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function H4(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Ek(Ck(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gi(r))}normalize(n){return t.stripTrailingSlash(function G4(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Ck(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=gi,t.joinWithSlash=E_,t.stripTrailingSlash=Ek,t.\u0275fac=function(n){return new(n||t)(W(Os))},t.\u0275prov=K({token:t,factory:function(){return function j4(){return new D_(W(Os))}()},providedIn:"root"}),t})();function Ck(t){return t.replace(/\/index.html$/,"")}class M8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lk=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new M8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Vk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Vk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(x(yr),x(di),x(Oh))},t.\u0275dir=ee({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Vk(t,e){t.context.$implicit=e.item}let i6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({}),t})();let u6=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new c6(W(Dn),window)}),t})();class c6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function l6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Gk(this.window.history)||Gk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V6 extends L4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $_ extends V6{static makeCurrent(){!function F4(t){w_||(w_=t)}(new $_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function U6(){return Ec=Ec||document.querySelector("base"),Ec?Ec.getAttribute("href"):null}();return null==n?null:function $6(t){qh=qh||document.createElement("a"),qh.setAttribute("href",t);const e=qh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function S8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let qh,Ec=null;const Kk=new G("TRANSITION_ID"),j6=[{provide:Ch,useFactory:function B6(t,e,n){return()=>{n.get(Th).donePromise.then(()=>{const r=pi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Kk,Dn,Bn],multi:!0}];let H6=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const Wh=new G("EventManagerPlugins");let Kh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(W(Wh),W(Be))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class Qk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Yk=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),Dc=(()=>{class t extends Yk{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(W(Dn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const B_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},j_=/%COMP%/g,Jk=new G("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function eN(t,e){return e.flat(100).map(n=>n.replace(j_,t))}function tN(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let G_=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new H_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof iN?i.applyToHost(n):i instanceof z_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case Sr.Emulated:s=new iN(o,a,r,this.appId,u);break;case Sr.ShadowDom:return new X6(o,a,n,r);default:s=new z_(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(W(Kh),W(Dc),W(yc),W(Jk))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class H_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(B_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(rN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=B_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=B_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(In.DashCase|In.Important)?e.style.setProperty(n,r,i&In.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&In.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,tN(r)):this.eventManager.addEventListener(e,n,tN(r))}}function rN(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class X6 extends H_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=eN(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class z_ extends H_{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=eN(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class iN extends z_{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function K6(t){return"_ngcontent-%COMP%".replace(j_,t)}(o),this.hostAttr=function Q6(t){return"_nghost-%COMP%".replace(j_,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Z6=(()=>{class t extends Qk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(W(Dn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const sN=["alt","control","meta","shift"],J6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let tK=(()=>{class t extends Qk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),sN.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=J6[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sN.forEach(o=>{o!==i&&(0,eK[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(W(Dn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const aN=[{provide:Sh,useValue:"browser"},{provide:qR,useValue:function nK(){$_.makeCurrent()},multi:!0},{provide:Dn,useFactory:function iK(){return function MG(t){qm=t}(document),document},deps:[]}],sK=rk(N4,"browser",aN),uN=new G(""),cN=[{provide:Ah,useClass:class G6{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?pi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:ZR,useClass:d_,deps:[Be,h_,Ah]},{provide:d_,useClass:d_,deps:[Be,h_,Ah]}],lN=[{provide:ty,useValue:"root"},{provide:ea,useFactory:function rK(){return new ea},deps:[]},{provide:Wh,useClass:Z6,multi:!0,deps:[Dn,Be,Sh]},{provide:Wh,useClass:tK,multi:!0,deps:[Dn]},{provide:G_,useClass:G_,deps:[Kh,Dc,yc,Jk]},{provide:UA,useExisting:G_},{provide:Yk,useExisting:Dc},{provide:Dc,useClass:Dc,deps:[Dn]},{provide:Kh,useClass:Kh,deps:[Wh,Be]},{provide:class d6{},useClass:H6,deps:[]},[]];let oK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:yc,useValue:n.appId},{provide:Kk,useExisting:yc},j6]}}}return t.\u0275fac=function(n){return new(n||t)(W(uN,12))},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({providers:[...lN,...cN],imports:[i6,O4]}),t})(),dN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(W(Dn))},t.\u0275prov=K({token:t,factory:function(n){let r=null;return r=n?new n:function uK(){return new dN(W(Dn))}(),r},providedIn:"root"}),t})();function pN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){pN(s,r,i,o,a,"next",u)}function a(u){pN(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const gN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new yK;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qh=function(t){return function(t){const e=gN(t);return Q_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Yh=function(t){try{return Q_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Xh=()=>{try{return function wK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},CK=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Xh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TK=()=>{var t;return null===(t=Xh())||void 0===t?void 0:t.config};class Zh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Gn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ps(){try{return"object"==typeof indexedDB}catch{return!1}}function bc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function X_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fr.prototype.create)}}class Fr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function NK(t,e){return t.replace(OK,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ir(i,`${this.serviceName}: ${o} (${i}).`,r)}}const OK=/\{\$([^}]+)}/g;function ef(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_N(s)&&_N(o)){if(!ef(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _N(t){return null!==t&&"object"==typeof t}function vN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class FK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function LK(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Z_),void 0===i.error&&(i.error=Z_),void 0===i.complete&&(i.complete=Z_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z_(){}const VK=1e3,UK=2,$K=144e5,BK=.5;function ev(t,e=VK,n=UK){const r=e*Math.pow(n,t),i=Math.round(BK*r*(Math.random()-.5)*2);return Math.min($K,r+i)}function yi(t){return t&&t._delegate?t._delegate:t}class Jt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class GK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function zK(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const tv=[];var _e=(()=>{return(t=_e||(_e={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",_e;var t})();const wN={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},WK=_e.INFO,KK={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},QK=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=KK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class wa{constructor(e){this.name=e,this._logLevel=WK,this._logHandler=QK,this._userLogHandler=null,tv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?wN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const YK=(t,e)=>e.some(n=>t instanceof n);let IN,EN;const DN=new WeakMap,nv=new WeakMap,bN=new WeakMap,rv=new WeakMap,iv=new WeakMap;let sv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||bN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function r5(t){return"function"==typeof t?function n5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ZK(){return EN||(EN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ov(this),e),_i(DN.get(this))}:function(...e){return _i(t.apply(ov(this),e))}:function(e,...n){const r=t.call(ov(this),e,...n);return bN.set(r,e.sort?e.sort():[e]),_i(r)}}(t):(t instanceof IDBTransaction&&function e5(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nv.set(t,e)}(t),YK(t,function XK(){return IN||(IN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sv):t)}function _i(t){if(t instanceof IDBRequest)return function JK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DN.set(n,t)}).catch(()=>{}),iv.set(e,t),e}(t);if(rv.has(t))return rv.get(t);const e=r5(t);return e!==t&&(rv.set(t,e),iv.set(e,t)),e}const ov=t=>iv.get(t);function tf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_i(o.result),u.oldVersion,u.newVersion,_i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function av(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),_i(n).then(()=>{})}const i5=["get","getKey","getAll","getAllKeys","count"],s5=["put","add","delete","clear"],uv=new Map;function CN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(uv.get(e))return uv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=s5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!i5.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return uv.set(e,s),s}!function t5(t){sv=t(sv)}(t=>({...t,get:(e,n,r)=>CN(e,n)||t.get(e,n,r),has:(e,n)=>!!CN(e,n)||t.has(e,n)}));class o5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function a5(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const cv="@firebase/app",Ls=new wa("@firebase/app"),nf="[DEFAULT]",N5={[cv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vs=new Map,rf=new Map;function O5(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fn(t){const e=t.name;if(rf.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;rf.set(e,t);for(const n of Vs.values())O5(n,t);return!0}function Ia(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const vi=new Fr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class F5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}const sf="9.18.0";function lv(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:nf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=TK()),!n)throw vi.create("no-options");const s=Vs.get(i);if(s){if(ef(n,s.options)&&ef(r,s.config))return s;throw vi.create("duplicate-app",{appName:i})}const o=new qK(i);for(const u of rf.values())o.addComponent(u);const a=new F5(n,r,o);return Vs.set(i,a),a}function dv(t=nf){const e=Vs.get(t);if(!e&&t===nf)return lv();if(!e)throw vi.create("no-app",{appName:t});return e}function SN(){return Array.from(Vs.values())}function nt(t,e,n){var r;let i=null!==(r=N5[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ls.warn(a.join(" "))}fn(new Jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const L5="firebase-heartbeat-database",V5=1,Cc="firebase-heartbeat-store";let fv=null;function AN(){return fv||(fv=tf(L5,V5,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Cc)}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),fv}function pv(){return(pv=_(function*(t){try{return(yield AN()).transaction(Cc).objectStore(Cc).get(MN(t))}catch(e){if(e instanceof Ir)Ls.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(n.message)}}})).apply(this,arguments)}function xN(t,e){return gv.apply(this,arguments)}function gv(){return(gv=_(function*(t,e){try{const r=(yield AN()).transaction(Cc,"readwrite");return yield r.objectStore(Cc).put(e,MN(t)),r.done}catch(n){if(n instanceof Ir)Ls.warn(n.message);else{const r=vi.create("idb-set",{originalErrorMessage:n?.message});Ls.warn(r.message)}}})).apply(this,arguments)}function MN(t){return`${t.name}!${t.options.appId}`}class j5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=RN(),{heartbeatsToSend:r,unsentEntries:i}=function G5(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Qh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function RN(){return(new Date).toISOString().substring(0,10)}class H5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Ps()&&bc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function U5(t){return pv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function kN(t){return Qh(JSON.stringify({version:2,heartbeats:t})).length}!function z5(t){fn(new Jt("platform-logger",e=>new o5(e),"PRIVATE")),fn(new Jt("heartbeat",e=>new j5(e),"PRIVATE")),nt(cv,"0.9.5",t),nt(cv,"0.9.5","esm2017"),nt("fire-js","")}(""),nt("firebase","9.18.0","app");const NN="@firebase/installations",mv="0.6.4",ON=1e4,PN=`w:${mv}`,FN="FIS_v2",K5="https://firebaseinstallations.googleapis.com/v1",Q5=36e5,wi=new Fr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function LN(t){return t instanceof Ir&&t.code.includes("request-failed")}function yv({projectId:t}){return`${K5}/projects/${t}/installations`}function VN(t){return{token:t.token,requestStatus:2,expiresIn:J5(t.expiresIn),creationTime:Date.now()}}function _v(t,e){return vv.apply(this,arguments)}function vv(){return(vv=_(function*(t,e){const r=(yield e.json()).error;return wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function UN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wv(t){return Iv.apply(this,arguments)}function Iv(){return(Iv=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function J5(t){return Number(t.replace("s","000"))}function Ev(){return(Ev=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=yv(t),i=UN(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:FN,appId:t.appId,sdkVersion:PN})},u=yield wv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:VN(c.authToken)}}throw yield _v("Create Installation",u)})).apply(this,arguments)}function BN(t){return new Promise(e=>{setTimeout(e,t)})}const r7=/^[cdef][\w-]{21}$/,Dv="";function i7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function s7(t){return function n7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return r7.test(n)?n:Dv}catch{return Dv}}function Ea(t){return`${t.appName}!${t.appId}`}const Da=new Map;function jN(t,e){const n=Ea(t);GN(n,e),function u7(t,e){const n=function HN(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=t=>{GN(t.data.key,t.data.fid)}),Us}();n&&n.postMessage({key:t,fid:e}),function zN(){0===Da.size&&Us&&(Us.close(),Us=null)}()}(n,e)}function GN(t,e){const n=Da.get(t);if(n)for(const r of n)r(e)}let Us=null;const c7="firebase-installations-database",l7=1,$s="firebase-installations-store";let bv=null;function Cv(){return bv||(bv=tf(c7,l7,{upgrade:(t,e)=>{0===e&&t.createObjectStore($s)}})),bv}function af(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=_(function*(t,e){const n=Ea(t),i=(yield Cv()).transaction($s,"readwrite"),s=i.objectStore($s),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&jN(t,e.fid),e})).apply(this,arguments)}function Sv(t){return Av.apply(this,arguments)}function Av(){return(Av=_(function*(t){const e=Ea(t),r=(yield Cv()).transaction($s,"readwrite");yield r.objectStore($s).delete(e),yield r.done})).apply(this,arguments)}function Tc(t,e){return xv.apply(this,arguments)}function xv(){return(xv=_(function*(t,e){const n=Ea(t),i=(yield Cv()).transaction($s,"readwrite"),s=i.objectStore($s),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&jN(t,a.fid),a})).apply(this,arguments)}function Mv(t){return Rv.apply(this,arguments)}function Rv(){return Rv=_(function*(t){let e;const n=yield Tc(t.appConfig,r=>{const i=function d7(t){return WN(t||{fid:i7(),registrationStatus:0})}(r),s=function h7(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(wi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function f7(t,e){return kv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:p7(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Dv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Rv.apply(this,arguments)}function kv(){return kv=_(function*(t,e){try{const n=yield function t7(t,e){return Ev.apply(this,arguments)}(t,e);return af(t.appConfig,n)}catch(n){throw LN(n)&&409===n.customData.serverCode?yield Sv(t.appConfig):yield af(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),kv.apply(this,arguments)}function p7(t){return Nv.apply(this,arguments)}function Nv(){return(Nv=_(function*(t){let e=yield qN(t.appConfig);for(;1===e.registrationStatus;)yield BN(100),e=yield qN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Mv(t);return r||n}return e})).apply(this,arguments)}function qN(t){return Tc(t,e=>{if(!e)throw wi.create("installation-not-found");return WN(e)})}function WN(t){return function g7(t){return 1===t.registrationStatus&&t.registrationTime+ON<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Ov(){return(Ov=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function y7(t,{fid:e}){return`${yv(t)}/${e}/authTokens:generate`}(t,n),i=function $N(t,{refreshToken:e}){const n=UN(t);return n.append("Authorization",function e7(t){return`${FN} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:PN,appId:t.appId}})},u=yield wv(()=>fetch(r,a));if(u.ok)return VN(yield u.json());throw yield _v("Generate Auth Token",u)})).apply(this,arguments)}function Pv(t){return Fv.apply(this,arguments)}function Fv(){return Fv=_(function*(t,e=!1){let n;const r=yield Tc(t.appConfig,s=>{if(!QN(s))throw wi.create("not-registered");const o=s.authToken;if(!e&&function w7(t){return 2===t.requestStatus&&!function I7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Q5}(t)}(o))return s;if(1===o.requestStatus)return n=function _7(t,e){return Lv.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw wi.create("app-offline");const a=function E7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function v7(t,e){return Vv.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Fv.apply(this,arguments)}function Lv(){return(Lv=_(function*(t,e){let n=yield KN(t.appConfig);for(;1===n.authToken.requestStatus;)yield BN(100),n=yield KN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Pv(t,e):r})).apply(this,arguments)}function KN(t){return Tc(t,e=>{if(!QN(e))throw wi.create("not-registered");return function D7(t){return 1===t.requestStatus&&t.requestTime+ON<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Vv(){return Vv=_(function*(t,e){try{const n=yield function m7(t,e){return Ov.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield af(t.appConfig,r),n}catch(n){if(!LN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield af(t.appConfig,r)}else yield Sv(t.appConfig);throw n}}),Vv.apply(this,arguments)}function QN(t){return void 0!==t&&2===t.registrationStatus}function Uv(){return(Uv=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Mv(e);return r?r.catch(console.error):Pv(e).catch(console.error),n.fid})).apply(this,arguments)}function $v(){return $v=_(function*(t,e=!1){const n=t;return yield function T7(t){return Bv.apply(this,arguments)}(n),(yield Pv(n,e)).token}),$v.apply(this,arguments)}function Bv(){return(Bv=_(function*(t){const{registrationPromise:e}=yield Mv(t);e&&(yield e)})).apply(this,arguments)}function Hv(t){return wi.create("missing-app-config-values",{valueName:t})}const YN="installations",R7=t=>{const e=t.getProvider("app").getImmediate(),n=function x7(t){if(!t||!t.options)throw Hv("App Configuration");if(!t.name)throw Hv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Hv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ia(e,"heartbeat"),_delete:()=>Promise.resolve()}},k7=t=>{const n=Ia(t.getProvider("app").getImmediate(),YN).getImmediate();return{getId:()=>function b7(t){return Uv.apply(this,arguments)}(n),getToken:i=>function C7(t){return $v.apply(this,arguments)}(n,i)}};(function N7(){fn(new Jt(YN,R7,"PUBLIC")),fn(new Jt("installations-internal",k7,"PRIVATE"))})(),nt(NN,mv),nt(NN,mv,"esm2017");const uf="analytics",O7="firebase_id",P7="origin",F7=6e4,L7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",XN="https://www.googletagmanager.com/gtag/js",Ut=new wa("@firebase/analytics");function ZN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zv(){return(zv=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield ZN(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ut.error(a)}t("config",i,s)})).apply(this,arguments)}function qv(){return(qv=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield ZN(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ut.error(s)}})).apply(this,arguments)}const Hn=new Fr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),q7=30,JN=new class K7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Q7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Wv(){return(Wv=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Q7(r)},s=L7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Kv(){return(Kv=_(function*(t,e=JN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Hn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Hn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new e9;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:F7),e1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function e1(t,e,n){return Qv.apply(this,arguments)}function Qv(){return Qv=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=JN){var s;const{appId:o,measurementId:a}=t;try{yield function Z7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Y7(t){return Wv.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function J7(t){if(!(t instanceof Ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?ev(n,i.intervalMillis,q7):ev(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ut.debug(`Calling attemptFetch again in ${l} millis`),e1(t,d,r,i)}}),Qv.apply(this,arguments)}class e9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Yv,nw;function Xv(){return(Xv=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function rw(){return(rw=_(function*(){if(!Ps())return Ut.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield bc()}catch(t){return Ut.warn(Hn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function iw(){return iw=_(function*(t,e,n,r,i,s,o){var a;const u=function X7(t){return Kv.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ut.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ut.error(f)),e.push(u);const c=function o9(){return rw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function H7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(XN)&&n.src.includes(t))return n;return null})(s)||function V7(t,e){const n=document.createElement("script");n.src=`${XN}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}(s,l.measurementId),nw&&(i("consent","default",nw),function t1(t){nw=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[P7]="firebase",h.update=!0,null!=d&&(h[O7]=d),i("config",l.measurementId,h),Yv&&(i("set",Yv),function n1(t){Yv=t}(void 0)),l.measurementId}),iw.apply(this,arguments)}class u9{constructor(e){this.app=e}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},r1=[];const i1={};let o1,Ei,cf="dataLayer",s1="gtag",sw=!1;function l9(t,e,n){!function c9(){const t=[];if(Y_()&&t.push("This is a browser extension environment."),X_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Hn.create("invalid-analytics-context",{errorInfo:e});Ut.warn(n.message)}}();const r=t.options.appId;if(!r)throw Hn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Hn.create("no-api-key");Ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[r])throw Hn.create("already-exists",{id:r});if(!sw){!function U7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(cf);const{wrappedGtag:s,gtagCore:o}=function G7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function j7(t,e,n,r){function s(){return s=_(function*(o,a,u){try{"event"===o?yield function B7(t,e,n,r,i){return qv.apply(this,arguments)}(t,e,n,a,u):"config"===o?yield function $7(t,e,n,r,i,s){return zv.apply(this,arguments)}(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Ut.error(c)}}),s.apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ii,r1,i1,cf,s1);Ei=s,o1=o,sw=!0}return Ii[r]=function a9(t,e,n,r,i,s,o){return iw.apply(this,arguments)}(t,r1,i1,e,o1,cf,n),new u9(t)}function f9(){return ow.apply(this,arguments)}function ow(){return(ow=_(function*(){if(Y_()||!X_()||!Ps())return!1;try{return yield bc()}catch{return!1}})).apply(this,arguments)}const a1="@firebase/analytics";!function g9(){fn(new Jt(uf,(e,{options:n})=>l9(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),fn(new Jt("analytics-internal",function t(e){try{const n=e.getProvider(uf).getImmediate();return{logEvent:(r,i,s)=>function p9(t,e,n,r){t=yi(t),function t9(t,e,n,r,i){return Xv.apply(this,arguments)}(Ei,Ii[t.app.options.appId],e,n,r).catch(i=>Ut.error(i))}(n,r,i,s)}}catch(n){throw Hn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),nt(a1,"0.9.4"),nt(a1,"0.9.4","esm2017")}();const m9_firebase={projectId:"client-control-project",appId:"1:309957568123:web:7f20109bfed2724308a4de",storageBucket:"client-control-project.appspot.com",apiKey:"AIzaSyDUQ19xEsUQDNCv2KKXZK-PfdBULBUoMBg",authDomain:"client-control-project.firebaseapp.com",messagingSenderId:"309957568123",measurementId:"G-K8FH6D0XPL"},aw=(function d9(t=dv()){const e=Ia(t=yi(t),uf);e.isInitialized()?e.getImmediate():function h9(t,e={}){const n=Ia(t,uf);if(n.isInitialized()){const i=n.getImmediate();if(ef(e,n.getOptions()))return i;throw Hn.create("already-initialized")}n.initialize({options:e})}(t)}(lv({apiKey:"AIzaSyDUQ19xEsUQDNCv2KKXZK-PfdBULBUoMBg",authDomain:"client-control-project.firebaseapp.com",projectId:"client-control-project",storageBucket:"client-control-project.appspot.com",messagingSenderId:"309957568123",appId:"1:309957568123:web:7f20109bfed2724308a4de",measurementId:"G-K8FH6D0XPL"})),"@firebase/remote-config"),Cn=new Fr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class A9{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function x9(t=navigator){return t.languages&&t.languages[0]||t.language}class M9{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:x9()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((D,S)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",S(w)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(D){let S="fetch-client-network";throw"AbortError"===D?.name&&(S="fetch-timeout"),Cn.create(S,{originalErrorMessage:D?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let D;try{D=yield h.json()}catch(S){throw Cn.create("fetch-client-parse",{originalErrorMessage:S?.message})}g=D.entries,m=D.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Cn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class N9{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function R9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function k9(t){if(!(t instanceof Ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+ev(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class F9{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function df(t,e){const n=t.target.error||void 0;return Cn.create(e,{originalErrorMessage:n&&n?.message})}const Bs="app_namespace_store";class $9{constructor(e,n,r,i=function U9(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(df(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bs,{keyPath:"compositeKey"})}}catch(n){e(Cn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Bs],"readonly").objectStore(Bs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(df(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Cn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Bs],"readwrite").objectStore(Bs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(df(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Cn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Bs],"readwrite").objectStore(Bs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(df(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Cn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class B9{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function G9(){return hw.apply(this,arguments)}function hw(){return(hw=_(function*(){if(!Ps())return!1;try{return yield bc()}catch{return!1}})).apply(this,arguments)}!function j9(){fn(new Jt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cn.create("registration-window");if(!Ps())throw Cn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Cn.create("registration-project-id");if(!o)throw Cn.create("registration-api-key");if(!a)throw Cn.create("registration-app-id");const u=new $9(a,r.name,n=n||"firebase"),c=new B9(u),l=new wa(aw);l.logLevel=_e.ERROR;const d=new M9(i,sf,n,s,o,a),h=new N9(d,u),f=new A9(h,u,c,l),p=new F9(r,f,c,u,l);return function C9(t){const e=yi(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),nt(aw,"0.4.4"),nt(aw,"0.4.4","esm2017")}();const H9="/firebase-messaging-sw.js",z9="/firebase-cloud-messaging-push-scope",h1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",q9="https://fcmregistrations.googleapis.com/v1",f1="google.c.a.c_id",W9="google.c.a.c_l",K9="google.c.a.ts",Q9="google.c.a.e";var ba=(()=>{return(t=ba||(ba={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ba;var t})();function Di(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y9(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const fw="fcm_token_details_db",X9=5,p1="fcm_token_object_Store";function pw(){return pw=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(fw))return null;let e=null;return(yield tf(fw,X9,{upgrade:(r=_(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(p1))return;const c=a.objectStore(p1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Di(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Di(d.auth),p256dh:Di(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Di(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Di(d.auth),p256dh:Di(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Di(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield av(fw),yield av("fcm_vapid_details_db"),yield av("undefined"),function J9(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),pw.apply(this,arguments)}const eQ="firebase-messaging-database",tQ=1,js="firebase-messaging-store";let gw=null;function mw(){return gw||(gw=tf(eQ,tQ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(js)}})),gw}function g1(t){return yw.apply(this,arguments)}function yw(){return yw=_(function*(t){const e=Iw(t),r=yield(yield mw()).transaction(js).objectStore(js).get(e);if(r)return r;{const i=yield function Z9(t){return pw.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield _w(t,i),i}}),yw.apply(this,arguments)}function _w(t,e){return vw.apply(this,arguments)}function vw(){return(vw=_(function*(t,e){const n=Iw(t),i=(yield mw()).transaction(js,"readwrite");return yield i.objectStore(js).put(e,n),yield i.done,e})).apply(this,arguments)}function ww(){return(ww=_(function*(t){const e=Iw(t),r=(yield mw()).transaction(js,"readwrite");yield r.objectStore(js).delete(e),yield r.done})).apply(this,arguments)}function Iw({appConfig:t}){return t.appId}const $t=new Fr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function iQ(t,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=_(function*(t,e){const n=yield Tw(t),r=y1(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Cw(t.appConfig),i)).json()}catch(o){throw $t.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Dw(){return(Dw=_(function*(t,e){const n=yield Tw(t),r=y1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Cw(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw $t.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw $t.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw $t.create("token-update-no-token");return s.token})).apply(this,arguments)}function m1(t,e){return bw.apply(this,arguments)}function bw(){return(bw=_(function*(t,e){const r={method:"DELETE",headers:yield Tw(t)};try{const s=yield(yield fetch(`${Cw(t.appConfig)}/${e}`,r)).json();if(s.error)throw $t.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw $t.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Cw({projectId:t}){return`${q9}/projects/${t}/registrations`}function Tw(t){return Sw.apply(this,arguments)}function Sw(){return(Sw=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function y1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==h1&&(i.web.applicationPubKey=r),i}const oQ=6048e5;function Aw(){return Aw=_(function*(t){const e=yield function cQ(t,e){return kw.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Di(e.getKey("auth")),p256dh:Di(e.getKey("p256dh"))},r=yield g1(t.firebaseDependencies);if(r){if(function lQ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+oQ?function uQ(t,e){return Mw.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield m1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return v1(t.firebaseDependencies,n)}return v1(t.firebaseDependencies,n)}),Aw.apply(this,arguments)}function xw(){return xw=_(function*(t){const e=yield g1(t.firebaseDependencies);e&&(yield m1(t.firebaseDependencies,e.token),yield function nQ(t){return ww.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),xw.apply(this,arguments)}function Mw(){return Mw=_(function*(t,e){try{const n=yield function sQ(t,e){return Dw.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield _w(t.firebaseDependencies,r),n}catch(n){throw yield function _1(t){return xw.apply(this,arguments)}(t),n}}),Mw.apply(this,arguments)}function v1(t,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=_(function*(t,e){const r={token:yield iQ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield _w(t,r),r.token})).apply(this,arguments)}function kw(){return(kw=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y9(e)})})).apply(this,arguments)}function w1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function dQ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function hQ(t,e){e.data&&(t.data=e.data)}(e,t),function fQ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function I1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Nw(t){return $t.create("missing-app-config-values",{valueName:t})}I1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),I1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mQ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function gQ(t){if(!t||!t.options)throw Nw("App Configuration Object");if(!t.name)throw Nw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Nw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function E1(t){return Ow.apply(this,arguments)}function Ow(){return(Ow=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(H9,{scope:z9}),t.swRegistration.update().catch(()=>{})}catch(e){throw $t.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Pw(){return(Pw=_(function*(t,e){if(!e&&!t.swRegistration&&(yield E1(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $t.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Fw(){return(Fw=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=h1)})).apply(this,arguments)}function Lw(){return Lw=_(function*(t,e){if(!navigator)throw $t.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $t.create("permission-blocked");return yield function _Q(t,e){return Fw.apply(this,arguments)}(t,e?.vapidKey),yield function yQ(t,e){return Pw.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function aQ(t){return Aw.apply(this,arguments)}(t)}),Lw.apply(this,arguments)}function Vw(){return(Vw=_(function*(t,e,n){const r=function wQ(t){switch(t){case ba.NOTIFICATION_CLICKED:return"notification_open";case ba.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[f1],message_name:n[W9],message_time:n[K9],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Uw(){return Uw=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ba.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(w1(n)):t.onMessageHandler.next(w1(n)));const r=n.data;(function pQ(t){return"object"==typeof t&&!!t&&f1 in t})(r)&&"1"===r[Q9]&&(yield function vQ(t,e,n){return Vw.apply(this,arguments)}(t,n.messageType,r))}),Uw.apply(this,arguments)}const b1="@firebase/messaging",EQ=t=>{const e=new mQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function IQ(t,e){return Uw.apply(this,arguments)}(e,n)),e},DQ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function D1(t,e){return Lw.apply(this,arguments)}(e,r)}};function T1(){return $w.apply(this,arguments)}function $w(){return($w=_(function*(){try{yield bc()}catch{return!1}return typeof window<"u"&&Ps()&&X_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bQ(){fn(new Jt("messaging",EQ,"PUBLIC")),fn(new Jt("messaging-internal",DQ,"PRIVATE")),nt(b1,"0.12.4"),nt(b1,"0.12.4","esm2017")}();class SQ extends at{constructor(e,n){super()}schedule(e,n=0){return this}}const hf={setInterval(t,e,...n){const{delegate:r}=hf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=hf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class S1 extends SQ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return hf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&hf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Li(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const A1={now:()=>(A1.delegate||Date).now(),delegate:void 0};class Sc{constructor(e,n=Sc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Sc.now=A1.now;class x1 extends Sc{constructor(e,n=Sc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const MQ=new class xQ extends x1{}(class AQ extends S1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),RQ=new x1(S1);function Bt(t,e,n){const r=Ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?ut((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ct(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Zr}const Gw=new Jo("7.5.0"),Hw="__angularfire_symbol__analyticsIsSupportedValue",zw="__angularfire_symbol__analyticsIsSupported",qw="__angularfire_symbol__remoteConfigIsSupportedValue",Ww="__angularfire_symbol__remoteConfigIsSupported",Kw="__angularfire_symbol__messagingIsSupportedValue",Qw="__angularfire_symbol__messagingIsSupported";globalThis[zw]||(globalThis[zw]=f9().then(t=>globalThis[Hw]=t).catch(()=>globalThis[Hw]=!1)),globalThis[Qw]||(globalThis[Qw]=T1().then(t=>globalThis[Kw]=t).catch(()=>globalThis[Kw]=!1)),globalThis[Ww]||(globalThis[Ww]=G9().then(t=>globalThis[qw]=t).catch(()=>globalThis[qw]=!1));const Zw=(t,e)=>{const n=e?[e]:SN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ca(){}class M1{constructor(e,n=MQ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class kQ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),n.pipe(Bt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R1=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new M1(Zone.current)),this.insideAngular=n.run(()=>new M1(Zone.current,RQ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W(Be))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Gs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Hs(t){return Gs().ngZone.run(()=>t())}function OQ(t){return Gs(),function PQ(t){return function(n){return(n=n.lift(new kQ(t.ngZone))).pipe(Id(t.outsideAngular),wd(t.insideAngular))}}(Gs())(t)}const FQ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Hs(()=>t.apply(void 0,r))},ff=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Hs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)))),r[s]=FQ(r[s],n));const i=function NQ(t){return Gs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ke){const s=Gs();return i.pipe(Id(s.outsideAngular),wd(s.insideAngular))}return Hs(()=>i)}return i instanceof ke?i.pipe(OQ):i instanceof Promise?Hs(()=>new Promise((s,o)=>i.then(a=>Hs(()=>s(a)),a=>Hs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Hs(()=>i)};class Ta{constructor(e){return e}}class k1{constructor(){return SN()}}const Jw=new G("angularfire2._apps"),VQ={provide:Ta,useFactory:function LQ(t){return t&&1===t.length?t[0]:new Ta(dv())},deps:[[new cn,Jw]]},UQ={provide:k1,deps:[[new cn,Jw]]};function $Q(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ta(r)}}let BQ=(()=>{class t{constructor(n){nt("angularfire",Gw.full,"core"),nt("angularfire",Gw.full,"app"),nt("angular",$A.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(Sh))},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({providers:[VQ,UQ]}),t})();function jQ(t,...e){return{ngModule:BQ,providers:[{provide:Jw,useFactory:$Q(t),multi:!0,deps:[Be,Bn,R1,...e]}]}}const GQ=ff(lv,!0);const HQ=function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},O1=new Fr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),P1=new wa("@firebase/auth");function pf(t,...e){P1.logLevel<=_e.ERROR&&P1.error(`Auth (${sf}): ${t}`,...e)}function Tn(t,...e){throw eI(t,...e)}function Lr(t,...e){return eI(t,...e)}function eI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return O1.create(t,...e)}function k(t,e,...n){if(!t)throw eI(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pf(e),new Error(e)}function Wi(t,e){t||Vr(e)}const L1=new Map;function bi(t){Wi(t instanceof Function,"Expected a class definition");let e=L1.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L1.set(t,e),e)}function V1(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=function xK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}()||function RK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function WQ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tI(){return"http:"===V1()||"https:"===V1()}()||Y_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class U1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},YQ=new xc(3e4,6e4);function At(t,e,n,r){return rI.apply(this,arguments)}function rI(){return(rI=_(function*(t,e,n,r,i={}){return $1(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=vN(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),U1.fetch()(B1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function $1(t,e,n){return iI.apply(this,arguments)}function iI(){return(iI=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QQ),e);try{const i=new XQ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Mc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Mc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Mc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Mc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function F1(t,e,n){const r=Object.assign(Object.assign({},HQ()),{[e]:n});return new Fr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Tn(t,l)}}catch(i){if(i instanceof Ir)throw i;Tn(t,"internal-error",{message:String(i)})}})).apply(this,arguments)}function B1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function nI(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class XQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),YQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}function oI(){return(oI=_(function*(t,e){return At(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function uI(){return(uI=_(function*(t,e){return At(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cI(){return(cI=_(function*(t,e=!1){const n=yi(t),r=yield n.getIdToken(e),i=gf(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Rc(lI(i.auth_time)),issuedAtTime:Rc(lI(i.iat)),expirationTime:Rc(lI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function lI(t){return 1e3*Number(t)}function gf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yh(n);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ti(t,e){return dI.apply(this,arguments)}function dI(){return(dI=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ir&&function rY({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class iY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class j1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kc(t){return hI.apply(this,arguments)}function hI(){return hI=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ti(t,function eY(t,e){return uI.apply(this,arguments)}(n,{idToken:r}));k(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function aY(t){return t.map(e=>{var{providerId:n}=e,r=jg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function oY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new j1(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),hI.apply(this,arguments)}function fI(){return(fI=_(function*(t){const e=yi(t);yield kc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function pI(){return(pI=_(function*(t,e){const n=yield $1(t,{},_(function*(){const r=vN({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=B1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",U1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function nY(t){const e=gf(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function uY(t,e){return pI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Nc;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nc,this.toJSON())}_performRefresh(){return Vr("not implemented")}}function Ki(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new j1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield Ti(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function tY(t){return cI.apply(this,arguments)}(this,e)}reload(){return function sY(t){return fI.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield kc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield Ti(e,function ZQ(t,e){return oI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,D=null!==(c=n.createdAt)&&void 0!==c?c:void 0,S=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:L,isAnonymous:H,providerData:q,stsTokenManager:mt}=n;k(w&&mt,e,"internal-error");const Qr=Nc.fromJSON(this.name,mt);k("string"==typeof w,e,"internal-error"),Ki(d,e.name),Ki(h,e.name),k("boolean"==typeof L,e,"internal-error"),k("boolean"==typeof H,e,"internal-error"),Ki(f,e.name),Ki(p,e.name),Ki(g,e.name),Ki(m,e.name),Ki(D,e.name),Ki(S,e.name);const g0=new zs({uid:w,auth:e,email:h,emailVerified:L,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Qr,createdAt:D,lastLoginAt:S});return q&&Array.isArray(q)&&(g0.providerData=q.map(Qae=>Object.assign({},Qae))),m&&(g0._redirectEventId=m),g0}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Nc;i.updateFromServerResponse(n);const s=new zs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kc(s),s})()}}const G1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class Aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=mf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?zs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new Aa(bi(G1),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||bi(G1);const o=mf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=zs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Aa(s,e,r)):new Aa(s,e,r)})()}}function H1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function W1(t=Gn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function z1(t=Gn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Q1(t=Gn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function Y1(t=Gn()){return/webos/i.test(t)}(e))return"Webos";if(function gI(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function q1(t=Gn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function K1(t=Gn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function X1(t,e=[]){let n;switch(t){case"Browser":n=H1(Gn());break;case"Worker":n=`${H1(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sf}/${r}`}class dY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class hY{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z1(this),this.idTokenSubscription=new Z1(this),this.beforeStateQueue=new dY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Aa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield kc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function KQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?yi(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(bi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&bi(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield Aa.create(n,[bi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class Z1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function PK(t,e){const n=new FK(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function yO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new xc(3e4,6e4),new xc(2e3,1e4),new xc(3e4,6e4),new xc(5e3,15e3);var xO="@firebase/auth";class iZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Xh(),function oZ(t){fn(new Jt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{k(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),k(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(t)},l=new hY(a,u,c);return function qQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fn(new Jt("auth-internal",e=>{const n=function Sn(t){return yi(t)}(e.getProvider("auth").getImmediate());return new iZ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(xO,"0.21.5",function sZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),nt(xO,"0.21.5","esm2017")}("Browser");class NO{constructor(){return Zw("auth")}}const XE=new Map,OO={activated:!1,tokenObservers:[]},fZ={initialized:!1,enabled:!1};function jt(t){return XE.get(t)||Object.assign({},OO)}function Af(){return fZ}const ZE="https://content-firebaseappcheck.googleapis.com/v1",yZ="exchangeDebugToken",PO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class vZ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new Zh,yield function wZ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Zh,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const pn=new Fr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tD(){return tD=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw pn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw pn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw pn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw pn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),tD.apply(this,arguments)}const CZ="firebase-app-check-database",TZ=1,Vc="firebase-app-check-store";let Rf=null;function nD(){return nD=_(function*(t,e){const r=(yield function VO(){return Rf||(Rf=new Promise((t,e)=>{try{const n=indexedDB.open(CZ,TZ);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(pn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vc,{keyPath:"compositeKey"})}}catch(n){e(pn.create("storage-open",{originalErrorMessage:n?.message}))}}),Rf)}()).transaction(Vc,"readwrite"),s=r.objectStore(Vc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(pn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),nD.apply(this,arguments)}const Uc=new wa("@firebase/app-check");function sD(t,e){return Ps()?function AZ(t,e){return function UO(t,e){return nD.apply(this,arguments)}(function BO(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Uc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function aD(){return aD=_(function*(){const t=Af();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),aD.apply(this,arguments)}const OZ={error:"UNKNOWN_ERROR"};function PZ(t){return Q_.encodeString(JSON.stringify(t),!1)}function kf(t){return uD.apply(this,arguments)}function uD(){return uD=_(function*(t,e=!1){const n=t.app;!function FO(t){if(!jt(t).activated)throw pn.create("use-before-activation",{appName:t.name})}(n);const r=jt(n);let s,i=r.token;if(i&&!xa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(xa(u)?i=u:yield sD(n,void 0))}if(!e&&i&&xa(i))return{token:i.token};let a,o=!1;if(function jO(){return Af().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function eD(t,e){return tD.apply(this,arguments)}(function bZ(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ZE}/projects/${n}/apps/${r}:${yZ}?key=${i}`,body:{debug_token:e}}}(n,yield function GO(){return aD.apply(this,arguments)}()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield sD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield jt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Uc.warn(u.message):Uc.error(u),s=u}return i?s?a=xa(i)?{token:i.token,internalError:s}:qO(s):(a={token:i.token},r.token=i,yield sD(n,i)):a=qO(s),o&&function zO(t,e){const n=jt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),uD.apply(this,arguments)}function lD(t,e){const n=jt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function HO(t){const{app:e}=t,n=jt(e);let r=n.tokenRefresher;r||(r=function FZ(t){const{app:e}=t;return new vZ(_(function*(){let r;if(r=jt(e).token?yield kf(t,!0):yield kf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=jt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},PO.RETRIAL_MIN_WAIT,PO.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function xa(t){return t.expireTimeMillis-Date.now()>0}function qO(t){return{token:PZ(OZ),error:t}}class LZ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=jt(this.app);for(const n of e)lD(this.app,n.next);return Promise.resolve()}}const eP="app-check-internal";!function XZ(){fn(new Jt("app-check",t=>function VZ(t,e){return new LZ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(eP).initialize()})),fn(new Jt(eP,t=>function UZ(t){return{getToken:e=>kf(t,e),addTokenListener:e=>function cD(t,e,n,r){const{app:i}=t,s=jt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&xa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),HO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HO(t))}(t,"INTERNAL",e),removeTokenListener:e=>lD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),nt("@firebase/app-check","0.6.4")}();class nP{constructor(){return Zw("app-check")}}typeof window<"u"&&window;var B,nJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ai={},gD=gD||{},te=nJ||self;function Of(){}function Pf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mD="closure_uid_"+(1e9*Math.random()>>>0),iJ=0;function sJ(t,e,n){return t.call.apply(t.bind,arguments)}function oJ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return(en=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sJ:oJ).apply(null,arguments)}function Ff(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Gt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qi(){this.s=this.s,this.o=this.o}Qi.prototype.s=!1,Qi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rJ(t){Object.prototype.hasOwnProperty.call(t,mD)&&t[mD]||(t[mD]=++iJ)}(this)},Qi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Pf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var uJ=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",Of,e),te.removeEventListener("test",Of,e)}catch{}return t}();function Lf(t){return/^[\s\xa0]*$/.test(t)}var sP=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _D(t,e){return t<e?-1:t>e?1:0}function Vf(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Ur(t){return-1!=Vf().indexOf(t)}function vD(t){return vD[" "](t),t}vD[" "]=Of;var Uf,lJ=Ur("Opera"),Ma=Ur("Trident")||Ur("MSIE"),oP=Ur("Edge"),wD=oP||Ma,aP=Ur("Gecko")&&!(-1!=Vf().toLowerCase().indexOf("webkit")&&!Ur("Edge"))&&!(Ur("Trident")||Ur("MSIE"))&&!Ur("Edge"),dJ=-1!=Vf().toLowerCase().indexOf("webkit")&&!Ur("Edge");function uP(){var t=te.document;return t?t.documentMode:void 0}e:{var ID="",ED=function(){var t=Vf();return aP?/rv:([^\);]+)(\)|;)/.exec(t):oP?/Edge\/([\d\.]+)/.exec(t):Ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):dJ?/WebKit\/(\S+)/.exec(t):lJ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ED&&(ID=ED?ED[1]:""),Ma){var DD=uP();if(null!=DD&&DD>parseFloat(ID)){Uf=String(DD);break e}}Uf=ID}var hJ={};var pJ=te.document&&Ma&&(uP()||parseInt(Uf,10))||void 0;function Bc(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aP){e:{try{vD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gJ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bc.X.h.call(this)}}Gt(Bc,tn);var gJ={2:"touch",3:"pen",4:"mouse"};Bc.prototype.h=function(){Bc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jc="closure_listenable_"+(1e6*Math.random()|0),mJ=0;function yJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++mJ,this.ba=this.ea=!1}function $f(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function CD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lP(t){const e={};for(const n in t)e[n]=t[n];return e}const dP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<dP.length;s++)n=dP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bf(t){this.src=t,this.g={},this.h=0}function TD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=rP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($f(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function SD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}Bf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=SD(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new yJ(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var AD="closure_lm_"+(1e6*Math.random()|0),xD={};function fP(t,e,n,r,i){if(r&&r.once)return gP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fP(t,e[s],n,r,i);return null}return n=ND(n),t&&t[jc]?t.N(e,n,$c(r)?!!r.capture:!!r,i):pP(t,e,n,!1,r,i)}function pP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$c(i)?!!i.capture:!!i,a=RD(t);if(a||(t[AD]=a=new Bf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function _J(){const e=vJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uJ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gP(t,e[s],n,r,i);return null}return n=ND(n),t&&t[jc]?t.O(e,n,$c(r)?!!r.capture:!!r,i):pP(t,e,n,!0,r,i)}function mP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mP(t,e[s],n,r,i);else r=$c(r)?!!r.capture:!!r,n=ND(n),t&&t[jc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=SD(s=t.g[e],n,r,i))&&($f(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=RD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=SD(e,n,r,i)),(n=-1<t?e[t]:null)&&MD(n))}function MD(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[jc])TD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=RD(e))?(TD(n,t),0==n.h&&(n.src=null,e[AD]=null)):$f(t)}}}function yP(t){return t in xD?xD[t]:xD[t]="on"+t}function vJ(t,e){if(t.ba)t=!0;else{e=new Bc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&MD(t),t=n.call(r,e)}return t}function RD(t){return(t=t[AD])instanceof Bf?t:null}var kD="__closure_events_fn_"+(1e9*Math.random()>>>0);function ND(t){return"function"==typeof t?t:(t[kD]||(t[kD]=function(e){return t.handleEvent(e)}),t[kD])}function xt(){Qi.call(this),this.i=new Bf(this),this.P=this,this.I=null}function Ht(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;hP(e=new tn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=jf(o,r,!0,e)&&i}if(i=jf(o=e.g=t,r,!0,e)&&i,i=jf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=jf(o=e.g=n[s],r,!1,e)&&i}function jf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&TD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Gt(xt,Qi),xt.prototype[jc]=!0,xt.prototype.removeEventListener=function(t,e,n,r){mP(this,t,e,n,r)},xt.prototype.M=function(){if(xt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$f(n[r]);delete t.g[e],t.h--}}this.I=null},xt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var OD=te.JSON.stringify;function wJ(){var t=wP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var PD,_P=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new EJ,t=>t.reset());class EJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DJ(t){te.setTimeout(()=>{throw t},0)}function vP(t,e){PD||function bJ(){var t=te.Promise.resolve(void 0);PD=function(){t.then(CJ)}}(),FD||(PD(),FD=!0),wP.add(t,e)}var FD=!1,wP=new class IJ{constructor(){this.h=this.g=null}add(e,n){const r=_P.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function CJ(){for(var t;t=wJ();){try{t.h.call(t.g)}catch(n){DJ(n)}var e=_P;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}FD=!1}function Gf(t,e){xt.call(this),this.h=t||1,this.g=e||te,this.j=en(this.lb,this),this.l=Date.now()}function LD(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function VD(t,e,n){if("function"==typeof t)n&&(t=en(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=en(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function IP(t){t.g=VD(()=>{t.g=null,t.i&&(t.i=!1,IP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Gt(Gf,xt),(B=Gf.prototype).ca=!1,B.R=null,B.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ht(this,"tick"),this.ca&&(LD(this),this.start()))}},B.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.M=function(){Gf.X.M.call(this),LD(this),delete this.g};class TJ extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IP(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gc(t){Qi.call(this),this.h=t,this.g={}}Gt(Gc,Qi);var EP=[];function DP(t,e,n,r){Array.isArray(n)||(n&&(EP[0]=n.toString()),n=EP);for(var i=0;i<n.length;i++){var s=fP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function bP(t){CD(t.g,function(e,n){this.g.hasOwnProperty(n)&&MD(e)},t),t.g={}}function Hf(){this.g=!0}function Ra(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function MJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return OD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Gc.prototype.M=function(){Gc.X.M.call(this),bP(this)},Gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hf.prototype.Aa=function(){this.g=!1},Hf.prototype.info=function(){};var Qs={},CP=null;function zf(){return CP=CP||new xt}function TP(t){tn.call(this,Qs.Pa,t)}function Hc(t){const e=zf();Ht(e,new TP(e))}function SP(t,e){tn.call(this,Qs.STAT_EVENT,t),this.stat=e}function gn(t){const e=zf();Ht(e,new SP(e,t))}function AP(t,e){tn.call(this,Qs.Qa,t),this.size=e}function zc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}Qs.Pa="serverreachability",Gt(TP,tn),Qs.STAT_EVENT="statevent",Gt(SP,tn),Qs.Qa="timingevent",Gt(AP,tn);var qf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function UD(){}function RP(){}UD.prototype.h=null;var jD,qc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $D(){tn.call(this,"d")}function BD(){tn.call(this,"c")}function Wf(){}function Wc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Gc(this),this.O=RJ,this.T=new Gf(t=wD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kP}function kP(){this.i=null,this.g="",this.h=!1}Gt($D,tn),Gt(BD,tn),Gt(Wf,UD),Wf.prototype.g=function(){return new XMLHttpRequest},Wf.prototype.i=function(){return{}},jD=new Wf;var RJ=45e3,GD={},Kf={};function HD(t,e,n){t.K=1,t.v=Zf(xi(e)),t.s=n,t.P=!0,NP(t,null)}function NP(t,e){t.F=Date.now(),Kc(t),t.A=xi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),GP(n.i,"t",r),t.C=0,n=t.l.H,t.h=new kP,t.g=fF(t.l,n?e:null,!t.s),0<t.N&&(t.L=new TJ(en(t.La,t,t.g),t.N)),DP(t.S,t.g,"readystatechange",t.ib),e=t.H?lP(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Hc(),function SJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function OP(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function PP(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=kJ(t,n),i==Kf){4==e&&(t.o=4,gn(14),r=!1),Ra(t.j,t.m,null,"[Incomplete Response]");break}if(i==GD){t.o=4,gn(15),Ra(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ra(t.j,t.m,i,null),zD(t,i)}OP(t)&&i!=Kf&&i!=GD&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),JD(e),e.K=!0,gn(11))):(Ra(t.j,t.m,n,"[Invalid Chunked Response]"),Ys(t),Qc(t))}function kJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Kf:(n=Number(e.substring(n,r)),isNaN(n)?GD:(r+=1)+n>e.length?Kf:(e=e.substr(r,n),t.C=r+n,e))}function Kc(t){t.V=Date.now()+t.O,FP(t,t.O)}function FP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=zc(en(t.gb,t),e)}function Qf(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function Qc(t){0==t.l.G||t.I||cF(t.l,t)}function Ys(t){Qf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,LD(t.T),bP(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function zD(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||qD(n.h,t)))if(!t.J&&qD(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;ip(n),np(n)}ZD(n),gn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=zc(en(n.cb,n),6e3));if(1>=qP(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Zs(n,11)}else if((t.J||n.g==t)&&ip(n),!Lf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(WD(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,je(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=hF(r,r.H?r.ka:null,r.V),o.J){WP(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Qf(a),Kc(a)),r.g=o}else aF(r);0<n.i.length&&rp(n)}else"stop"!=c[0]&&"close"!=c[0]||Zs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Zs(n,7):XD(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Hc()}catch{}}function LP(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Pf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function OJ(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function NJ(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Pf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(B=Wc.prototype).setTimeout=function(t){this.O=t},B.ib=function(t){t=t.target;const e=this.L;e&&3==Mi(t)?e.l():this.La(t)},B.La=function(t){try{if(t==this.g)e:{const l=Mi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||wD||this.g&&(this.h.h||this.g.fa()||tF(this.g)))){this.I||4!=l||7==e||Hc(),Qf(this);var n=this.g.aa();this.Y=n;t:if(OP(this)){var r=tF(this.g);t="";var i=r.length,s=4==Mi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),Qc(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function AJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,gn(12),Ys(this),Qc(this);break e}Ra(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zD(this,n)}this.P?(PP(this,l,o),wD&&this.i&&3==l&&(DP(this.S,this.T,"tick",this.hb),this.T.start())):(Ra(this.j,this.m,o,null),zD(this,o)),4==l&&Ys(this),this.i&&!this.I&&(4==l?cF(this.l,this):(this.i=!1,Kc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,gn(12)):(this.o=0,gn(13)),Ys(this),Qc(this)}}}catch{}},B.hb=function(){if(this.g){var t=Mi(this.g),e=this.g.fa();this.C<e.length&&(Qf(this),PP(this,t,e),this.i&&4!=t&&Kc(this))}},B.cancel=function(){this.I=!0,Ys(this)},B.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function xJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hc(),gn(17)),Ys(this),this.o=2,Qc(this)):FP(this,this.V-t)};var VP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xs){this.h=void 0!==e?e:t.h,Yf(this,t.j),this.s=t.s,this.g=t.g,Xf(this,t.m),this.l=t.l,e=t.i;var n=new Zc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),UP(this,n),this.o=t.o}else t&&(n=String(t).match(VP))?(this.h=!!e,Yf(this,n[1]||"",!0),this.s=Yc(n[2]||""),this.g=Yc(n[3]||"",!0),Xf(this,n[4]),this.l=Yc(n[5]||"",!0),UP(this,n[6]||"",!0),this.o=Yc(n[7]||"")):(this.h=!!e,this.i=new Zc(null,this.h))}function xi(t){return new Xs(t)}function Yf(t,e,n){t.j=n?Yc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function UP(t,e,n){e instanceof Zc?(t.i=e,function BJ(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BP(this,r),GP(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Xc(e,UJ)),t.i=new Zc(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Zf(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,FJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function FJ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xc(e,$P,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Xc(e,$P,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xc(n,"/"==n.charAt(0)?VJ:LJ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xc(n,$J)),t.join("")};var $P=/[#\/\?@]/g,LJ=/[#\?:]/g,VJ=/[#\?]/g,UJ=/[#\?@]/g,$J=/#/g;function Zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&function PJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function BP(t,e){Yi(t),e=ka(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jP(t,e){return Yi(t),e=ka(t,e),t.g.has(e)}function GP(t,e,n){BP(t,e),0<n.length&&(t.i=null,t.g.set(ka(t,e),yD(n)),t.h+=n.length)}function ka(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HP(t){this.l=t||GJ,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ga&&te.g.Ga()&&te.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=Zc.prototype).add=function(t,e){Yi(this),this.i=null,t=ka(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},B.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},B.oa=function(){Yi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},B.W=function(t){Yi(this);let e=[];if("string"==typeof t)jP(this,t)&&(e=e.concat(this.g.get(ka(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},B.set=function(t,e){return Yi(this),this.i=null,jP(this,t=ka(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},B.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var GJ=10;function zP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function qP(t){return t.h?1:t.g?t.g.size:0}function qD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function WD(t,e){t.g?t.g.add(e):t.h=e}function WP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function KP(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return yD(t.i)}function KD(){}function HJ(){this.g=new KD}function zJ(t,e,n){const r=n||"";try{LP(t,function(i,s){let o=i;$c(i)&&(o=OD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Jc(t){this.l=t.ac||null,this.j=t.jb||!1}function ep(t,e){xt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=QD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}HP.prototype.cancel=function(){if(this.i=KP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},KD.prototype.stringify=function(t){return te.JSON.stringify(t,void 0)},KD.prototype.parse=function(t){return te.JSON.parse(t,void 0)},Gt(Jc,UD),Jc.prototype.g=function(){return new ep(this.l,this.j)},Jc.prototype.i=function(t){return function(){return t}}({}),Gt(ep,xt);var QD=0;function QP(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function el(t){t.readyState=4,t.l=null,t.j=null,t.A=null,tl(t)}function tl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(B=ep.prototype).open=function(t,e){if(this.readyState!=QD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,tl(this)},B.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||te).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,el(this)),this.readyState=QD},B.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,tl(this)),this.g&&(this.readyState=3,tl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QP(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},B.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?el(this):tl(this),3==this.readyState&&QP(this)}},B.Va=function(t){this.g&&(this.response=this.responseText=t,el(this))},B.Ua=function(t){this.g&&(this.response=t,el(this))},B.ga=function(){this.g&&el(this)},B.setRequestHeader=function(t,e){this.v.append(t,e)},B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ep.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var WJ=te.JSON.parse;function Ye(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YP,this.K=this.L=!1}Gt(Ye,xt);var YP="",KJ=/^https?$/i,QJ=["POST","PUT"];function XP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZP(t),tp(t)}function ZP(t){t.D||(t.D=!0,Ht(t,"complete"),Ht(t,"error"))}function JP(t){if(t.h&&typeof gD<"u"&&(!t.C[1]||4!=Mi(t)||2!=t.aa()))if(t.v&&4==Mi(t))VD(t.Ha,0,t);else if(Ht(t,"readystatechange"),4==Mi(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(VP)[1]||null;if(!i&&te.self&&te.self.location){var s=te.self.location.protocol;i=s.substr(0,s.length-1)}r=!KJ.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var o=2<Mi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",ZP(t)}}finally{tp(t)}}}function tp(t,e){if(t.g){eF(t);const n=t.g,r=t.C[0]?Of:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function eF(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Mi(t){return t.g?t.g.readyState:0}function tF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case YP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function nF(t){let e="";return CD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function YD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function nl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rF(t){this.Ca=0,this.i=[],this.j=new Hf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nl("baseRetryDelayMs",5e3,t),this.bb=nl("retryDelaySeedMs",1e4,t),this.$a=nl("forwardChannelMaxRetries",2,t),this.ta=nl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new HP(t&&t.concurrentRequestLimit),this.Fa=new HJ,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function XD(t){if(iF(t),3==t.G){var e=t.U++,n=xi(t.F);je(n,"SID",t.I),je(n,"RID",e),je(n,"TYPE","terminate"),rl(t,n),(e=new Wc(t,t.j,e,void 0)).K=2,e.v=Zf(xi(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(e.v.toString(),"")),!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=fF(e.l,null),e.g.da(e.v)),e.F=Date.now(),Kc(e)}dF(t)}function np(t){t.g&&(JD(t),t.g.cancel(),t.g=null)}function iF(t){np(t),t.u&&(te.clearTimeout(t.u),t.u=null),ip(t),t.h.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function rp(t){zP(t.h)||t.m||(t.m=!0,vP(t.Ja,t),t.C=0)}function sF(t,e){var n;n=e?e.m:t.U++;const r=xi(t.F);je(r,"SID",t.I),je(r,"RID",n),je(r,"AID",t.T),rl(t,r),t.o&&t.s&&YD(r,t.o,t.s),n=new Wc(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=oF(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),WD(t.h,n),HD(n,r,e)}function rl(t,e){t.ia&&CD(t.ia,function(n,r){je(e,r,n)}),t.l&&LP({},function(n,r){je(e,r,n)})}function oF(t,e,n){n=Math.min(t.i.length,n);var r=t.l?en(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{zJ(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function aF(t){t.g||t.u||(t.Z=1,vP(t.Ia,t),t.A=0)}function ZD(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=zc(en(t.Ia,t),lF(t,t.A)),t.A++,0))}function JD(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function uF(t){t.g=new Wc(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=xi(t.sa);je(e,"RID","rpc"),je(e,"SID",t.I),je(e,"CI",t.L?"0":"1"),je(e,"AID",t.T),je(e,"TYPE","xmlhttp"),rl(t,e),t.o&&t.s&&YD(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Zf(xi(e)),n.s=null,n.P=!0,NP(n,t)}function ip(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function cF(t,e){var n=null;if(t.g==e){ip(t),JD(t),t.g=null;var r=2}else{if(!qD(t.h,e))return;n=e.D,WP(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ht(r=zf(),new AP(r,n)),rp(t)}else aF(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function XJ(t,e){return!(qP(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=zc(en(t.Ja,t,e),lF(t,t.C)),t.C++,0)))}(t,e)||2==r&&ZD(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Zs(t,5);break;case 4:Zs(t,10);break;case 3:Zs(t,6);break;default:Zs(t,2)}}function lF(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Zs(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=en(t.kb,t);n||(n=new Xs("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Yf(n,"https"),Zf(n)),function qJ(t,e){const n=new Hf;if(te.Image){const r=new Image;r.onload=Ff(Jf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ff(Jf,n,r,"TestLoadImage: error",!1,e),r.onabort=Ff(Jf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ff(Jf,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else gn(2);t.G=0,t.l&&t.l.va(e),dF(t),iF(t)}function dF(t){if(t.G=0,t.la=[],t.l){const e=KP(t.h);(0!=e.length||0!=t.i.length)&&(iP(t.la,e),iP(t.la,t.i),t.h.i.length=0,yD(t.i),t.i.length=0),t.l.ua()}}function hF(t,e,n){var r=n instanceof Xs?xi(n):new Xs(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xf(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xs(null,void 0);r&&Yf(s,r),e&&(s.g=e),i&&Xf(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&je(r,n,e),je(r,"VER",t.ma),rl(t,r),r}function fF(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ye(n&&t.Da&&!t.ra?new Jc({jb:!0}):t.ra)).Ka(t.H),e}function pF(){}function sp(){if(Ma&&!(10<=Number(pJ)))throw Error("Environmental error: no available transport.")}function zn(t,e){xt.call(this),this.g=new rF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Lf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Na(this)}function gF(t){$D.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function mF(){BD.call(this),this.status=1}function Na(t){this.g=t}(B=Ye.prototype).Ka=function(t){this.L=t},B.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jD.g(),this.C=function MP(t){return t.h||(t.h=t.i())}(this.u?this.u:jD),this.g.onreadystatechange=en(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void XP(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=rP(QJ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eF(this),0<this.B&&((this.K=function YJ(t){return Ma&&function fJ(){return function cJ(t){var e=hJ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=sP(String(Uf)).split("."),n=sP("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=_D(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||_D(0==i[2].length,0==s[2].length)||_D(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.qa,this)):this.A=VD(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){XP(this,s)}},B.qa=function(){typeof gD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),tp(this))},B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tp(this,!0)),Ye.X.M.call(this)},B.Ha=function(){this.s||(this.F||this.v||this.l?JP(this):this.fb())},B.fb=function(){JP(this)},B.aa=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},B.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),WJ(e)}},B.Ea=function(){return this.m},B.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=rF.prototype).ma=8,B.G=1,B.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Wc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=lP(s),hP(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oF(this,i,e),je(n=xi(this.F),"RID",t),je(n,"CVER",22),this.D&&je(n,"X-HTTP-Session-Id",this.D),rl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(nF(s)))+"&"+e:this.o&&YD(n,this.o,s)),WD(this.h,i),this.Ya&&je(n,"TYPE","init"),this.O?(je(n,"$req",e),je(n,"SID","null"),i.Z=!0,HD(i,n,null)):HD(i,n,e),this.G=2}}else 3==this.G&&(t?sF(this,t):0==this.i.length||zP(this.h)||sF(this))},B.Ia=function(){if(this.u=null,uF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=zc(en(this.eb,this),t)}},B.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,gn(10),np(this),uF(this))},B.cb=function(){null!=this.v&&(this.v=null,np(this),ZD(this),gn(19))},B.kb=function(t){t?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))},(B=pF.prototype).xa=function(){},B.wa=function(){},B.va=function(){},B.ua=function(){},B.Ra=function(){},sp.prototype.g=function(t,e){return new zn(t,e)},Gt(zn,xt),zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;gn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=hF(t,null,t.V),rp(t)},zn.prototype.close=function(){XD(this.g)},zn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=OD(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&rp(e)},zn.prototype.M=function(){this.g.l=null,delete this.j,XD(this.g),delete this.g,zn.X.M.call(this)},Gt(gF,$D),Gt(mF,BD),Gt(Na,pF),Na.prototype.xa=function(){Ht(this.g,"a")},Na.prototype.wa=function(t){Ht(this.g,new gF(t))},Na.prototype.va=function(t){Ht(this.g,new mF)},Na.prototype.ua=function(){Ht(this.g,"b")},sp.prototype.createWebChannel=sp.prototype.g,zn.prototype.send=zn.prototype.u,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,qf.NO_ERROR=0,qf.TIMEOUT=8,qf.HTTP_ERROR=6,xP.COMPLETE="complete",RP.EventType=qc,qc.OPEN="a",qc.CLOSE="b",qc.ERROR="c",qc.MESSAGE="d",xt.prototype.listen=xt.prototype.N,Ye.prototype.listenOnce=Ye.prototype.O,Ye.prototype.getLastError=Ye.prototype.Oa,Ye.prototype.getLastErrorCode=Ye.prototype.Ea,Ye.prototype.getStatus=Ye.prototype.aa,Ye.prototype.getResponseJson=Ye.prototype.Sa,Ye.prototype.getResponseText=Ye.prototype.fa,Ye.prototype.send=Ye.prototype.da,Ye.prototype.setWithCredentials=Ye.prototype.Ka;var ZJ=Ai.createWebChannelTransport=function(){return new sp},JJ=Ai.getStatEventTarget=function(){return zf()},eb=Ai.ErrorCode=qf,eee=Ai.EventType=xP,tee=Ai.Event=Qs,yF=Ai.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nee=Ai.FetchXmlHttpFactory=Jc,op=Ai.WebChannel=RP,ree=Ai.XhrIo=Ye;const _F="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Oa="9.18.0";const Xi=new wa("@firebase/firestore");function tb(){return Xi.logLevel}function M(t,...e){if(Xi.logLevel<=_e.DEBUG){const n=e.map(nb);Xi.debug(`Firestore (${Oa}): ${t}`,...n)}}function rt(t,...e){if(Xi.logLevel<=_e.ERROR){const n=e.map(nb);Xi.error(`Firestore (${Oa}): ${t}`,...n)}}function Pa(t,...e){if(Xi.logLevel<=_e.WARN){const n=e.map(nb);Xi.warn(`Firestore (${Oa}): ${t}`,...n)}}function nb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function $(t="Unexpected state"){const e=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function j(t,e){t||$()}function O(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class see{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oee{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new vF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Mt(e)}}class aee{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(j(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class uee{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new aee(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cee{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.A=n.token,new wF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class IF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function Fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new qe(0,0))}static max(){return new z(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class il{constructor(e,n,r){void 0===n?n=0:n>e.length&&$(),void 0===r?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===il.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof il?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends il{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const dee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends il{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return dee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new A(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(ve.fromString(e))}static fromName(e){return new N(ve.fromString(e).popFirst(5))}static empty(){return new N(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new ve(e.slice()))}}function bF(t){return new qn(t.readTime,t.key,-1)}class qn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qn(z.min(),N.empty(),-1)}static max(){return new qn(z.max(),N.empty(),-1)}}function ib(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=N.comparator(t.documentKey,e.documentKey),0!==n?n:ne(t.largestBatchId,e.largestBatchId))}const CF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Zi(t){return sb.apply(this,arguments)}function sb(){return sb=_(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==CF)throw t;M("LocalStore","Unexpectedly lost primary lease")}),sb.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Ji(t){return"IndexedDbTransactionError"===t.name}let Wn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class Iee{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class to{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new to("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}function SF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function no(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function al(t){return null==t}function ul(t){return 0===t&&1/t==-1/0}class Eee extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new Eee("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Dee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(j(!!t),"string"==typeof t){let e=0;const n=Dee.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ro(t){return"string"==typeof t?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function ub(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function MF(t){const e=t.mapValue.fields.__previous_value__;return ub(e)?MF(e):e}function cl(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}const ts={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ub(t)?4:OF(t)?9007199254740991:10:$()}function $r(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=es(r.timestampValue),o=es(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ro(t.bytesValue).isEqual(ro(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Xe(r.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xe(r.integerValue)===Xe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Xe(r.doubleValue),o=Xe(i.doubleValue);return s===o?ul(s)===ul(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Fa(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(SF(s)!==SF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!$r(s[a],o[a])))return!1;return!0}(t,e);default:return $()}var i}function ll(t,e){return void 0!==(t.values||[]).find(n=>$r(n,e))}function ns(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Xe(i.integerValue||i.doubleValue),a=Xe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return RF(t.timestampValue,e.timestampValue);case 4:return RF(cl(t),cl(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ro(i),a=ro(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ne(o[u],a[u]);if(0!==c)return c}return ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(Xe(i.latitude),Xe(s.latitude));return 0!==o?o:ne(Xe(i.longitude),Xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ns(o[u],a[u]);if(c)return c}return ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ts.mapValue&&s===ts.mapValue)return 0;if(i===ts.mapValue)return 1;if(s===ts.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=ns(o[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(t.mapValue,e.mapValue);default:throw $()}}function RF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=es(t),r=es(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function La(t){return cb(t)}function cb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=es(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ro(t.bytesValue).toBase64():"referenceValue"in t?N.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=cb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${cb(r.fields[a])}`;return s+"}"}(t.mapValue):$();var e}function lb(t){return!!t&&"integerValue"in t}function dl(t){return!!t&&"arrayValue"in t}function kF(t){return!!t&&"nullValue"in t}function NF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dp(t){return!!t&&"mapValue"in t}function hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return no(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class rs{constructor(e,n){this.position=e,this.inclusive=n}}function LF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?N.comparator(N.fromName(o.referenceValue),n.key):ns(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}class UF{}class pe extends UF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Tee(e,n,r):"array-contains"===n?new xee(e,r):"in"===n?new zF(e,r):"not-in"===n?new Mee(e,r):"array-contains-any"===n?new Ree(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new See(e,r):new Aee(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ns(n,this.value)):null!==n&&io(this.value)===io(n)&&this.matchesComparison(ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends UF{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new Se(e,n)}matches(e){return Va(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return null!==e?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Va(t){return"and"===t.op}function hb(t){return function $F(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}(t)&&Va(t)}function fb(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+La(t.value);if(hb(t))return t.filters.map(e=>fb(e)).join(",");{const e=t.filters.map(n=>fb(n)).join(",");return`${t.op}(${e})`}}function BF(t,e){return t instanceof pe?(n=t,(r=e)instanceof pe&&n.op===r.op&&n.field.isEqual(r.field)&&$r(n.value,r.value)):t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&BF(s,r.filters[o]),!0)}(t,e):void $();var n,r}function GF(t){return t instanceof pe?function(e){return`${e.field.canonicalString()} ${e.op} ${La(e.value)}`}(t):t instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(GF).join(" ,")+"}"}(t):"Filter"}class Tee extends pe{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){const n=N.comparator(e.key,this.key);return this.matchesComparison(n)}}class See extends pe{constructor(e,n){super(e,"in",n),this.keys=HF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Aee extends pe{constructor(e,n){super(e,"not-in",n),this.keys=HF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}class xee extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dl(n)&&ll(n.arrayValue,this.value)}}class zF extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ll(this.value.arrayValue,n)}}class Mee extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ll(this.value.arrayValue,n)}}class Ree extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ll(this.value.arrayValue,r))}}class Ua{constructor(e,n="asc"){this.field=e,this.dir=n}}function kee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Ze{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1,zt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(t,e,n,r,i){return this}insert(t,e,n){return new zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qF(this.data.getIterator())}getIteratorFrom(e){return new qF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class qF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new An([])}unionWith(e){let n=new xe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){no(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rt(hl(this.value))}}class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,z.min(),z.min(),z.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,z.min(),z.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,z.min(),z.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nee{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function pb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nee(t,e,n,r,i,s,o)}function oo(t){const e=O(t);if(null===e._t){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),al(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>La(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>La(r)).join(",")),e._t=n}return e._t}function fl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VF(t.startAt,e.startAt)&&VF(t.endAt,e.endAt)}function fp(t){return N.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ri{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this.gt=null}}function Ba(t){return new Ri(t)}function XF(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ao(t){const e=O(t);if(null===e.wt){e.wt=[];const n=function gp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function gb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ua(n)),e.wt.push(new Ua(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ua(it.keyField(),s))}}}return e.wt}function mn(t){const e=O(t);if(!e.gt)if("F"===e.limitType)e.gt=pb(e.path,e.collectionGroup,ao(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ao(e))n.push(new Ua(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new rs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new rs(e.startAt.position,e.startAt.inclusive):null;e.gt=pb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function mp(t,e,n){return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pl(t,e){return fl(mn(t),mn(e))&&t.limitType===e.limitType}function ZF(t){return`${oo(mn(t))}|lt:${t.limitType}`}function _b(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>GF(r)).join(", ")}]`),al(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>La(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>La(r)).join(",")),`Target(${n})`}(mn(t))}; limitType=${t.limitType})`}function gl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):N.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ao(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=LF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ao(n),r)||n.endAt&&!function(i,s,o){const a=LF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ao(n),r)));var n,r}function eL(t){return(e,n)=>{let r=!1;for(const i of ao(t)){const s=Oee(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Oee(t,e,n){const r=t.field.isKeyField()?N.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ns(a,u):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class yp{constructor(){this._=void 0}}function Pee(t,e,n){return t instanceof ja?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof uo?sL(t,e):t instanceof co?oL(t,e):function(r,i){const s=function iL(t,e){return t instanceof Ga?lb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=aL(s)+aL(r.It);return lb(s)&&lb(r.It)?function nL(t){return{integerValue:""+t}}(o):function tL(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(e)?"-0":e}}(r.Tt,o)}(t,e)}function Fee(t,e,n){return t instanceof uo?sL(t,e):t instanceof co?oL(t,e):n}class ja extends yp{}class uo extends yp{constructor(e){super(),this.elements=e}}function sL(t,e){const n=uL(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class co extends yp{constructor(e){super(),this.elements=e}}function oL(t,e){let n=uL(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Ga extends yp{constructor(e,n){super(),this.Tt=e,this.It=n}}function aL(t){return Xe(t.integerValue||t.doubleValue)}function uL(t){return dl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class vb{}function cL(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new za(t.key,Ge.none()):new Ha(t.key,t.data,Ge.none());{const n=t.data,r=Rt.empty();let i=new xe(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ki(t.key,r,new An(i.toArray()),Ge.none())}}function Uee(t,e,n){t instanceof Ha?function(r,i,s){const o=r.value.clone(),a=hL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(r,i,s){if(!_p(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=hL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(dL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function yl(t,e,n,r){return t instanceof Ha?function(i,s,o,a){if(!_p(i.precondition,s))return o;const u=i.value.clone(),c=fL(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ki?function(i,s,o,a){if(!_p(i.precondition,s))return o;const u=fL(i.fieldTransforms,a,s),c=s.data;return c.setAll(dL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,_p(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function lL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Fa(n,r,(i,s)=>function Lee(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof uo&&r instanceof uo||n instanceof co&&r instanceof co?Fa(n.elements,r.elements,$r):n instanceof Ga&&r instanceof Ga?$r(n.It,r.It):n instanceof ja&&r instanceof ja);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ha extends vb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends vb{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hL(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Fee(o,a,n[i]))}return r}function fL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Pee(s,o,e))}return r}class za extends vb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bee{constructor(e){this.count=e}}var pt,we;function gL(t){if(void 0===t)return rt("GRPC error has no .code"),E.UNKNOWN;switch(t){case pt.OK:return E.OK;case pt.CANCELLED:return E.CANCELLED;case pt.UNKNOWN:return E.UNKNOWN;case pt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case pt.INTERNAL:return E.INTERNAL;case pt.UNAVAILABLE:return E.UNAVAILABLE;case pt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case pt.NOT_FOUND:return E.NOT_FOUND;case pt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case pt.ABORTED:return E.ABORTED;case pt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case pt.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(we=pt||(pt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";class is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function AF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const jee=new Ze(N.comparator);function xn(){return jee}const mL=new Ze(N.comparator);function _l(...t){let e=mL;for(const n of t)e=e.insert(n.key,n);return e}function yL(t){let e=mL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Br(){return vl()}function _L(){return vl()}function vl(){return new is(t=>t.toString(),(t,e)=>t.isEqual(e))}new Ze(N.comparator);const Hee=new xe(N.comparator);function ae(...t){let e=Hee;for(const n of t)e=e.add(n);return e}const zee=new xe(ne);function vp(){return zee}class wl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wl(z.min(),i,vp(),xn(),ae())}}class Il{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Il(r,n,ae(),ae(),ae())}}class wp{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class vL{constructor(e,n){this.targetId=e,this.Rt=n}}class wL{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IL{constructor(){this.Pt=0,this.vt=DL(),this.bt=Tt.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=ae(),n=ae(),r=ae();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Il(this.bt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=DL()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class qee{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=xn(),this.Kt=EL(),this.Gt=new xe(ne)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(fp(s))if(0===r){const o=new N(s.path);this.zt(n,o,Ve.newNoDocument(o,z.min()))}else j(1===r);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&fp(a.target)){const u=new N(a.target.path);null!==this.Ut.get(u)||this.ne(o,u)||this.zt(o,u,Ve.newNoDocument(u,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=ae();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new wl(e,n,this.Gt,this.Ut,r);return this.Ut=xn(),this.Kt=EL(),this.Gt=new xe(ne),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.$t(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new IL,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new xe(ne),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=null!==this.Xt(e);return n||M("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new IL),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function EL(){return new Ze(N.comparator)}function DL(){return new Ze(N.comparator)}const Wee={asc:"ASCENDING",desc:"DESCENDING"},Kee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qee={and:"AND",or:"OR"};class Yee{constructor(e,n){this.databaseId=e,this.yt=n}}function st(t){return j(!!t),z.fromTimestamp(function(e){const n=es(e);return new qe(n.seconds,n.nanos)}(t))}function CL(t){const e=ve.fromString(t);return j(OL(e)),e}function jr(t,e){const n=CL(e);if(n.get(1)!==t.databaseId.projectId)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(SL(n))}function Eb(t,e){return function Ib(t,e){return(n=t,new ve(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Dl(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SL(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ML(t,e){return{documents:[Eb(t,e.path)]}}function bb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Eb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Eb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return NL(Se.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ss((l=c).field),direction:nte(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.yt||al(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function RL(t){let e=function TL(t){const e=CL(t);return 4===e.length?ve.emptyPath():SL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=kL(l);return d instanceof Se&&hb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ua(Wa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,al(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new rs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new rs(l.values||[],!l.before)}(n.endAt)),function YF(t,e,n,r,i,s,o,a){return new Ri(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function kL(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wa(e.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wa(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wa(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wa(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):void 0!==t.fieldFilter?function(e){return pe.create(Wa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Se.create(e.compositeFilter.filters.map(n=>kL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(t):$()}function nte(t){return Wee[t]}function rte(t){return Kee[t]}function ite(t){return Qee[t]}function ss(t){return{fieldPath:t.canonicalString()}}function Wa(t){return it.fromServerFormat(t.fieldPath)}function NL(t){return t instanceof pe?function(e){if("=="===e.op){if(NF(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NAN"}};if(kF(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NF(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NAN"}};if(kF(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(e.field),op:rte(e.op),value:e.value}}}(t):t instanceof Se?function(e){const n=e.getFilters().map(r=>NL(r));return 1===n.length?n[0]:{compositeFilter:{op:ite(e.op),filters:n}}}(t):$()}function OL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Tb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Uee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_L();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=cL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,r)=>lL(n,r))&&Fa(this.baseMutations,e.baseMutations,(n,r)=>lL(n,r))}}class Ab{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class os{constructor(e,n,r,i,s=z.min(),o=z.min(),a=Tt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class BL{constructor(e){this.oe=e}}function xb(t){const e=RL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?mp(e,e.limit,"L"):e}class po{constructor(){}ae(e,n){this.he(e,n),n.le()}he(e,n){if("nullValue"in e)this.fe(n,5);else if("booleanValue"in e)this.fe(n,10),n.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(n,15),n.de(Xe(e.integerValue));else if("doubleValue"in e){const r=Xe(e.doubleValue);isNaN(r)?this.fe(n,13):(this.fe(n,15),ul(r)?n.de(0):n.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(n,20),"string"==typeof r?n._e(r):(n._e(`${r.seconds||""}`),n.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,n),this.me(n);else if("bytesValue"in e)this.fe(n,30),n.ge(ro(e.bytesValue)),this.me(n);else if("referenceValue"in e)this.ye(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(n,45),n.de(r.latitude||0),n.de(r.longitude||0)}else"mapValue"in e?OF(e)?this.fe(n,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,n),this.me(n)):"arrayValue"in e?(this.Ie(e.arrayValue,n),this.me(n)):$()}we(e,n){this.fe(n,25),this.Te(e,n)}Te(e,n){n._e(e)}pe(e,n){const r=e.fields||{};this.fe(n,55);for(const i of Object.keys(r))this.we(i,n),this.he(r[i],n)}Ie(e,n){const r=e.values||[];this.fe(n,50);for(const i of r)this.he(i,n)}ye(e,n){this.fe(n,37),N.fromName(e).path.forEach(r=>{this.fe(n,60),this.Te(r,n)})}fe(e,n){e.de(n)}me(e){e.de(2)}}po.Ee=new po;class kte{constructor(){this.Ze=new Pb}addToCollectionParentIndex(e,n){return this.Ze.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(qn.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class Pb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ve.comparator)).toArray()}}new Uint8Array(0);class Mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class mo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new mo(0)}static Sn(){return new mo(-1)}}class Ute{constructor(){this.changes=new is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&yl(r.mutation,i,An.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=Br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_l();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xn();const o=vl(),a=vl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ki)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),yl(l.mutation,c,l.mutation.getFieldMask(),qe.now())):o.set(c.key,An.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new jte(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vl();let i=new Ze((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||An.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=_L();l.forEach(h=>{if(!s.has(h)){const f=cL(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return N.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function mb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(Br());let a=-1,u=s;return o.next(c=>I.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(l=>({batchId:a,changes:yL(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=_l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=_l();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ri(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ve.newInvalidDocument(c)))});let o=_l();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&yl(c.mutation,u,An.empty(),qe.now()),gl(n,u)&&(o=o.insert(a,u))}),o})}}class Gte{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return I.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:st(r.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,{name:(r=n).name,query:xb(r.bundledQuery),readTime:st(r.readTime)}),I.resolve();var r}}class Hte{constructor(){this.overlays=new Ze(N.comparator),this.ss=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Br();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=Br(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ze((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Br(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Br(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ab(n,r));let s=this.ss.get(n);void 0===s&&(s=ae(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}class Fb{constructor(){this.rs=new xe(Nt.os),this.us=new xe(Nt.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new Nt(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new N(new ve([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new N(new ve([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=ae();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.rs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return N.comparator(e.key,n.key)||ne(e.gs,n.gs)}static cs(e,n){return ne(e.gs,n.gs)||N.comparator(e.key,n.key)}}class zte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new xe(Nt.os)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++;const o=new Tb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Ts(n+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(ne);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),I.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;N.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new N(s),0);let a=new xe(ne);return this.ps.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gs)),!0)},o),I.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.As(n.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return I.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.ps.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}As(e,n){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qte{constructor(e){this.Rs=e,this.docs=new Ze(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn();const o=n.path,a=new N(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ib(bF(l),r)<=0||(i.has(l.key)||gl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){$()}Ps(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wte(this)}getSize(e){return I.resolve(this.size)}}class Wte extends Ute{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}class Kte{constructor(e){this.persistence=e,this.vs=new is(n=>oo(n),fl),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Fb,this.targetCount=0,this.Ss=mo.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),I.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.xn(n),I.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Vs.containsKey(n))}}class hV{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new Wn(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new Kte(this),this.indexManager=new kte,this.remoteDocumentCache=new qte(r=>this.referenceDelegate.ks(r)),this.Tt=new BL(n),this.$s=new Gte(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new zte(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const i=new Qte(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,n){return I.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class Qte extends pee{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Bs=new Fb,this.Ls=null}static qs(e){return new Mp(e)}get Us(){if(this.Ls)return this.Ls;throw $()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),I.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Us,r=>{const i=N.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,z.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return I.or([()=>I.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}class $b{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $b(e,n.fromCache,r,i)}}class pV{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Fi(e,n))}Mi(e,n){if(XF(n))return I.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=mp(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Bi(n,a);return this.Li(n,c,o,u.readTime)?this.Mi(e,mp(n,null,"F")):this.qi(e,c,n,u)}))})))}Oi(e,n,r,i){return XF(n)||i.isEqual(z.min())?this.Fi(e,n):this.$i.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.Fi(e,n):(tb()<=_e.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_b(n)),this.qi(e,o,n,function DF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new qe(n+1,0):new qe(n,r));return new qn(i,N.empty(),e)}(i,-1)))})}Bi(e,n){let r=new xe(eL(e));return n.forEach((i,s)=>{gl(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,n){return tb()<=_e.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",_b(n)),this.$i.getDocumentsMatchingQuery(e,n,qn.min())}qi(e,n,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Xte{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new Ze(ne),this.Gi=new is(s=>oo(s),fl),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dV(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function mV(t,e){return Bb.apply(this,arguments)}function Bb(){return Bb=_(function*(t,e){const n=O(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Wi:c,removedBatchIds:o,addedBatchIds:a}))})})}),Bb.apply(this,arguments)}function yV(t){const e=O(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function Xa(t,e,n){return jb.apply(this,arguments)}function jb(){return jb=_(function*(t,e,n){const r=O(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ji(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),jb.apply(this,arguments)}function kp(t,e,n){const r=O(t);let i=z.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=O(a),d=l.Gi.get(c);return void 0!==d?I.resolve(l.Ki.get(d)):l.Ns.getTargetData(u,c)}(r,o,mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:z.min(),n?s:ae())).next(a=>(function IV(t,e,n){let r=t.Qi.get(e)||z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}(r,function JF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Yi:s})))}class Wb{constructor(){this.activeTargetIds=vp()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bV{constructor(){this.Ur=new Wb,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Wb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rne{Gr(e){}shutdown(){}}class CV{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pp=null;function Qb(){return null===Pp?Pp=268435456+Math.round(2147483648*Math.random()):Pp++,"0x"+Pp.toString(16)}const ine={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sne{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const nn="WebChannelConnection";class one extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=Qb(),a=this.fo(e,n);M("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this._o(u,i,s),this.wo(e,a,u,r).then(c=>(M("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Pa("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){return`${this.co}/v1/${n}:${ine[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){const s=Qb();return new Promise((o,a)=>{const u=new ree;u.setWithCredentials(!0),u.listenOnce(eee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case eb.NO_ERROR:const l=u.getResponseJson();M(nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case eb.TIMEOUT:M(nn,`RPC '${e}' ${s} timed out`),a(new A(E.DEADLINE_EXCEEDED,"Request time out"));break;case eb.HTTP_ERROR:const d=u.getStatus();if(M(nn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(f.status);a(new A(p,f.message))}else a(new A(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new A(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{M(nn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);M(nn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}yo(e,n,r){const i=Qb(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZJ(),a=JJ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new nee({})),this._o(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");M(nn,`Creating RPC '${e}' stream ${i}: ${c}`,u);const l=o.createWebChannel(c,u);let d=!1,h=!1;const f=new sne({Yr:g=>{h?M(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(M(nn,`Opening RPC '${e}' stream ${i} transport.`),l.open(),d=!0),M(nn,`RPC '${e}' stream ${i} sending:`,g),l.send(g))},Zr:()=>l.close()}),p=(g,m,D)=>{g.listen(m,S=>{try{D(S)}catch(w){setTimeout(()=>{throw w},0)}})};return p(l,op.EventType.OPEN,()=>{h||M(nn,`RPC '${e}' stream ${i} transport opened.`)}),p(l,op.EventType.CLOSE,()=>{h||(h=!0,M(nn,`RPC '${e}' stream ${i} transport closed`),f.oo())}),p(l,op.EventType.ERROR,g=>{h||(h=!0,Pa(nn,`RPC '${e}' stream ${i} transport errored:`,g),f.oo(new A(E.UNAVAILABLE,"The operation could not be completed")))}),p(l,op.EventType.MESSAGE,g=>{var m;if(!h){const D=g.data[0];j(!!D);const w=D.error||(null===(m=D[0])||void 0===m?void 0:m.error);if(w){M(nn,`RPC '${e}' stream ${i} received error:`,w);const L=w.status;let H=function(mt){const Qr=pt[mt];if(void 0!==Qr)return gL(Qr)}(L),q=w.message;void 0===H&&(H=E.INTERNAL,q="Unknown error status: "+L+" with message "+w.message),h=!0,f.oo(new A(H,q)),l.close()}else M(nn,`RPC '${e}' stream ${i} received:`,D),f.uo(D)}}),p(a,tee.STAT_EVENT,g=>{g.stat===yF.PROXY?M(nn,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===yF.NOPROXY&&M(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.ro()},0),f}}function Fp(){return typeof document<"u"?document:null}function Nl(t){return new Yee(t,!0)}class Yb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class ane{constructor(e,n,r,i,s,o,a,u){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Yb(e,n)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return _(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return _(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,n){var r=this;return _(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(n)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new A(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.ko.vo(_(function*(){e.state=0,e.start()}))}zo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class une extends ane{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=function Jee(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:$(),i=e.targetChange.targetIds||[],s=function(u,c){return u.yt?(j(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:gL(u.code);return new A(c,u.message||"")}(o);n=new wL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=jr(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):z.min(),a=new Rt({mapValue:{fields:r.document.fields}}),u=Ve.newFoundDocument(i,s,o,a);n=new wp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=jr(t,r.document),s=r.readTime?st(r.readTime):z.min(),o=Ve.newNoDocument(i,s);n=new wp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=jr(t,r.document);n=new wp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new Bee(r.count||0);n=new vL(r.targetId,s)}}var u;return n}(this.Tt,e),r=function(i){if(!("targetChange"in i))return z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?st(s.readTime):z.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=Dl(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=fp(a)?{documents:ML(i,a)}:{query:bb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=function bL(t,e){return t.yt?e.toBase64():e.toUint8Array()}(i,s.resumeToken):s.snapshotVersion.compareTo(z.min())>0&&(o.readTime=function qa(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=function tte(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=Dl(this.Tt),n.removeTarget=e,this.qo(n)}}class lne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(E.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(E.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class hne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(rt(n),this.cu=!1):M("OnlineStateTracker",n)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class fne{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(a=>{r.enqueueAndForget(_(function*(){var u;Ni(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(c){const l=O(c);l.mu.add(4),yield Za(l),l.pu.set("Unknown"),l.mu.delete(4),yield Ol(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.pu=new hne(r,i)}}function Ol(t){return Zb.apply(this,arguments)}function Zb(){return Zb=_(function*(t){if(Ni(t))for(const e of t.gu)yield e(!0)}),Zb.apply(this,arguments)}function Za(t){return Jb.apply(this,arguments)}function Jb(){return Jb=_(function*(t){for(const e of t.gu)yield e(!1)}),Jb.apply(this,arguments)}function Lp(t,e){const n=O(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),nC(n)?tC(n):eu(n).Mo()&&eC(n,e))}function Pl(t,e){const n=O(t),r=eu(n);n.wu.delete(e),r.Mo()&&SV(n,e),0===n.wu.size&&(r.Mo()?r.Bo():Ni(n)&&n.pu.set("Unknown"))}function eC(t,e){t.Iu.Ot(e.targetId),eu(t).Jo(e)}function SV(t,e){t.Iu.Ot(e),eu(t).Yo(e)}function tC(t){t.Iu=new qee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),eu(t).start(),t.pu.au()}function nC(t){return Ni(t)&&!eu(t).$o()&&t.wu.size>0}function Ni(t){return 0===O(t).mu.size}function AV(t){t.Iu=void 0}function pne(t){return rC.apply(this,arguments)}function rC(){return rC=_(function*(t){t.wu.forEach((e,n)=>{eC(t,e)})}),rC.apply(this,arguments)}function gne(t,e){return iC.apply(this,arguments)}function iC(){return iC=_(function*(t,e){AV(t),nC(t)?(t.pu.fu(e),tC(t)):t.pu.set("Unknown")}),iC.apply(this,arguments)}function mne(t,e,n){return sC.apply(this,arguments)}function sC(){return sC=_(function*(t,e,n){if(t.pu.set("Online"),e instanceof wL&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.wu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.wu.delete(a),i.Iu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Vp(t,r)}else if(e instanceof wp?t.Iu.Qt(e):e instanceof vL?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(z.min()))try{const r=yield yV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.wu.get(u);c&&i.wu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.wu.get(a);if(!u)return;i.wu.set(a,u.withResumeToken(Tt.EMPTY_BYTE_STRING,u.snapshotVersion)),SV(i,a);const c=new os(u.target,a,1,u.sequenceNumber);eC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield Vp(t,r)}var r}),sC.apply(this,arguments)}function Vp(t,e,n){return oC.apply(this,arguments)}function oC(){return oC=_(function*(t,e,n){if(!Ji(e))throw e;t.mu.add(1),yield Za(t),t.pu.set("Offline"),n||(n=()=>yV(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){M("RemoteStore","Retrying IndexedDB access"),yield n(),t.mu.delete(1),yield Ol(t)}))}),oC.apply(this,arguments)}function kV(t,e){return hC.apply(this,arguments)}function hC(){return hC=_(function*(t,e){const n=O(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Ni(n);n.mu.add(3),yield Za(n),r&&n.pu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),yield Ol(n)}),hC.apply(this,arguments)}function pC(){return pC=_(function*(t,e){const n=O(t);e?(n.mu.delete(2),yield Ol(n)):e||(n.mu.add(2),yield Za(n),n.pu.set("Unknown"))}),pC.apply(this,arguments)}function eu(t){return t.Tu||(t.Tu=function(e,n,r){const i=O(e);return i.ru(),new une(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:pne.bind(null,t),no:gne.bind(null,t),Ho:mne.bind(null,t)}),t.gu.push(function(){var e=_(function*(n){n?(t.Tu.Fo(),nC(t)?tC(t):t.pu.set("Unknown")):(yield t.Tu.stop(),AV(t))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class gC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),Ji(t))return new A(E.UNAVAILABLE,`${e}: ${t}`);throw t}class nu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class NV{constructor(){this.Au=new Ze(N.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(n,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(n):1===e.type&&2===r.type?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):$():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class ru{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ru(e,n,nu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Dne{constructor(){this.Pu=void 0,this.listeners=[]}}class bne{constructor(){this.queries=new is(e=>ZF(e),pl),this.onlineState="Unknown",this.vu=new Set}}function yC(){return yC=_(function*(t,e){const n=O(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Dne),i)try{s.Pu=yield n.onListen(r)}catch(o){const a=tu(o,`Initialization of query '${_b(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Pu&&e.Vu(s.Pu)&&wC(n)}),yC.apply(this,arguments)}function vC(){return vC=_(function*(t,e){const n=O(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),vC.apply(this,arguments)}function Cne(t,e){const n=O(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Pu=i}}r&&wC(n)}function Tne(t,e,n){const r=O(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function wC(t){t.vu.forEach(e=>{e.next()})}class IC{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){return!e.fromCache||(!this.options.$u||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class FV{constructor(e){this.key=e}}class LV{constructor(e){this.key=e}}class VV{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=ae(),this.mutatedKeys=ae(),this.ju=eL(e),this.zu=new nu(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new NV,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=gl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Yu(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ju(f,u)>0||c&&this.ju(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,l.type)||this.ju(c.doc,l.doc)),this.Zu(r);const o=n?this.Xu():[],a=0===this.Qu.size&&this.current?1:0,u=a!==this.Gu;return this.Gu=a,0!==s.length||u?{snapshot:new ru(this.query,e.zu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new NV,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=ae(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new LV(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new FV(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=ae();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return ru.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class xne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mne{constructor(e){this.key=e,this.ic=!1}}class Rne{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new is(a=>ZF(a),pl),this.uc=new Map,this.cc=new Set,this.ac=new Ze(N.comparator),this.hc=new Map,this.lc=new Fb,this.fc={},this.dc=new Map,this._c=mo.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function kne(t,e){return EC.apply(this,arguments)}function EC(){return EC=_(function*(t,e){const n=function zC(t){const e=O(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pne.bind(null,e),e.rc.Ho=Cne.bind(null,e.eventManager),e.rc.gc=Tne.bind(null,e.eventManager),e}(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=yield function Ya(t,e){const n=O(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new os(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}(n.localStore,mn(e));n.isPrimaryClient&&Lp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function DC(t,e,n,r,i){return bC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken)}return i}),EC.apply(this,arguments)}function bC(){return bC=_(function*(t,e,n,r,i){t.mc=(d,h,f)=>{return(p=_(function*(g,m,D,S){let w=m.view.Hu(D);w.Li&&(w=yield kp(g.localStore,m.query,!1).then(({documents:q})=>m.view.Hu(q,w)));const L=S&&S.targetChanges.get(m.targetId),H=m.view.applyChanges(w,g.isPrimaryClient,L);return OC(g,m.targetId,H.tc),H.snapshot}),function(g,m,D,S){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield kp(t.localStore,e,!0),o=new VV(e,s.Yi),a=o.Hu(s.documents),u=Il.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);OC(t,n,c.tc);const l=new xne(e,n,o);return t.oc.set(e,l),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),c.snapshot}),bC.apply(this,arguments)}function Nne(t,e){return CC.apply(this,arguments)}function CC(){return CC=_(function*(t,e){const n=O(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!pl(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Pl(n.remoteStore,r.targetId),iu(n,r.targetId)}).catch(Zi))):(iu(n,r.targetId),yield Xa(n.localStore,r.targetId,!0))}),CC.apply(this,arguments)}function UV(t,e){return SC.apply(this,arguments)}function SC(){return SC=_(function*(t,e){const n=O(t);try{const r=yield function Jte(t,e){const n=O(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ns.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Ns.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Ns.updateTargetData(s,f))});let u=xn(),c=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function _V(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Hi:o,Ji:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Hi,c=l.Ji})),!r.isEqual(z.min())){const l=n.Ns.getLastRemoteSnapshotVersion(s).next(d=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ki=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?j(o.ic):i.removedDocuments.size>0&&(j(o.ic),o.ic=!1))}),yield Oi(n,r,e)}catch(r){yield Zi(r)}}),SC.apply(this,arguments)}function $V(t,e,n){const r=O(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.oc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=O(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&wC(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pne(t,e,n){return AC.apply(this,arguments)}function AC(){return AC=_(function*(t,e,n){const r=O(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new Ze(N.comparator);o=o.insert(s,Ve.newNoDocument(s,z.min()));const a=ae().add(s),u=new wl(z.min(),new Map,new xe(ne),o,a);yield UV(r,u),r.ac=r.ac.remove(s),r.hc.delete(e),PC(r)}else yield Xa(r.localStore,e,!1).then(()=>iu(r,e,n)).catch(Zi)}),AC.apply(this,arguments)}function iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||BV(t,r)})}function BV(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);null!==n&&(Pl(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),PC(t))}function OC(t,e,n){for(const r of n)r instanceof FV?(t.lc.addReference(r.key,e),Une(t,r)):r instanceof LV?(M("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||BV(t,r.key)):$()}function Une(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(M("SyncEngine","New document in limbo: "+n),t.cc.add(r),PC(t))}function PC(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new N(ve.fromString(e)),r=t._c.next();t.hc.set(r,new Mne(n)),t.ac=t.ac.insert(n,r),Lp(t.remoteStore,new os(mn(Ba(n.path)),r,2,Wn.at))}}function Oi(t,e,n){return FC.apply(this,arguments)}function FC(){return FC=_(function*(t,e,n){const r=O(t),i=[],s=[],o=[];var a;r.oc.isEmpty()||(r.oc.forEach((a,u)=>{o.push(r.mc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=$b.Ni(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.rc.Ho(i),yield(a=_(function*(u,c){const l=O(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(c,h=>I.forEach(h.Ci,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.xi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ji(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ki.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ki=l.Ki.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),FC.apply(this,arguments)}function $ne(t,e){return LC.apply(this,arguments)}function LC(){return LC=_(function*(t,e){const n=O(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield mV(n.localStore,e);n.currentUser=e,(i=n).dc.forEach(o=>{o.forEach(a=>{a.reject(new A(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oi(n,r.Wi)}var i}),LC.apply(this,arguments)}function Bne(t,e){const n=O(t),r=n.hc.get(e);if(r&&r.ic)return ae().add(r.key);{let i=ae();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}class Yne{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.Tt=Nl(e.databaseInfo.databaseId),n.sharedClientState=n.Ic(e),n.persistence=n.Tc(e),yield n.persistence.start(),n.localStore=n.Ec(e),n.gcScheduler=n.Ac(e,n.localStore),n.indexBackfillerScheduler=n.Rc(e,n.localStore)})()}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return function gV(t,e,n,r){return new Xte(t,e,n,r)}(this.persistence,new pV,e.initialUser,this.Tt)}Tc(e){return new hV(Mp.qs,this.Tt)}Ic(e){return new bV}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class WC{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$V(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$ne.bind(null,r.syncEngine),yield function fC(t,e){return pC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bne}createDatastore(e){const n=Nl(e.databaseInfo.databaseId),r=new one(e.databaseInfo);return new lne(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>$V(this.syncEngine,a,0),o=CV.C()?new CV:new rne,new fne(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Rne(r,i,s,o,a,u);return c&&(l.wc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=_(function*(n){const r=O(n);M("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Za(r),r.yu.shutdown(),r.pu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Up{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class nre{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=IF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=tu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function KC(){return KC=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield mV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),KC.apply(this,arguments)}function QC(){return QC=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function YC(t){return XC.apply(this,arguments)}(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>kV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kV(e.remoteStore,s)),t.onlineComponents=e}),QC.apply(this,arguments)}function XC(){return XC=_(function*(t){return t.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield function zV(t,e){return KC.apply(this,arguments)}(t,new Yne)),t.offlineComponents}),XC.apply(this,arguments)}function ZC(){return ZC=_(function*(t){return t.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield function qV(t,e){return QC.apply(this,arguments)}(t,new WC)),t.onlineComponents}),ZC.apply(this,arguments)}function su(t){return tT.apply(this,arguments)}function tT(){return tT=_(function*(t){const e=yield function $p(t){return ZC.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=kne.bind(null,e.syncEngine),n.onUnlisten=Nne.bind(null,e.syncEngine),n}),tT.apply(this,arguments)}const XV=new Map;function JV(t){if(N.isDocumentKey(t))throw new A(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function jp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":$()}(t);throw new A(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class tU{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new A(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function lre(t,e,n,r){if(!0===e&&!0===r)throw new A(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new iee;switch(n.type){case"gapi":return new uee(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new A(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=XV.get(e);n&&(M("ComponentProvider","Removing Datastore"),XV.delete(e),n.terminate())}(this),Promise.resolve()}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qt(this.firestore,e,this._query)}}class Hr extends qt{constructor(e,n,r){super(e,n,Ba(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new N(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function hre(t,e,...n){if(t=yi(t),function nT(t,e,n){if(!n)throw new A(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Fl){const r=ve.fromString(e,...n);return JV(r),new Hr(t,null,r)}{if(!(t instanceof ot||t instanceof Hr))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return JV(r),new Hr(t.firestore,null,r)}}class pre{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Yb(this,"async_queue_retry"),this.Hc=()=>{const n=Fp();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=Fp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=Fp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Ct;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return _(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(n){if(!Ji(n))throw n;M("AsyncQueue","Operation failed with retryable error: "+n)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=gC.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&$()}verifyOperationInProgress(){}ta(){var e=this;return _(function*(){let n;do{n=e.qc,yield n}while(n!==e.qc)})()}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function rT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ue extends Fl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rU(this),this._firestoreClient.terminate()}}function mre(t,e){const r="string"==typeof t?t:e||"(default)",i=Ia("object"==typeof t?t:dv(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=CK("firestore");s&&function dre(t,e,n,r={}){var i;const s=(t=me(t,Fl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Pa("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Mt.MOCK_USER;else{o=function AK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qh(JSON.stringify({alg:"none",type:"JWT"})),Qh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new A(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Mt(u)}t._authCredentials=new see(new vF(o,a))}}(i,...s)}return i}function rU(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Iee(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new nre(t._authCredentials,t._appCheckCredentials,t._queue,r)}class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Tt.fromBase64String(e))}catch(n){throw new A(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ou{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new A(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const bre=new RegExp("[~\\*/\\[\\]]");function zp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new A(E.INVALID_ARGUMENT,a+t+u)}class uT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Cre extends uT{data(){return super.data()}}function qp(t,e){return"string"==typeof e?function Hp(t,e,n){if(e.search(bre)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ou(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof ou?e._internalPath:e._delegate._internalPath}class Sre{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){const r={};return no(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new iT(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=MF(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const n=es(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);j(OL(r));const i=new to(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class wo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cu extends uT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yp extends cu{data(e={}){return super.data(e)}}class lu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yp(this._firestore,this._userDataWriter,r.key,r,new wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Yp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new wo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Yp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new wo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:xre(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class ds extends Sre{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}!function(t,e=!0){Oa=sf,fn(new Jt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ue(new oee(n.getProvider("auth-internal")),new cee(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),nt(_F,"3.9.0",t),nt(_F,"3.9.0","esm2017")}();var Pre={includeMetadataChanges:!1};function hT(t,e){return void 0===e&&(e=Pre),new ke(function(n){var r=function Mre(t,...e){var n,r,i;t=yi(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||rT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(rT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ot)c=me(t.firestore,Ue),l=Ba(t._key.path),u={next:d=>{e[o]&&e[o](function dT(t,e,n){const r=n.docs.get(e._key),i=new ds(t);return new cu(t,i,e._key,r,new wo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=me(t,qt);c=me(d.firestore,Ue),l=d._query;const h=new ds(c);u={next:f=>{e[o]&&e[o](new lu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function mU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new A(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Up(p),m=new IC(h,g,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function mC(t,e){return yC.apply(this,arguments)}(yield su(d),m)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(_(function*(){return function _C(t,e){return vC.apply(this,arguments)}(yield su(d),m)}))}}(function gt(t){return t._firestoreClient||rU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function jre(t,e){return void 0===e&&(e={}),function Bre(t){return hT(t,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}(t).pipe(le(function(n){return n.map(function(r){return function bU(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Zp{constructor(e){return e}}const AU="firestore",gT=new G("angularfire2.firestore-instances");function zre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Zp(r)}}const qre={provide:class Gre{constructor(){return Zw(AU)}},deps:[[new cn,gT]]},Wre={provide:Zp,useFactory:function Hre(t,e){const n=function Xw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(AU,t,e);return n&&new Zp(n)},deps:[[new cn,gT],Ta]};let Kre=(()=>{class t{constructor(){nt("angularfire",Gw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({providers:[Wre,qre]}),t})();function Qre(t,...e){return{ngModule:Kre,providers:[{provide:gT,useFactory:zre(t),multi:!0,deps:[Be,Bn,R1,k1,[new cn,NO],[new cn,nP],...e]}]}}const xU=ff(jre,!0),MU=ff(hre,!0),Yre=ff(mre,!0),{isArray:Xre}=Array,{getPrototypeOf:Zre,prototype:Jre,keys:eie}=Object;const{isArray:nie}=Array;const hu=new G("CallSetDisabledState",{providedIn:"root",factory:()=>ig}),ig="always";let w2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({}),t})(),sse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({imports:[w2]}),t})(),ase=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hu,useValue:n.callSetDisabledState??ig}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({imports:[sse]}),t})();function Y(...t){return lt(t,ku(t))}class Dr extends Yn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const cg=Fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function V2(...t){const e=ku(t),n=function k0(t){return Ee(Hg(t))?t.pop():void 0}(t),{args:r,keys:i}=function RU(t){if(1===t.length){const e=t[0];if(Xre(e))return{args:e,keys:null};if(function tie(t){return t&&"object"==typeof t&&Zre(t)===Jre}(e)){const n=eie(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return lt([],e);const s=new ke(function use(t,e,n=Zr){return r=>{U2(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)U2(e,()=>{const c=lt(t[u],e);let l=!1;c.subscribe(ct(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function NU(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Zr));return n?s.pipe(function kU(t){return le(e=>function rie(t,e){return nie(e)?t(...e):t(e)}(t,e))}(n)):s}function U2(t,e,n){t?Jr(n,t,e):e()}function LT(...t){return function cse(){return ko(1)}()(lt(t,ku(t)))}function $2(t){return new ke(e=>{Zn(t()).subscribe(e)})}function ql(t,e){const n=Ee(t)?t:()=>t,r=i=>i.error(n());return new ke(e?i=>e.schedule(r,0,i):r)}function VT(){return ut((t,e)=>{let n=null;t._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class B2 extends ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Au(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new at;const n=this.getSubject();e.add(this.source.subscribe(ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=at.EMPTY)}return e}refCount(){return VT()(this)}}function qr(t,e){return ut((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ct(r,u=>{i?.unsubscribe();let c=0;const l=s++;Zn(t(u,l)).subscribe(i=ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Wl(t){return t<=0?()=>Cr:ut((e,n)=>{let r=0;e.subscribe(ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function gs(t,e){return ut((n,r)=>{let i=0;n.subscribe(ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function lg(t){return ut((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function j2(t=dse){return ut((e,n)=>{let r=!1;e.subscribe(ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function dse(){return new cg}function ms(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gs((i,s)=>t(i,s,r)):Zr,Wl(1),n?lg(e):j2(()=>new cg))}function Do(t,e){return Ee(e)?Pt(t,e,1):Pt(t,1)}function ys(t){return ut((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ct(n,void 0,void 0,o=>{s=Zn(t(o,ys(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function G2(t,e){return ut(function hse(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ct(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function UT(t){return t<=0?()=>Cr:ut((e,n)=>{let r=[];e.subscribe(ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function H2(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gs((i,s)=>t(i,s,r)):Zr,UT(1),n?lg(e):j2(()=>new cg))}function $T(t){return ut((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const oe="primary",Kl=Symbol("RouteTitle");class gse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function fu(t){return new gse(t)}function mse(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!z2(t[i],e[i]))return!1;return!0}function z2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function q2(t){return Array.prototype.concat.apply([],t)}function W2(t){return t.length>0?t[t.length-1]:null}function Wt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _s(t){return Ry(t)?t:ac(t)?lt(Promise.resolve(t)):Y(t)}const dg=!1,_se={exact:function Y2(t,e,n){if(!bo(t.segments,e.segments)||!hg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Y2(t.children[r],e.children[r],n))return!1;return!0},subset:X2},K2={exact:function vse(t,e){return Wr(t,e)},subset:function wse(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>z2(t[n],e[n]))},ignored:()=>!0};function Q2(t,e,n){return _se[n.paths](t.root,e.root,n.matrixParams)&&K2[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function X2(t,e,n){return Z2(t,e,e.segments,n)}function Z2(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!bo(i,n)||e.hasChildren()||!hg(i,n,r))}if(t.segments.length===n.length){if(!bo(t.segments,n)||!hg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!X2(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(bo(t.segments,i)&&hg(t.segments,i,r)&&t.children[oe])&&Z2(t.children[oe],e,s,r)}}function hg(t,e,n){return e.every((r,i)=>K2[n](t[i].parameters,r.parameters))}class vs{constructor(e=new he([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fu(this.queryParams)),this._queryParamMap}toString(){return Dse.serialize(this)}}class he{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Wt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fg(this)}}class Ql{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=fu(this.parameters)),this._parameterMap}toString(){return t$(this)}}function bo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Yl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return new BT},providedIn:"root"}),t})();class BT{parse(e){const n=new kse(e);return new vs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Xl(e.root,!0)}`,r=function Tse(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${pg(n)}=${pg(i)}`).join("&"):`${pg(n)}=${pg(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function bse(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Dse=new BT;function fg(t){return t.segments.map(e=>t$(e)).join("/")}function Xl(t,e){if(!t.hasChildren())return fg(t);if(e){const n=t.children[oe]?Xl(t.children[oe],!1):"",r=[];return Wt(t.children,(i,s)=>{s!==oe&&r.push(`${s}:${Xl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ese(t,e){let n=[];return Wt(t.children,(r,i)=>{i===oe&&(n=n.concat(e(r,i)))}),Wt(t.children,(r,i)=>{i!==oe&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===oe?[Xl(t.children[oe],!1)]:[`${i}:${Xl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[oe]?`${fg(t)}/${n[0]}`:`${fg(t)}/(${n.join("//")})`}}function J2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pg(t){return J2(t).replace(/%3B/gi,";")}function jT(t){return J2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gg(t){return decodeURIComponent(t)}function e$(t){return gg(t.replace(/\+/g,"%20"))}function t$(t){return`${jT(t.path)}${function Cse(t){return Object.keys(t).map(e=>`;${jT(e)}=${jT(t[e])}`).join("")}(t.parameters)}`}const Sse=/^[^\/()?;=#]+/;function mg(t){const e=t.match(Sse);return e?e[0]:""}const Ase=/^[^=?&#]+/,Mse=/^[^&#]+/;class kse{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new he(e,n)),r}parseSegment(){const e=mg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new R(4009,dg);return this.capture(e),new Ql(gg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=mg(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=mg(this.remaining);i&&(r=i,this.capture(r))}e[gg(n)]=gg(r)}parseQueryParam(e){const n=function xse(t){const e=t.match(Ase);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Rse(t){const e=t.match(Mse);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=e$(n),s=e$(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new R(4010,dg);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[oe]:new he([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new R(4011,dg)}}function GT(t){return t.segments.length>0?new he([],{[oe]:t}):t}function yg(t){const e={};for(const r of Object.keys(t.children)){const s=yg(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Nse(t){if(1===t.numberOfChildren&&t.children[oe]){const e=t.children[oe];return new he(t.segments.concat(e.segments),e.children)}return t}(new he(t.segments,e))}function Co(t){return t instanceof vs}const HT=!1;function Ose(t,e,n,r,i){if(0===n.length)return pu(e.root,e.root,e.root,r,i);const s=function o$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new s$(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Wt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new s$(n,e,r)}(n);return s.toRoot()?pu(e.root,e.root,new he([],{}),r,i):function o(u){const c=function Fse(t,e,n,r){if(t.isAbsolute)return new gu(e.root,!0,0);if(-1===r)return new gu(n,n===e.root,0);return function a$(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,HT&&"Invalid number of '../'");i=r.segments.length}return new gu(r,!1,i-s)}(n,r+(Zl(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?mu(c.segmentGroup,c.index,s.commands):zT(c.segmentGroup,c.index,s.commands);return pu(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Zl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jl(t){return"object"==typeof t&&null!=t&&t.outlets}function pu(t,e,n,r,i){let o,s={};r&&Wt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:i$(t,e,n);const a=GT(yg(o));return new vs(a,s,i)}function i$(t,e,n){const r={};return Wt(t.children,(i,s)=>{r[s]=i===e?n:i$(i,e,n)}),new he(t.segments,r)}class s${constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Zl(r[0]))throw new R(4003,HT&&"Root segment cannot have matrix parameters");const i=r.find(Jl);if(i&&i!==W2(r))throw new R(4004,HT&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gu{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function zT(t,e,n){if(t||(t=new he([],{})),0===t.segments.length&&t.hasChildren())return mu(t,e,n);const r=function Vse(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Jl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!c$(u,c,o))return s;r+=2}else{if(!c$(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new he(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new he(t.segments.slice(r.pathIndex),t.children),mu(s,0,i)}return r.match&&0===i.length?new he(t.segments,{}):r.match&&!t.hasChildren()?qT(t,e,n):r.match?mu(t,0,i):qT(t,e,n)}function mu(t,e,n){if(0===n.length)return new he(t.segments,{});{const r=function Lse(t){return Jl(t[0])?t[0].outlets:{[oe]:t}}(n),i={};return!r[oe]&&t.children[oe]&&1===t.numberOfChildren&&0===t.children[oe].segments.length?mu(t.children[oe],e,n):(Wt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=zT(t.children[o],e,s))}),Wt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new he(t.segments,i))}}function qT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Jl(s)){const u=Use(s.outlets);return new he(r,u)}if(0===i&&Zl(n[0])){r.push(new Ql(t.segments[e].path,u$(n[0]))),i++;continue}const o=Jl(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Zl(a)?(r.push(new Ql(o,u$(a))),i+=2):(r.push(new Ql(o,{})),i++)}return new he(r,{})}function Use(t){const e={};return Wt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=qT(new he([],{}),0,n))}),e}function u$(t){const e={};return Wt(t,(n,r)=>e[r]=`${n}`),e}function c$(t,e,n){return t==n.path&&Wr(e,n.parameters)}const ed="imperative";class Kr{constructor(e,n){this.id=e,this.url=n}}class WT extends Kr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends Kr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _g extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vg extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class KT extends Kr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $se extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bse extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jse extends Kr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gse extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hse extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zse{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qse{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wse{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kse{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qse{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yse{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l${constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Jse=(()=>{class t{createUrlTree(n,r,i,s,o,a){return Ose(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),toe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(e){return Jse.\u0275fac(e)},providedIn:"root"}),t})();class d${constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=QT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=QT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=YT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return YT(e,this._root).map(n=>n.value)}}function QT(t,e){if(t===e.value)return e;for(const n of e.children){const r=QT(t,n);if(r)return r}return null}function YT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=YT(t,n);if(r.length)return r.unshift(e),r}return[]}class Pi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function yu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class h$ extends d${constructor(e,n){super(e),this.snapshot=n,XT(this,e)}toString(){return this.snapshot.toString()}}function f$(t,e){const n=function noe(t,e){const o=new wg([],{},{},"",{},oe,e,null,t.root,-1,{});return new g$("",new Pi(o,[]))}(t,e),r=new Dr([new Ql("",{})]),i=new Dr({}),s=new Dr({}),o=new Dr({}),a=new Dr(""),u=new _u(r,i,o,a,s,oe,e,n.root);return u.snapshot=n.root,new h$(new Pi(u,[]),n)}class _u{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(le(c=>c[Kl]))??Y(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(e=>fu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(e=>fu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p$(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function roe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wg{get title(){return this.data?.[Kl]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class g$ extends d${constructor(e,n){super(n),this.url=e,XT(this,n)}toString(){return m$(this._root)}}function XT(t,e){e.value._routerState=t,e.children.forEach(n=>XT(t,n))}function m$(t){const e=t.children.length>0?` { ${t.children.map(m$).join(", ")} } `:"";return`${t.value}${e}`}function ZT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Wr(e.params,n.params)||t.params.next(n.params),function yse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Wr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function JT(t,e){const n=Wr(t.params,e.params)&&function Ise(t,e){return bo(t,e)&&t.every((n,r)=>Wr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||JT(t.parent,e.parent))}function td(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function soe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return td(t,r,i);return td(t,r)})}(t,e,n);return new Pi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>td(t,a)),o}}const r=function ooe(t){return new _u(new Dr(t.url),new Dr(t.params),new Dr(t.queryParams),new Dr(t.fragment),new Dr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>td(t,s));return new Pi(r,i)}}const e0="ngNavigationCancelingError";function y$(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_$(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function _$(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[e0]=!0,r.cancellationCode=e,n&&(r.url=n),r}function v$(t){return w$(t)&&Co(t.url)}function w$(t){return t&&t[e0]}class aoe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new aoe,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ig=!1;let t0=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=ge(nd),this.location=ge(yr),this.changeDetector=ge(Rh),this.environmentInjector=ge(oi)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,Ig);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,Ig);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,Ig);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new R(4013,Ig);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new uoe(n,a,i.injector);if(r&&function coe(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ee({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]}),t})();class uoe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_u?this.route:e===nd?this.childContexts:this.parent.get(e,n)}}let n0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["ng-component"]],standalone:!0,features:[sR],decls:1,vars:0,template:function(n,r){1&n&&li(0,"router-outlet")},dependencies:[t0],encapsulation:2}),t})();function I$(t,e){return t.providers&&!t._injector&&(t._injector=Ih(t.providers,e,`Route: ${t.path}`)),t._injector??e}function s0(t){const e=t.children&&t.children.map(s0),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=n0),n}function lr(t){return t.outlet||oe}function E$(t,e){const n=t.filter(r=>lr(r)===e);return n.push(...t.filter(r=>lr(r)!==e)),n}function rd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class poe{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ZT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=yu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Wt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=yu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=yu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yse(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kse(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(ZT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ZT(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=rd(i.snapshot),u=a?.get(nc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class D${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eg{constructor(e,n){this.component=e,this.route=n}}function goe(t,e,n){const r=t._root;return id(r,e?e._root:null,n,[r.value])}function vu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function DB(t){return null!==bd(t)}(t)?e.get(t):t:r}function id(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=yu(e);return t.children.forEach(o=>{(function yoe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function _oe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(t.url,e.url)||!Wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!JT(t,e)||!Wr(t.queryParams,e.queryParams);default:return!JT(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new D$(r)):(s.data=o.data,s._resolvedData=o._resolvedData),id(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Eg(a.outlet.component,o))}else o&&sd(e,a,i),i.canActivateChecks.push(new D$(r)),id(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Wt(s,(o,a)=>sd(o,n.getContext(a),i)),i}function sd(t,e,n){const r=yu(t),i=t.value;Wt(r,(s,o)=>{sd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Eg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function od(t){return"function"==typeof t}function o0(t){return t instanceof cg||"EmptyError"===t?.name}const Dg=Symbol("INITIAL_VALUE");function wu(){return qr(t=>V2(t.map(e=>e.pipe(Wl(1),function lse(...t){const e=ku(t);return ut((n,r)=>{(e?LT(t,n,e):LT(t,n)).subscribe(r)})}(Dg)))).pipe(le(e=>{for(const n of e)if(!0!==n){if(n===Dg)return Dg;if(!1===n||n instanceof vs)return n}return!0}),gs(e=>e!==Dg),Wl(1)))}function b$(t){return function pd(...t){return gd(t)}(Bt(e=>{if(Co(e))throw y$(0,e)}),le(e=>!0===e))}const a0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C$(t,e,n,r,i){const s=u0(t,e,n);return s.matched?function Poe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Y(i.map(o=>{const a=vu(o,t);return _s(function boe(t){return t&&od(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(wu(),b$()):Y(!0)}(r=I$(e,r),e,n).pipe(le(o=>!0===o?s:{...a0})):Y(s)}function u0(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...a0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||mse)(n,t,e);if(!i)return{...a0};const s={};Wt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function bg(t,e,n,r){if(n.length>0&&function Voe(t,e,n){return n.some(r=>Cg(t,e,r)&&lr(r)!==oe)}(t,n,r)){const s=new he(e,function Loe(t,e,n,r){const i={};i[oe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&lr(s)!==oe){const o=new he([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[lr(s)]=o}return i}(t,e,r,new he(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function Uoe(t,e,n){return n.some(r=>Cg(t,e,r))}(t,n,r)){const s=new he(t.segments,function Foe(t,e,n,r,i){const s={};for(const o of r)if(Cg(t,n,o)&&!i[lr(o)]){const a=new he([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[lr(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new he(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Cg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function T$(t,e,n,r){return!!(lr(t)===r||r!==oe&&Cg(e,n,t))&&("**"===t.path||u0(e,t,n).matched)}function S$(t,e,n){return 0===e.length&&!t.children[n]}const Tg=!1;class Sg{constructor(e){this.segmentGroup=e||null}}class A${constructor(e){this.urlTree=e}}function ad(t){return ql(new Sg(t))}function x$(t){return ql(new A$(t))}function $oe(t){return ql(new R(4e3,Tg&&`Only absolute redirects can have named outlets. redirectTo: '${t}'`))}class Goe{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=bg(this.urlTree.root,[],[],this.config).segmentGroup,n=new he(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,oe).pipe(le(s=>this.createUrlTree(yg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ys(s=>{if(s instanceof A$)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Sg?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,oe).pipe(le(i=>this.createUrlTree(yg(i),e.queryParams,e.fragment))).pipe(ys(i=>{throw i instanceof Sg?this.noMatchError(i):i}))}noMatchError(e){return new R(4002,Tg&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=GT(e);return new vs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(le(s=>new he([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return lt(i).pipe(Do(s=>{const o=r.children[s],a=E$(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(le(u=>({segment:u,outlet:s})))}),G2((s,o)=>(s[o.outlet]=o.segment,s),{}),H2())}expandSegment(e,n,r,i,s,o){return lt(r).pipe(Do(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ys(c=>{if(c instanceof Sg)return Y(null);throw c}))),ms(a=>!!a),ys((a,u)=>{if(o0(a))return S$(n,i,s)?Y(new he([],{})):ad(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return T$(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):ad(n):ad(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?x$(s):this.lineralizeSegments(r,s).pipe(Pt(o=>{const a=new he(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=u0(n,i,s);if(!a)return ad(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?x$(d):this.lineralizeSegments(i,d).pipe(Pt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=I$(r,e),r.loadChildren?(r._loadedRoutes?Y({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new he(i,{})))):Y(new he(i,{}))):C$(n,r,i,e).pipe(qr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Pt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=bg(n,a,u,h),g=new he(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(le(w=>new he(a,w)));if(0===h.length&&0===p.length)return Y(new he(a,{}));const m=lr(r)===s;return this.expandSegment(d,g,h,p,m?oe:s,!0).pipe(le(S=>new he(a.concat(S.segments),S.children)))})):ad(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ooe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(o=>{const a=vu(o,t);return _s(function woe(t){return t&&od(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(wu(),b$())}(e,n,r).pipe(Pt(i=>i?this.configLoader.loadChildren(e,n).pipe(Bt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Boe(t){return ql(_$(Tg&&`Cannot load children because the guard of the route "path: '${t.path}'" returned false`,3))}(n))):Y({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[oe])return $oe(e.redirectTo);i=i.children[oe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new vs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Wt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Wt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new he(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new R(4001,Tg&&`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class zoe{}class Koe{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=bg(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(le(n=>{if(null===n)return null;const r=new wg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Pi(r,n),s=new g$(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=p$(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return lt(Object.keys(r.children)).pipe(Do(i=>{const s=r.children[i],o=E$(n,i);return this.processSegmentGroup(e,o,s,i)}),G2((i,s)=>i&&s?(i.push(...s),i):null),function fse(t,e=!1){return ut((n,r)=>{let i=0;n.subscribe(ct(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),lg(null),H2(),le(i=>{if(null===i)return null;const s=R$(i);return function Qoe(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return lt(n).pipe(Do(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ms(o=>!!o),ys(o=>{if(o0(o))return S$(r,i,s)?Y([]):Y(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!T$(n,r,i,s))return Y(null);let o;if("**"===n.path){const a=i.length>0?W2(i).parameters:{},u=N$(r)+i.length;o=Y({snapshot:new wg(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O$(n),lr(n),n.component??n._loadedComponent??null,n,k$(r),u,P$(n)),consumedSegments:[],remainingSegments:[]})}else o=C$(r,n,i,e).pipe(le(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=N$(r)+u.length;return{snapshot:new wg(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O$(n),lr(n),n.component??n._loadedComponent??null,n,k$(r),d,P$(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(qr(a=>{if(null===a)return Y(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Yoe(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=bg(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(le(m=>null===m?null:[new Pi(u,m)]));if(0===h.length&&0===p.length)return Y([new Pi(u,[])]);const g=lr(n)===s;return this.processSegment(d,h,f,p,g?oe:s).pipe(le(m=>null===m?null:[new Pi(u,m)]))}))}}function Xoe(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function R$(t){const e=[],n=new Set;for(const r of t){if(!Xoe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=R$(r.children);e.push(new Pi(r.value,i))}return e.filter(r=>!n.has(r))}function k$(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function N$(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function O$(t){return t.data||{}}function P$(t){return t.resolve||{}}function F$(t){return"string"==typeof t.title||null===t.title}function c0(t){return qr(e=>{const n=t(e);return n?lt(n).pipe(le(()=>e)):Y(e)})}const Iu=new G("ROUTES");let l0=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=_s(n.loadComponent()).pipe(le(V$),Bt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),$T(()=>{this.componentLoaders.delete(n)})),i=new B2(r,()=>new Yn).pipe(VT());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=q2(u.get(Iu,[],Z.Self|Z.Optional)));return{routes:c.map(s0),injector:u}}),$T(()=>{this.childrenLoaders.delete(r)})),o=new B2(s,()=>new Yn).pipe(VT());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return _s(n()).pipe(le(V$),Pt(i=>i instanceof rR||Array.isArray(i)?Y(i):lt(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(W(Bn),W(WR))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function V$(t){return function oae(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let xg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yn,this.configLoader=ge(l0),this.environmentInjector=ge(oi),this.urlSerializer=ge(Yl),this.rootContexts=ge(nd),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new qse(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new zse(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ed,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gs(r=>0!==r.id),le(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),qr(r=>{let i=!1,s=!1;return Y(r).pipe(Bt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new vg(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Cr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return U$(o.source)&&(n.browserUrlTree=o.extractedUrl),Y(o).pipe(qr(l=>{const d=this.transitions?.getValue();return this.events.next(new WT(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Cr:Promise.resolve(l)}),function Hoe(t,e,n,r){return qr(i=>function joe(t,e,n,r,i){return new Goe(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(le(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Bt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function Joe(t,e,n,r,i){return Pt(s=>function Woe(t,e,n,r,i,s,o="emptyOnly"){return new Koe(t,e,n,r,i,o,s).recognize().pipe(qr(a=>null===a?function qoe(t){return new ke(e=>e.error(t))}(new zoe):Y(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(le(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Bt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new $se(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new WT(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=f$(d,this.rootComponentType).snapshot;return Y(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new vg(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Cr}}),Bt(o=>{const a=new Bse(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),le(o=>r={...o,guards:goe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Toe(t,e){return Pt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y({...n,guardsResult:!0}):function Soe(t,e,n,r){return lt(t).pipe(Pt(i=>function Noe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=rd(e)??i,c=vu(a,u);return _s(function Doe(t){return t&&od(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ms())})).pipe(wu()):Y(!0)}(i.component,i.route,n,e,r)),ms(i=>!0!==i,!0))}(o,r,i,t).pipe(Pt(a=>a&&function voe(t){return"boolean"==typeof t}(a)?function Aoe(t,e,n,r){return lt(e).pipe(Do(i=>LT(function Moe(t,e){return null!==t&&e&&e(new Wse(t)),Y(!0)}(i.route.parent,r),function xoe(t,e){return null!==t&&e&&e(new Qse(t)),Y(!0)}(i.route,r),function koe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function moe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>$2(()=>Y(o.guards.map(u=>{const c=rd(o.node)??n,l=vu(u,c);return _s(function Eoe(t){return t&&od(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ms())})).pipe(wu())));return Y(s).pipe(wu())}(t,i.path,n),function Roe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>$2(()=>{const o=rd(e)??n,a=vu(s,o);return _s(function Ioe(t){return t&&od(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ms())}));return Y(i).pipe(wu())}(t,i.route,n))),ms(i=>!0!==i,!0))}(r,s,t,e):Y(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Bt(o=>{if(r.guardsResult=o.guardsResult,Co(o.guardsResult))throw y$(0,o.guardsResult);const a=new jse(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),gs(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),c0(o=>{if(o.guards.canActivateChecks.length)return Y(o).pipe(Bt(a=>{const u=new Gse(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),qr(a=>{let u=!1;return Y(a).pipe(function eae(t,e){return Pt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return lt(i).pipe(Do(o=>function tae(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!F$(i)&&(s[Kl]=i.title),function nae(t,e,n,r){const i=function rae(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Y({});const s={};return lt(i).pipe(Pt(o=>function iae(t,e,n,r){const i=rd(e)??r,s=vu(t,i);return _s(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ms(),Bt(a=>{s[o]=a}))),UT(1),function pse(t){return le(()=>t)}(s),ys(o=>o0(o)?Cr:ql(o)))}(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=p$(t,n).resolve,i&&F$(i)&&(t.data[Kl]=i.title),null)))}(o.route,r,t,e)),Bt(()=>s++),UT(1),Pt(o=>s===i.length?Y(n):Cr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Bt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Bt(a=>{const u=new Hse(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),c0(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Bt(l=>{u.component=l}),le(()=>{})));for(const l of u.children)c.push(...a(l));return c};return V2(a(o.targetSnapshot.root)).pipe(lg(),Wl(1))}),c0(()=>this.afterPreactivation()),le(o=>{const a=function ioe(t,e,n){const r=td(t,e._root,n?n._root:void 0);return new h$(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Bt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>le(r=>(new poe(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Bt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new To(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),$T(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ys(o=>{if(s=!0,w$(o)){v$(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new _g(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),v$(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||U$(r.source)};n.scheduleNavigation(u,ed,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new KT(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Cr}))}))}cancelNavigationTransition(n,r,i){const s=new _g(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function U$(t){return t!==ed}let $$=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[Kl]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return ge(aae)},providedIn:"root"}),t})(),aae=(()=>{class t extends $${constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(W(dN))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return ge(lae)},providedIn:"root"}),t})();class cae{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let lae=(()=>{class t extends cae{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Vt(t){return Bi(()=>{const e=t.prototype.constructor,n=e[ti]||Im(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ti]||Im(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Mg=new G("",{providedIn:"root",factory:()=>({})});let hae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return ge(fae)},providedIn:"root"}),t})(),fae=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pae(t){throw t}function gae(t,e,n){return e.parse("/")}const mae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ge(e4),this.isNgZoneEnabled=!1,this.options=ge(Mg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pae,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gae,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ge(hae),this.routeReuseStrategy=ge(uae),this.urlCreationStrategy=ge(toe),this.titleStrategy=ge($$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=q2(ge(Iu,{optional:!0})??[]),this.navigationTransitions=ge(xg),this.urlSerializer=ge(Yl),this.location=ge(D_),this.isNgZoneEnabled=ge(Be)instanceof Be&&Be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=f$(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ed,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(s0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Co(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ed,null,r)}navigate(n,r={skipLocationChange:!1}){return function _ae(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new R(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...mae}:!1===r?{...yae}:r,Co(n))return Q2(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Q2(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Rg=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Yn;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof To&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=va(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=va(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=va(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function SA(t,e,n){return function ZG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?TA:CA}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(x(Kn),x(_u),function Hd(t){return function Dj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(mS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Lt(),t)}("tabindex"),x(ai),x($n),x(Os))},t.\u0275dir=ee({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&or("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Nr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[nr]}),t})();class B${}let Iae=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gs(n=>n instanceof To),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ih(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return lt(i).pipe(ko())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Y(null);const s=i.pipe(Pt(o=>null===o?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?lt([s,this.loader.loadComponent(r)]).pipe(ko()):s})}}return t.\u0275fac=function(n){return new(n||t)(W(Kn),W(WR),W(oi),W(B$),W(l0))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const h0=new G("");let j$=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof WT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof To&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof l$&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new l$(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function sx(){throw new Error("invalid")}()},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();var Qn=(()=>((Qn=Qn||{})[Qn.COMPLETE=0]="COMPLETE",Qn[Qn.FAILED=1]="FAILED",Qn[Qn.REDIRECTING=2]="REDIRECTING",Qn))();const Eu=!1;function ws(t,e){return{\u0275kind:t,\u0275providers:e}}const f0=new G("",{providedIn:"root",factory:()=>!1});function H$(){const t=ge(Bn);return e=>{const n=t.get(xh);if(e!==n.components[0])return;const r=t.get(Kn),i=t.get(z$);1===t.get(p0)&&r.initialNavigation(),t.get(q$,null,Z.Optional)?.setUpPreloading(),t.get(h0,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const z$=new G(Eu?"bootstrap done indicator":"",{factory:()=>new Yn}),p0=new G(Eu?"initial navigation":"",{providedIn:"root",factory:()=>1});function Tae(){let t=[];return t=Eu?[{provide:th,multi:!0,useFactory:()=>{const e=ge(Kn);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function Xse(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],ws(1,t)}const q$=new G(Eu?"router preloader":"");function Sae(t){return ws(0,[{provide:q$,useExisting:Iae},{provide:B$,useExisting:t}])}const ud=!1,W$=new G(ud?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Aae=[D_,{provide:Yl,useClass:BT},Kn,nd,{provide:_u,useFactory:function G$(t){return t.routerState.root},deps:[Kn]},l0,ud?{provide:f0,useValue:!0}:[]];function xae(){return new tk("Router",Kn)}let K$=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Aae,ud&&r?.enableTracing?Tae().\u0275providers:[],{provide:Iu,multi:!0,useValue:n},{provide:W$,useFactory:Nae,deps:[[Kn,new cn,new Wu]]},{provide:Mg,useValue:r||{}},r?.useHash?{provide:Os,useClass:B4}:{provide:Os,useClass:bk},{provide:h0,useFactory:()=>{const t=ge(u6),e=ge(Be),n=ge(Mg),r=ge(xg),i=ge(Yl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new j$(i,r,t,e,n)}},r?.preloadingStrategy?Sae(r.preloadingStrategy).\u0275providers:[],{provide:tk,multi:!0,useFactory:xae},r?.initialNavigation?Oae(r):[],[{provide:Q$,useFactory:H$},{provide:ek,multi:!0,useExisting:Q$}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Iu,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(W(W$,8))},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({imports:[n0]}),t})();function Nae(t){if(ud&&t)throw new R(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Oae(t){return["disabled"===t.initialNavigation?ws(3,[{provide:Ch,multi:!0,useFactory:()=>{const e=ge(Kn);return()=>{e.setUpLocationChangeListener()}}},{provide:p0,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ws(2,[{provide:p0,useValue:0},{provide:Ch,multi:!0,deps:[Bn],useFactory:e=>{const n=e.get(U4,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Kn),s=e.get(z$);(function Eae(t,e){t.events.pipe(gs(n=>n instanceof To||n instanceof _g||n instanceof KT||n instanceof vg),le(n=>n instanceof To||n instanceof vg?Qn.COMPLETE:n instanceof _g&&(0===n.code||1===n.code)?Qn.REDIRECTING:Qn.FAILED),gs(n=>n!==Qn.REDIRECTING),Wl(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(xg).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Q$=new G(ud?"Router Initializer":"");let Fae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-configuracion"]],decls:2,vars:0,template:function(n,r){1&n&&(St(0,"p"),ln(1,"configuracion works!"),wt())}}),t})(),Lae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-editar-clientes"]],decls:2,vars:0,template:function(n,r){1&n&&(St(0,"p"),ln(1,"editar-clientes works!"),wt())}}),t})(),Vae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-login"]],decls:2,vars:0,template:function(n,r){1&n&&(St(0,"p"),ln(1,"login works!"),wt())}}),t})(),Uae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(n,r){1&n&&(St(0,"p"),ln(1,"no-encontrado works!"),wt())}}),t})(),$ae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-register"]],decls:2,vars:0,template:function(n,r){1&n&&(St(0,"p"),ln(1,"register works!"),wt())}}),t})(),Y$=(()=>{class t{constructor(n){this.firestore=n;const r=MU(this.firestore,"clients");this.cliente$=xU(r)}getClients(){let n=MU(this.firestore,"clients");return xU(n,{idField:"id"})}}return t.\u0275fac=function(n){return new(n||t)(W(Zp))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function Bae(t,e){if(1&t&&(St(0,"tr")(1,"td"),ln(2),wt(),St(3,"td"),ln(4),wt()()),2&t){const n=e.$implicit,r=e.index;ih(2),Ly(r+1),ih(2),Uy("",n.name," ",n.surname,"")}}let jae=(()=>{class t{constructor(n){this.clientService=n}ngOnInit(){this.clientService.getClients().subscribe(n=>this.clients=n)}}return t.\u0275fac=function(n){return new(n||t)(x(Y$))},t.\u0275cmp=On({type:t,selectors:[["app-clientes"]],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(St(0,"section")(1,"h1"),ln(2,"Control de Clientes"),wt(),function Px(t,e,n,r,i,s,o,a){const u=T(),c=ye(),l=t+Le,d=c.firstCreatePass?function Yz(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ra(e,t,4,o||null,ji(c,a));_y(e,n,l,ji(c,u)),Fd(e,l);const d=l.tView=yy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];xr(d,!1);const h=u[de].createComment("");Yd(c,u,h,d),Xt(h,u),uh(u,u[l]=gx(h,u,h,d)),Nd(d)&&gy(c,u,d),null!=o&&my(u,d,a)}(3,Bae,5,3,"tr",0),wt()),2&n&&(ih(3),Sy("ngForOf",r.clients))},dependencies:[Lk]}),t})();const Gae=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-tablero"]],decls:8,vars:0,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-cog"]],template:function(n,r){1&n&&(St(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),li(5,"i",4),ln(6,"Client Control "),wt()()()()(),li(7,"app-clientes"))},dependencies:[jae]}),t})()},{path:"login",component:Vae},{path:"registrarse",component:$ae},{path:"configuracion",component:Fae},{path:"cliente/editar/:id",component:Lae},{path:"**",component:Uae}];let Hae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tr({type:t}),t.\u0275inj=Nn({imports:[K$.forRoot(Gae),K$]}),t})(),zae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-cabecero"]],decls:20,vars:0,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"navbar-nav","ml-auto"],[1,"nav-item","dropdown","mr-3"],["href","#","data-bs-toggle","dropdown","data-bs-target","#navbarCollapse",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user"],[1,"dropdown-menu"],["routerLink","/configuracion",1,"dropdown-item"],[1,"fas","fa-cog"]],template:function(n,r){1&n&&(St(0,"nav",0)(1,"div",1)(2,"a",2),ln(3,"Client Control"),wt(),St(4,"button",3),li(5,"span",4),wt()(),St(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),ln(10,"Inicio"),wt()()(),St(11,"ul",9)(12,"li",10)(13,"a",11),li(14,"i",12),ln(15,"Bienvenido "),wt(),St(16,"div",13)(17,"a",14),li(18,"i",15),ln(19,"Configuracion "),wt()()()()()())},dependencies:[Rg]}),t})(),qae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-warning","text-white","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(n,r){1&n&&(St(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),ln(5," Copyright \xa9 Jose-Campos1 "),wt()()()()())}}),t})(),Wae=(()=>{class t{constructor(){this.title="clients-control"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=On({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){1&n&&li(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},dependencies:[t0,zae,qae]}),t})(),Kae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tr({type:t,bootstrap:[Wae]}),t.\u0275inj=Nn({providers:[Y$],imports:[oK,Hae,jQ(()=>GQ(m9_firebase)),Qre(()=>Yre()),ase]}),t})();sK().bootstrapModule(Kae).catch(t=>console.error(t))},321:()=>{const Ee=":";class ut extends Error{constructor(y){super(`No translation found for ${xu(y)}.`),this.parsedMessage=y,this.type="MissingTranslationError"}}const vd=function(v,...y){if(vd.translate){const C=vd.translate(v,y);v=C[0],y=C[1]}let b=Gg(v[0],v.raw[0]);for(let C=1;C<v.length;C++)b+=y[C-1]+Gg(v[C],v.raw[C]);return b},_0=":";function Gg(v,y){return y.charAt(0)===_0?v.substring(function Au(v,y){for(let b=1,C=1;b<v.length;b++,C++)if("\\"===y[C])C++;else if(v[b]===Ee)return b;throw new Error(`Unterminated $localize metadata block in "${y}".`)}(v,y)+1):v}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=vd}},Ee=>{var Fi=Li=>Ee(Ee.s=Li);Fi(321),Fi(291)}]);