(self.webpackChunkclients_control=self.webpackChunkclients_control||[]).push([[179],{2011:(Dt,Te,L)=>{"use strict";L.d(Te,{Dh:()=>ve,GT:()=>fe,cc:()=>ue,hO:()=>Le,on:()=>G,pX:()=>ae,xv:()=>_e});var E=L(4650),h=L(9260),V=L(462);Dt=L.hmd(Dt);const ne=["ngOnDestroy"],ae=(we,Ae,Re,Fe={})=>new Proxy(we,{get:(je,Ve)=>Re.runOutsideAngular(()=>{var rt;if(we[Ve])return!(null===(rt=Fe?.spy)||void 0===rt)&&rt.get&&Fe.spy.get(Ve,we[Ve]),we[Ve];if(ne.indexOf(Ve)>-1)return()=>{};const Y=Ae.toPromise().then(pe=>{const Ne=pe&&pe[Ve];return"function"==typeof Ne?Ne.bind(pe):Ne&&Ne.then?Ne.then(ut=>Re.run(()=>ut)):Re.run(()=>Ne)});return new Proxy(()=>{},{get:(pe,Ne)=>Y[Ne],apply:(pe,Ne,ut)=>Y.then(Xe=>{var Ft;const lt=Xe&&Xe(...ut);return!(null===(Ft=Fe?.spy)||void 0===Ft)&&Ft.apply&&Fe.spy.apply(Ve,ut,lt),lt})})})}),fe=(we,Ae)=>{Ae.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Fe=>{Object.defineProperty(we.prototype,Fe,Object.getOwnPropertyDescriptor(Re.prototype||Re,Fe))})})};class ge{constructor(Ae){return Ae}}const ve=new E.InjectionToken("angularfire2.app.options"),_e=new E.InjectionToken("angularfire2.app.name");function G(we,Ae,Re){const je="object"==typeof Re&&Re||{};je.name=je.name||"string"==typeof Re&&Re||"[DEFAULT]";const rt=h.Z.apps.filter(Y=>Y&&Y.name===je.name)[0]||Ae.runOutsideAngular(()=>h.Z.initializeApp(we,je));try{JSON.stringify(we)!==JSON.stringify(rt.options)&&q("error",`${rt.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(rt)}const q=(we,...Ae)=>{(0,E.isDevMode)()&&typeof console<"u"&&console[we](...Ae)},Z={provide:ge,useFactory:G,deps:[ve,E.NgZone,[new E.Optional,_e]]};let Le=(()=>{class we{constructor(Re){h.Z.registerVersion("angularfire",V.q4.full,"core"),h.Z.registerVersion("angularfire",V.q4.full,"app-compat"),h.Z.registerVersion("angular",E.VERSION.full,Re.toString())}static initializeApp(Re,Fe){return{ngModule:we,providers:[{provide:ve,useValue:Re},{provide:_e,useValue:Fe}]}}}return we.\u0275fac=function(Re){return new(Re||we)(E.\u0275\u0275inject(E.PLATFORM_ID))},we.\u0275mod=E.\u0275\u0275defineNgModule({type:we}),we.\u0275inj=E.\u0275\u0275defineInjector({providers:[Z]}),we})();function ue(we,Ae,Re,Fe,je){const[,Ve,rt]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===we)||[];if(Ve)return function Se(we,Ae){try{return we.toString()===Ae.toString()}catch{return we===Ae}}(je,rt)||(he("error",`${Ae} was already initialized on the ${Re} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:je,was:rt})),Ve;{const Y=Fe();return globalThis.\u0275AngularfireInstanceCache.push([we,Y,je]),Y}}const We=!!Dt.hot,he=(we,...Ae)=>{(0,E.isDevMode)()&&typeof console<"u"&&console[we](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},462:(Dt,Te,L)=>{"use strict";L.d(Te,{q4:()=>Ws,iC:()=>Ds,HU:()=>Lo,vb:()=>Zs,JM:()=>ws,u3:()=>iu});var E=L(4650),h=L(259),V=L(5861),ne=L(9681),ae=L(2090),fe=L(4859),ge=L(1877);L(2833);const _e="@firebase/remote-config",G="0.4.4",ue=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xe{constructor(U,Q,Ie,Qe){this.client=U,this.storage=Q,this.storageCache=Ie,this.logger=Qe}isCachedDataFresh(U,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-Q,Qe=Ie<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${Qe}.`),Qe}fetch(U){var Q=this;return(0,V.Z)(function*(){const[Ie,Qe]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(Qe&&Q.isCachedDataFresh(U.cacheMaxAgeMillis,Ie))return Qe;U.eTag=Qe&&Qe.eTag;const tt=yield Q.client.fetch(U),Ut=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&Ut.push(Q.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(Ut),tt})()}}function Be(B=navigator){return B.languages&&B.languages[0]||B.language}class Ze{constructor(U,Q,Ie,Qe,tt,Ut){this.firebaseInstallations=U,this.sdkVersion=Q,this.namespace=Ie,this.projectId=Qe,this.apiKey=tt,this.appId=Ut}fetch(U){var Q=this;return(0,V.Z)(function*(){const[Ie,Qe]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),Ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,Ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},ur={sdk_version:Q.sdkVersion,app_instance_id:Ie,app_instance_id_token:Qe,app_id:Q.appId,language_code:Be()},bn={method:"POST",headers:Ln,body:JSON.stringify(ur)},Xn=fetch(Ut,bn),on=new Promise((hi,us)=>{U.signal.addEventListener(()=>{const Cs=new Error("The operation was aborted.");Cs.name="AbortError",us(Cs)})});let Gt;try{yield Promise.race([Xn,on]),Gt=yield Xn}catch(hi){let us="fetch-client-network";throw"AbortError"===hi?.name&&(us="fetch-timeout"),ue.create(us,{originalErrorMessage:hi?.message})}let di=Gt.status;const Vo=Gt.headers.get("ETag")||void 0;let Uo,Xs;if(200===Gt.status){let hi;try{hi=yield Gt.json()}catch(us){throw ue.create("fetch-client-parse",{originalErrorMessage:us?.message})}Uo=hi.entries,Xs=hi.state}if("INSTANCE_STATE_UNSPECIFIED"===Xs?di=500:"NO_CHANGE"===Xs?di=304:("NO_TEMPLATE"===Xs||"EMPTY_CONFIG"===Xs)&&(Uo={}),304!==di&&200!==di)throw ue.create("fetch-status",{httpStatus:di});return{status:di,eTag:Vo,config:Uo}})()}}class mt{constructor(U,Q){this.client=U,this.storage=Q}fetch(U){var Q=this;return(0,V.Z)(function*(){const Ie=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(U,Ie)})()}attemptFetch(U,{throttleEndTimeMillis:Q,backoffCount:Ie}){var Qe=this;return(0,V.Z)(function*(){yield function Ke(B,U){return new Promise((Q,Ie)=>{const Qe=Math.max(U-Date.now(),0),tt=setTimeout(Q,Qe);B.addEventListener(()=>{clearTimeout(tt),Ie(ue.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,Q);try{const tt=yield Qe.client.fetch(U);return yield Qe.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function ht(B){if(!(B instanceof ae.ZR&&B.customData))return!1;const U=Number(B.customData.httpStatus);return 429===U||500===U||503===U||504===U}(tt))throw tt;const Ut={throttleEndTimeMillis:Date.now()+(0,ae.$s)(Ie),backoffCount:Ie+1};return yield Qe.storage.setThrottleMetadata(Ut),Qe.attemptFetch(U,Ut)}})()}}class Tt{constructor(U,Q,Ie,Qe,tt){this.app=U,this._client=Q,this._storageCache=Ie,this._storage=Qe,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ot(B,U){const Q=B.target.error||void 0;return ue.create(U,{originalErrorMessage:Q&&Q?.message})}const Bt="app_namespace_store";class On{constructor(U,Q,Ie,Qe=function pn(){return new Promise((B,U)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=Ie=>{U(ot(Ie,"storage-open"))},Q.onsuccess=Ie=>{B(Ie.target.result)},Q.onupgradeneeded=Ie=>{0===Ie.oldVersion&&Ie.target.result.createObjectStore(Bt,{keyPath:"compositeKey"})}}catch(Q){U(ue.create("storage-open",{originalErrorMessage:Q?.message}))}})}()){this.appId=U,this.appName=Q,this.namespace=Ie,this.openDbPromise=Qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var Q=this;return(0,V.Z)(function*(){const Ie=yield Q.openDbPromise;return new Promise((Qe,tt)=>{const Ln=Ie.transaction([Bt],"readonly").objectStore(Bt),ur=Q.createCompositeKey(U);try{const bn=Ln.get(ur);bn.onerror=Xn=>{tt(ot(Xn,"storage-get"))},bn.onsuccess=Xn=>{const on=Xn.target.result;Qe(on?on.value:void 0)}}catch(bn){tt(ue.create("storage-get",{originalErrorMessage:bn?.message}))}})})()}set(U,Q){var Ie=this;return(0,V.Z)(function*(){const Qe=yield Ie.openDbPromise;return new Promise((tt,Ut)=>{const ur=Qe.transaction([Bt],"readwrite").objectStore(Bt),bn=Ie.createCompositeKey(U);try{const Xn=ur.put({compositeKey:bn,value:Q});Xn.onerror=on=>{Ut(ot(on,"storage-set"))},Xn.onsuccess=()=>{tt()}}catch(Xn){Ut(ue.create("storage-set",{originalErrorMessage:Xn?.message}))}})})()}delete(U){var Q=this;return(0,V.Z)(function*(){const Ie=yield Q.openDbPromise;return new Promise((Qe,tt)=>{const Ln=Ie.transaction([Bt],"readwrite").objectStore(Bt),ur=Q.createCompositeKey(U);try{const bn=Ln.delete(ur);bn.onerror=Xn=>{tt(ot(Xn,"storage-delete"))},bn.onsuccess=()=>{Qe()}}catch(bn){tt(ue.create("storage-delete",{originalErrorMessage:bn?.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class er{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,V.Z)(function*(){const Q=U.storage.getLastFetchStatus(),Ie=U.storage.getLastSuccessfulFetchTimestampMillis(),Qe=U.storage.getActiveConfig(),tt=yield Q;tt&&(U.lastFetchStatus=tt);const Ut=yield Ie;Ut&&(U.lastSuccessfulFetchTimestampMillis=Ut);const Ln=yield Qe;Ln&&(U.activeConfig=Ln)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function ee(){return ce.apply(this,arguments)}function ce(){return(ce=(0,V.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function yr(){(0,ne._registerComponent)(new fe.wA("remote-config",function B(U,{instanceIdentifier:Q}){const Ie=U.getProvider("app").getImmediate(),Qe=U.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ue.create("registration-window");if(!(0,ae.hl)())throw ue.create("indexed-db-unavailable");const{projectId:tt,apiKey:Ut,appId:Ln}=Ie.options;if(!tt)throw ue.create("registration-project-id");if(!Ut)throw ue.create("registration-api-key");if(!Ln)throw ue.create("registration-app-id");const ur=new On(Ln,Ie.name,Q=Q||"firebase"),bn=new er(ur),Xn=new ge.Yd(_e);Xn.logLevel=ge.in.ERROR;const on=new Ze(Qe,ne.SDK_VERSION,Q,tt,Ut,Ln),Gt=new mt(on,ur),di=new xe(Gt,ur,bn,Xn),Vo=new Tt(Ie,di,bn,ur,Xn);return function rt(B){const U=(0,ae.m9)(B);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(Vo),Vo},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(_e,G),(0,ne.registerVersion)(_e,G,"esm2017")}();var be=L(8766);const me="/firebase-messaging-sw.js",at="/firebase-cloud-messaging-push-scope",mn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lt="https://fcmregistrations.googleapis.com/v1",Ht="google.c.a.c_id",Cn="google.c.a.c_l",St="google.c.a.ts",wt="google.c.a.e";var tn=(()=>{return(B=tn||(tn={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",tn;var B})();function zt(B){const U=new Uint8Array(B);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gn(B){const Q=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(Q),Qe=new Uint8Array(Ie.length);for(let tt=0;tt<Ie.length;++tt)Qe[tt]=Ie.charCodeAt(tt);return Qe}const un="fcm_token_details_db",Bn=5,Pr="fcm_token_object_Store";function Ir(){return Ir=(0,V.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(un))return null;let U=null;return(yield(0,be.X3)(un,Bn,{upgrade:(Ie=(0,V.Z)(function*(Qe,tt,Ut,Ln){var ur;if(tt<2||!Qe.objectStoreNames.contains(Pr))return;const bn=Ln.objectStore(Pr),Xn=yield bn.index("fcmSenderId").get(B);if(yield bn.clear(),Xn)if(2===tt){const on=Xn;if(!on.auth||!on.p256dh||!on.endpoint)return;U={token:on.fcmToken,createTime:null!==(ur=on.createTime)&&void 0!==ur?ur:Date.now(),subscriptionOptions:{auth:on.auth,p256dh:on.p256dh,endpoint:on.endpoint,swScope:on.swScope,vapidKey:"string"==typeof on.vapidKey?on.vapidKey:zt(on.vapidKey)}}}else if(3===tt){const on=Xn;U={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:zt(on.auth),p256dh:zt(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:zt(on.vapidKey)}}}else if(4===tt){const on=Xn;U={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:zt(on.auth),p256dh:zt(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:zt(on.vapidKey)}}}}),function(tt,Ut,Ln,ur){return Ie.apply(this,arguments)})})).close(),yield(0,be.Lj)(un),yield(0,be.Lj)("fcm_vapid_details_db"),yield(0,be.Lj)("undefined"),function nn(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:U}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}(U)?U:null;var Ie}),Ir.apply(this,arguments)}const kr="firebase-messaging-database",hr=1,Je="firebase-messaging-store";let ke=null;function gt(){return ke||(ke=(0,be.X3)(kr,hr,{upgrade:(B,U)=>{0===U&&B.createObjectStore(Je)}})),ke}function kt(B){return qt.apply(this,arguments)}function qt(){return qt=(0,V.Z)(function*(B){const U=x(B),Ie=yield(yield gt()).transaction(Je).objectStore(Je).get(U);if(Ie)return Ie;{const Qe=yield function Yt(B){return Ir.apply(this,arguments)}(B.appConfig.senderId);if(Qe)return yield ln(B,Qe),Qe}}),qt.apply(this,arguments)}function ln(B,U){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,V.Z)(function*(B,U){const Q=x(B),Qe=(yield gt()).transaction(Je,"readwrite");return yield Qe.objectStore(Je).put(U,Q),yield Qe.done,U})).apply(this,arguments)}function F(){return(F=(0,V.Z)(function*(B){const U=x(B),Ie=(yield gt()).transaction(Je,"readwrite");yield Ie.objectStore(Je).delete(U),yield Ie.done})).apply(this,arguments)}function x({appConfig:B}){return B.appId}const M=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function W(B,U){return X.apply(this,arguments)}function X(){return(X=(0,V.Z)(function*(B,U){const Q=yield vt(B),Ie=An(U),Qe={method:"POST",headers:Q,body:JSON.stringify(Ie)};let tt;try{tt=yield(yield fetch(Mt(B.appConfig),Qe)).json()}catch(Ut){throw M.create("token-subscribe-failed",{errorInfo:Ut?.toString()})}if(tt.error)throw M.create("token-subscribe-failed",{errorInfo:tt.error.message});if(!tt.token)throw M.create("token-subscribe-no-token");return tt.token})).apply(this,arguments)}function dt(){return(dt=(0,V.Z)(function*(B,U){const Q=yield vt(B),Ie=An(U.subscriptionOptions),Qe={method:"PATCH",headers:Q,body:JSON.stringify(Ie)};let tt;try{tt=yield(yield fetch(`${Mt(B.appConfig)}/${U.token}`,Qe)).json()}catch(Ut){throw M.create("token-update-failed",{errorInfo:Ut?.toString()})}if(tt.error)throw M.create("token-update-failed",{errorInfo:tt.error.message});if(!tt.token)throw M.create("token-update-no-token");return tt.token})).apply(this,arguments)}function pt(B,U){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,V.Z)(function*(B,U){const Ie={method:"DELETE",headers:yield vt(B)};try{const tt=yield(yield fetch(`${Mt(B.appConfig)}/${U}`,Ie)).json();if(tt.error)throw M.create("token-unsubscribe-failed",{errorInfo:tt.error.message})}catch(Qe){throw M.create("token-unsubscribe-failed",{errorInfo:Qe?.toString()})}})).apply(this,arguments)}function Mt({projectId:B}){return`${Lt}/projects/${B}/registrations`}function vt(B){return jt.apply(this,arguments)}function jt(){return(jt=(0,V.Z)(function*({appConfig:B,installations:U}){const Q=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function An({p256dh:B,auth:U,endpoint:Q,vapidKey:Ie}){const Qe={web:{endpoint:Q,auth:U,p256dh:B}};return Ie!==mn&&(Qe.web.applicationPubKey=Ie),Qe}const vs=6048e5;function Vi(){return Vi=(0,V.Z)(function*(B){const U=yield function cn(B,U){return rn.apply(this,arguments)}(B.swRegistration,B.vapidKey),Q={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:U.endpoint,auth:zt(U.getKey("auth")),p256dh:zt(U.getKey("p256dh"))},Ie=yield kt(B.firebaseDependencies);if(Ie){if(function Qn(B,U){return U.vapidKey===B.vapidKey&&U.endpoint===B.endpoint&&U.auth===B.auth&&U.p256dh===B.p256dh}(Ie.subscriptionOptions,Q))return Date.now()>=Ie.createTime+vs?function re(B,U){return Oe.apply(this,arguments)}(B,{token:Ie.token,createTime:Date.now(),subscriptionOptions:Q}):Ie.token;try{yield pt(B.firebaseDependencies,Ie.token)}catch(Qe){console.warn(Qe)}return et(B.firebaseDependencies,Q)}return et(B.firebaseDependencies,Q)}),Vi.apply(this,arguments)}function ar(){return ar=(0,V.Z)(function*(B){const U=yield kt(B.firebaseDependencies);U&&(yield pt(B.firebaseDependencies,U.token),yield function K(B){return F.apply(this,arguments)}(B.firebaseDependencies));const Q=yield B.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()}),ar.apply(this,arguments)}function Oe(){return Oe=(0,V.Z)(function*(B,U){try{const Q=yield function Ge(B,U){return dt.apply(this,arguments)}(B.firebaseDependencies,U),Ie=Object.assign(Object.assign({},U),{token:Q,createTime:Date.now()});return yield ln(B.firebaseDependencies,Ie),Q}catch(Q){throw yield function Is(B){return ar.apply(this,arguments)}(B),Q}}),Oe.apply(this,arguments)}function et(B,U){return ct.apply(this,arguments)}function ct(){return(ct=(0,V.Z)(function*(B,U){const Ie={token:yield W(B,U),createTime:Date.now(),subscriptionOptions:U};return yield ln(B,Ie),Ie.token})).apply(this,arguments)}function rn(){return(rn=(0,V.Z)(function*(B,U){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gn(U)})})).apply(this,arguments)}function Fn(B){const U={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Ar(B,U){if(!U.notification)return;B.notification={};const Q=U.notification.title;Q&&(B.notification.title=Q);const Ie=U.notification.body;Ie&&(B.notification.body=Ie);const Qe=U.notification.image;Qe&&(B.notification.image=Qe);const tt=U.notification.icon;tt&&(B.notification.icon=tt)}(U,B),function ft(B,U){U.data&&(B.data=U.data)}(U,B),function ie(B,U){var Q,Ie,Qe,tt,Ut;if(!(U.fcmOptions||null!==(Q=U.notification)&&void 0!==Q&&Q.click_action))return;B.fcmOptions={};const Ln=null!==(Qe=null===(Ie=U.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==Qe?Qe:null===(tt=U.notification)||void 0===tt?void 0:tt.click_action;Ln&&(B.fcmOptions.link=Ln);const ur=null===(Ut=U.fcmOptions)||void 0===Ut?void 0:Ut.analytics_label;ur&&(B.fcmOptions.analyticsLabel=ur)}(U,B),U}function Mr(B,U){const Q=[];for(let Ie=0;Ie<B.length;Ie++)Q.push(B.charAt(Ie)),Ie<U.length&&Q.push(U.charAt(Ie));return Q.join("")}function $n(B){return M.create("missing-app-config-values",{valueName:B})}Mr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ci{constructor(U,Q,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Qe=function dn(B){if(!B||!B.options)throw $n("App Configuration Object");if(!B.name)throw $n("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=B;for(const Ie of U)if(!Q[Ie])throw $n(Ie);return{appName:B.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:Qe,installations:Q,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function Yn(B){return rs.apply(this,arguments)}function rs(){return(rs=(0,V.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(me,{scope:at}),B.swRegistration.update().catch(()=>{})}catch(U){throw M.create("failed-service-worker-registration",{browserErrorMessage:U?.message})}})).apply(this,arguments)}function sn(){return(sn=(0,V.Z)(function*(B,U){if(!U&&!B.swRegistration&&(yield Yn(B)),U||!B.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw M.create("invalid-sw-registration");B.swRegistration=U}})).apply(this,arguments)}function Si(){return(Si=(0,V.Z)(function*(B,U){U?B.vapidKey=U:B.vapidKey||(B.vapidKey=mn)})).apply(this,arguments)}function Ai(){return Ai=(0,V.Z)(function*(B,U){if(!navigator)throw M.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw M.create("permission-blocked");return yield function Ui(B,U){return Si.apply(this,arguments)}(B,U?.vapidKey),yield function rr(B,U){return sn.apply(this,arguments)}(B,U?.serviceWorkerRegistration),function _s(B){return Vi.apply(this,arguments)}(B)}),Ai.apply(this,arguments)}function ji(){return(ji=(0,V.Z)(function*(B,U,Q){const Ie=function Bi(B){switch(B){case tn.NOTIFICATION_CLICKED:return"notification_open";case tn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(U);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:Q[Ht],message_name:Q[Cn],message_time:Q[St],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vi(){return vi=(0,V.Z)(function*(B,U){const Q=U.data;if(!Q.isFirebaseMessaging)return;B.onMessageHandler&&Q.messageType===tn.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Fn(Q)):B.onMessageHandler.next(Fn(Q)));const Ie=Q.data;(function Nn(B){return"object"==typeof B&&!!B&&Ht in B})(Ie)&&"1"===Ie[wt]&&(yield function fr(B,U,Q){return ji.apply(this,arguments)}(B,Q.messageType,Ie))}),vi.apply(this,arguments)}const is="@firebase/messaging",Bs=B=>{const U=new ci(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function $i(B,U){return vi.apply(this,arguments)}(U,Q)),U},ca=B=>{const U=B.getProvider("messaging").getImmediate();return{getToken:Ie=>function js(B,U){return Ai.apply(this,arguments)}(U,Ie)}};function ss(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,V.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ir(){(0,ne._registerComponent)(new fe.wA("messaging",Bs,"PUBLIC")),(0,ne._registerComponent)(new fe.wA("messaging-internal",ca,"PRIVATE")),(0,ne.registerVersion)(is,"0.12.4"),(0,ne.registerVersion)(is,"0.12.4","esm2017")}();var qr=L(3008),da=L(4408),Mc=L(7565);const Hi=new class Po extends Mc.v{}(class ho extends da.o{constructor(U,Q){super(U,Q),this.scheduler=U,this.work=Q}schedule(U,Q=0){return Q>0?super.schedule(U,Q):(this.delay=Q,this.state=U,this.scheduler.flush(this),this)}execute(U,Q){return Q>0||this.closed?super.execute(U,Q):this._execute(U,Q)}requestAsyncId(U,Q,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId(U,Q,Ie):(U.flush(this),0)}});var zs=L(4986),ha=L(9751),fa=L(8505),pa=L(9468),Gs=L(5363);const Ws=new E.Version("7.5.0"),qs="__angularfire_symbol__analyticsIsSupportedValue",zi="__angularfire_symbol__analyticsIsSupported",ga="__angularfire_symbol__remoteConfigIsSupportedValue",ko="__angularfire_symbol__remoteConfigIsSupported",Es="__angularfire_symbol__messagingIsSupportedValue",Fr="__angularfire_symbol__messagingIsSupported";function ws(B,U,Q){if(U){if(1===U.length)return U[0];const tt=U.filter(Ut=>Ut.app===Q);if(1===tt.length)return tt[0]}return Q.container.getProvider(B).getImmediate({optional:!0})}globalThis[zi]||(globalThis[zi]=(0,qr.Gb)().then(B=>globalThis[qs]=B).catch(()=>globalThis[qs]=!1)),globalThis[Fr]||(globalThis[Fr]=ss().then(B=>globalThis[Es]=B).catch(()=>globalThis[Es]=!1)),globalThis[ko]||(globalThis[ko]=ee().then(B=>globalThis[ga]=B).catch(()=>globalThis[ga]=!1));const Zs=(B,U)=>{const Q=U?[U]:(0,h.C6)(),Ie=[];return Q.forEach(Qe=>{Qe.container.getProvider(B).instances.forEach(Ut=>{Ie.includes(Ut)||Ie.push(Ut)})}),Ie};function Wi(){}class Qs{constructor(U,Q=Hi){this.zone=U,this.delegate=Q}now(){return this.delegate.now()}schedule(U,Q,Ie){const Qe=this.zone;return this.delegate.schedule(function(Ut){Qe.runGuarded(()=>{U.apply(this,[Ut])})},Q,Ie)}}class Fo{constructor(U){this.zone=U,this.task=null}call(U,Q){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi)),Q.pipe((0,fa.b)({next:Ie,complete:Ie,error:Ie})).subscribe(U).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lo=(()=>{class B{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Qs(Zone.current)),this.insideAngular=Q.run(()=>new Qs(Zone.current,zs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(Q){return new(Q||B)(E.\u0275\u0275inject(E.NgZone))},B.\u0275prov=E.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function ti(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Ii(B){return ti().ngZone.run(()=>B())}function Ds(B){return ti(),function Ys(B){return function(Q){return(Q=Q.lift(new Fo(B.ngZone))).pipe((0,pa.R)(B.outsideAngular),(0,Gs.Q)(B.insideAngular))}}(ti())(B)}const wr=(B,U)=>function(){const Ie=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),Ii(()=>B.apply(void 0,Ie))},iu=(B,U)=>function(){let Q;const Ie=arguments;for(let tt=0;tt<arguments.length;tt++)"function"==typeof Ie[tt]&&(U&&(Q||(Q=Ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi)))),Ie[tt]=wr(Ie[tt],Q));const Qe=function as(B){return ti().ngZone.runOutsideAngular(()=>B())}(()=>B.apply(this,Ie));if(!U){if(Qe instanceof ha.y){const tt=ti();return Qe.pipe((0,pa.R)(tt.outsideAngular),(0,Gs.Q)(tt.insideAngular))}return Ii(()=>Qe)}return Qe instanceof ha.y?Qe.pipe(Ds):Qe instanceof Promise?Ii(()=>new Promise((tt,Ut)=>Qe.then(Ln=>Ii(()=>tt(Ln)),Ln=>Ii(()=>Ut(Ln))))):"function"==typeof Qe&&Q?function(){return setTimeout(()=>{Q&&"scheduled"===Q.state&&Q.invoke()},10),Qe.apply(this,arguments)}:Ii(()=>Qe)}},5114:(Dt,Te,L)=>{"use strict";L.d(Te,{$:()=>tt,A:()=>q,B:()=>ue,G:()=>Oe,H:()=>Qn,J:()=>ir,L:()=>Zn,M:()=>Po,N:()=>ha,P:()=>Vr,Q:()=>fa,R:()=>Io,T:()=>pa,U:()=>zs,V:()=>zi,W:()=>ga,X:()=>xc,Y:()=>Ys,Z:()=>iu,_:()=>U,a:()=>xt,a0:()=>Xn,a1:()=>Gt,a2:()=>Vo,a3:()=>Xs,a4:()=>us,a5:()=>ih,a6:()=>Tn,a7:()=>pr,a8:()=>$r,a9:()=>Bo,aA:()=>K,aB:()=>Do,aC:()=>Iu,aD:()=>ml,aE:()=>ar,aI:()=>Vn,aL:()=>Ws,aa:()=>su,ab:()=>yp,ac:()=>ni,af:()=>Ni,ag:()=>oh,ah:()=>ah,ak:()=>Wi,al:()=>Pc,an:()=>Gm,ao:()=>ch,ap:()=>Ne,aq:()=>Pt,ar:()=>Ge,as:()=>Re,at:()=>ba,au:()=>vl,av:()=>Mt,aw:()=>Fe,ax:()=>Y,ay:()=>Xm,az:()=>Xe,b:()=>ye,c:()=>Ym,d:()=>ii,e:()=>Cp,f:()=>wa,g:()=>Eu,h:()=>Tp,i:()=>Ep,j:()=>qc,k:()=>Th,l:()=>ya,m:()=>Tl,n:()=>Rh,o:()=>ve,r:()=>to,s:()=>jc,u:()=>fl});var E=L(5861),h=L(2090),V=L(9681),ne=L(1877),ae=L(655),fe=L(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Se=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new ne.Yd("@firebase/auth");function Ae(v,...p){we.logLevel<=ne.in.ERROR&&we.error(`Auth (${V.SDK_VERSION}): ${v}`,...p)}function Re(v,...p){throw rt(v,...p)}function Fe(v,...p){return rt(v,...p)}function je(v,p,g){const w=Object.assign(Object.assign({},Se()),{[p]:g});return new h.LL("auth","Firebase",w).create(p,{appName:v.name})}function Ve(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Re(v,"argument-error"),je(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(v,...p){if("string"!=typeof v){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return We.create(v,...p)}function Y(v,p,...g){if(!v)throw rt(p,...g)}function pe(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ae(p),new Error(p)}function Ne(v,p){v||pe(p)}const ut=new Map;function Xe(v){Ne(v instanceof Function,"Expected a class definition");let p=ut.get(v);return p?(Ne(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,ut.set(v,p),p)}function oe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function De(){return"http:"===xe()||"https:"===xe()}function xe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ke{constructor(p,g){this.shortDelay=p,this.longDelay=g,Ne(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function Be(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ht(v,p){Ne(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class mt{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nt=new Ke(3e4,6e4);function Tt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function ot(v,p,g,w){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,E.Z)(function*(v,p,g,w,O={}){return qn(v,O,(0,E.Z)(function*(){let j={},le={};w&&("GET"===p?le=w:j={body:JSON.stringify(w)});const $e=(0,h.xO)(Object.assign({key:v.config.apiKey},le)).slice(1),Ct=yield v._getAdditionalHeaders();return Ct["Content-Type"]="application/json",v.languageCode&&(Ct["X-Firebase-Locale"]=v.languageCode),mt.fetch()(er(v,v.config.apiHost,g,$e),Object.assign({method:p,headers:Ct,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function qn(v,p,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,E.Z)(function*(v,p,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},_n),p);try{const O=new yr(v),j=yield Promise.race([g(),O.promise]);O.clearNetworkTimeout();const le=yield j.json();if("needConfirmation"in le)throw Kn(v,"account-exists-with-different-credential",le);if(j.ok&&!("errorMessage"in le))return le;{const $e=j.ok?le.errorMessage:le.error.message,[Ct,$t]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw Kn(v,"credential-already-in-use",le);if("EMAIL_EXISTS"===Ct)throw Kn(v,"email-already-in-use",le);if("USER_DISABLED"===Ct)throw Kn(v,"user-disabled",le);const gn=w[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if($t)throw je(v,gn,$t);Re(v,gn)}}catch(O){if(O instanceof h.ZR)throw O;Re(v,"internal-error",{message:String(O)})}})).apply(this,arguments)}function pn(v,p,g,w){return On.apply(this,arguments)}function On(){return(On=(0,E.Z)(function*(v,p,g,w,O={}){const j=yield ot(v,p,g,w,O);return"mfaPendingCredential"in j&&Re(v,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function er(v,p,g,w){const O=`${p}${g}?${w}`;return v.config.emulator?ht(v.config,O):`${v.config.apiScheme}://${O}`}class yr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Fe(this.auth,"network-request-failed")),Nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(v,p,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const O=Fe(v,p,w);return O.customData._tokenResponse=g,O}function ee(){return(ee=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function at(){return(at=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function mn(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Cn(){return(Cn=(0,E.Z)(function*(v,p=!1){const g=(0,h.m9)(v),w=yield g.getIdToken(p),O=wt(w);Y(O&&O.exp&&O.auth_time&&O.iat,g.auth,"internal-error");const j="object"==typeof O.firebase?O.firebase:void 0,le=j?.sign_in_provider;return{claims:O,token:w,authTime:mn(St(O.auth_time)),issuedAtTime:mn(St(O.iat)),expirationTime:mn(St(O.exp)),signInProvider:le||null,signInSecondFactor:j?.sign_in_second_factor||null}})).apply(this,arguments)}function St(v){return 1e3*Number(v)}function wt(v){const[p,g,w]=v.split(".");if(void 0===p||void 0===g||void 0===w)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,h.tV)(g);return O?JSON.parse(O):(Ae("Failed to decode base64 JWT payload"),null)}catch(O){return Ae("Caught error parsing JWT payload as JSON",O?.toString()),null}}function tn(v,p){return zt.apply(this,arguments)}function zt(){return(zt=(0,E.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof h.ZR&&function Gn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class un{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const O=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,E.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,E.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Bn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=mn(this.lastLoginAt),this.creationTime=mn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(v){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,E.Z)(function*(v){var p;const g=v.auth,w=yield v.getIdToken(),O=yield tn(v,function me(v,p){return at.apply(this,arguments)}(g,{idToken:w}));Y(O?.users.length,g,"internal-error");const j=O.users[0];v._notifyReloadListener(j);const le=null!==(p=j.providerUserInfo)&&void 0!==p&&p.length?function hr(v){return v.map(p=>{var{providerId:g}=p,w=(0,ae._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(j.providerUserInfo):[],$e=function kr(v,p){return[...v.filter(w=>!p.some(O=>O.providerId===w.providerId)),...p]}(v.providerData,le),gn=!!v.isAnonymous&&!(v.email&&j.passwordHash||$e?.length),sr={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:$e,metadata:new Bn(j.createdAt,j.lastLoginAt),isAnonymous:gn};Object.assign(v,sr)}),Yt.apply(this,arguments)}function nn(){return(nn=(0,E.Z)(function*(v){const p=(0,h.m9)(v);yield Pr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ke(){return(ke=(0,E.Z)(function*(v,p){const g=yield qn(v,{},(0,E.Z)(function*(){const w=(0,h.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:O,apiKey:j}=v.config,le=er(v,O,"/v1/token",`key=${j}`),$e=yield v._getAdditionalHeaders();return $e["Content-Type"]="application/x-www-form-urlencoded",mt.fetch()(le,{method:"POST",headers:$e,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Y(p.idToken,"internal-error"),Y(typeof p.idToken<"u","internal-error"),Y(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function bt(v){const p=wt(v);return Y(p,"internal-error"),Y(typeof p.exp<"u","internal-error"),Y(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,E.Z)(function*(){return Y(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,E.Z)(function*(){const{accessToken:O,refreshToken:j,expiresIn:le}=yield function Je(v,p){return ke.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(O,j,Number(le))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:O,expirationTime:j}=g,le=new gt;return w&&(Y("string"==typeof w,"internal-error",{appName:p}),le.refreshToken=w),O&&(Y("string"==typeof O,"internal-error",{appName:p}),le.accessToken=O),j&&(Y("number"==typeof j,"internal-error",{appName:p}),le.expirationTime=j),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new gt,this.toJSON())}_performRefresh(){return pe("not implemented")}}function kt(v,p){Y("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class qt{constructor(p){var{uid:g,auth:w,stsTokenManager:O}=p,j=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new Bn(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,E.Z)(function*(){const w=yield tn(g,g.stsTokenManager.getToken(g.auth,p));return Y(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Ht(v){return Cn.apply(this,arguments)}(this,p)}reload(){return function Ir(v){return nn.apply(this,arguments)}(this)}_assign(p){this!==p&&(Y(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new qt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,E.Z)(function*(){let O=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),O=!0),g&&(yield Pr(w)),yield w.auth._persistUserIfCurrent(w),O&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,E.Z)(function*(){const g=yield p.getIdToken();return yield tn(p,function se(v,p){return ee.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,O,j,le,$e,Ct,$t,gn;const sr=null!==(w=g.displayName)&&void 0!==w?w:void 0,cs=null!==(O=g.email)&&void 0!==O?O:void 0,Qi=null!==(j=g.phoneNumber)&&void 0!==j?j:void 0,ds=null!==(le=g.photoURL)&&void 0!==le?le:void 0,Ms=null!==($e=g.tenantId)&&void 0!==$e?$e:void 0,Cu=null!==(Ct=g._redirectEventId)&&void 0!==Ct?Ct:void 0,Ta=null!==($t=g.createdAt)&&void 0!==$t?$t:void 0,Nh=null!==(gn=g.lastLoginAt)&&void 0!==gn?gn:void 0,{uid:lr,emailVerified:Al,isAnonymous:bu,providerData:Sa,stsTokenManager:Pp}=g;Y(lr&&Pp,p,"internal-error");const Oh=gt.fromJSON(this.name,Pp);Y("string"==typeof lr,p,"internal-error"),kt(sr,p.name),kt(cs,p.name),Y("boolean"==typeof Al,p,"internal-error"),Y("boolean"==typeof bu,p,"internal-error"),kt(Qi,p.name),kt(ds,p.name),kt(Ms,p.name),kt(Cu,p.name),kt(Ta,p.name),kt(Nh,p.name);const Ml=new qt({uid:lr,auth:p,email:cs,emailVerified:Al,displayName:sr,isAnonymous:bu,photoURL:ds,phoneNumber:Qi,tenantId:Ms,stsTokenManager:Oh,createdAt:Ta,lastLoginAt:Nh});return Sa&&Array.isArray(Sa)&&(Ml.providerData=Sa.map(kp=>Object.assign({},kp))),Cu&&(Ml._redirectEventId=Cu),Ml}static _fromIdTokenResponse(p,g,w=!1){return(0,E.Z)(function*(){const O=new gt;O.updateFromServerResponse(g);const j=new qt({uid:g.localId,auth:p,stsTokenManager:O,isAnonymous:w});return yield Pr(j),j})()}}const Zn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(g,w){var O=this;return(0,E.Z)(function*(){O.storage[g]=w})()}_get(g){var w=this;return(0,E.Z)(function*(){const O=w.storage[g];return void 0===O?null:O})()}_remove(g){var w=this;return(0,E.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function K(v,p,g){return`firebase:${v}:${p}:${g}`}class F{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:O,name:j}=this.auth;this.fullUserKey=K(this.userKey,O.apiKey,j),this.fullPersistenceKey=K("persistence",O.apiKey,j),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,E.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?qt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,E.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,E.Z)(function*(){if(!g.length)return new F(Xe(Zn),p,w);const O=(yield Promise.all(g.map(function(){var $t=(0,E.Z)(function*(gn){if(yield gn._isAvailable())return gn});return function(gn){return $t.apply(this,arguments)}}()))).filter($t=>$t);let j=O[0]||Xe(Zn);const le=K(w,p.config.apiKey,p.name);let $e=null;for(const $t of g)try{const gn=yield $t._get(le);if(gn){const sr=qt._fromJSON(p,gn);$t!==j&&($e=sr),j=$t;break}}catch{}const Ct=O.filter($t=>$t._shouldAllowMigration);return j._shouldAllowMigration&&Ct.length?(j=Ct[0],$e&&(yield j._set(le,$e.toJSON())),yield Promise.all(g.map(function(){var $t=(0,E.Z)(function*(gn){if(gn!==j)try{yield gn._remove(le)}catch{}});return function(gn){return $t.apply(this,arguments)}}())),new F(j,p,w)):new F(j,p,w)})()}}function x(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(X(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(N(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(dt(p))return"Blackberry";if(pt(p))return"Webos";if(M(p))return"Safari";if((p.includes("chrome/")||W(p))&&!p.includes("edge/"))return"Chrome";if(Ge(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function N(v=(0,h.z$)()){return/firefox\//i.test(v)}function M(v=(0,h.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function W(v=(0,h.z$)()){return/crios\//i.test(v)}function X(v=(0,h.z$)()){return/iemobile/i.test(v)}function Ge(v=(0,h.z$)()){return/android/i.test(v)}function dt(v=(0,h.z$)()){return/blackberry/i.test(v)}function pt(v=(0,h.z$)()){return/webos/i.test(v)}function Pt(v=(0,h.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Mt(v=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function An(v=(0,h.z$)()){return Pt(v)||Ge(v)||pt(v)||dt(v)||/windows phone/i.test(v)||X(v)}function _s(v,p=[]){let g;switch(v){case"Browser":g=x((0,h.z$)());break;case"Worker":g=`${x((0,h.z$)())}-${v}`;break;default:g=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${V.SDK_VERSION}/${w}`}class Vi{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=j=>new Promise((le,$e)=>{try{le(p(j))}catch(Ct){$e(Ct)}});w.onAbort=g,this.queue.push(w);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,E.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const O of g.queue)yield O(p),O.onAbort&&w.push(O.onAbort)}catch(O){w.reverse();for(const j of w)try{j()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:O?.message})}})()}}class Is{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new re(this),this.idTokenSubscription=new re(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=Xe(g)),this._initializationPromise=this.queue((0,E.Z)(function*(){var O,j;if(!w._deleted&&(w.persistenceManager=yield F.create(w,p),!w._deleted)){if(null!==(O=w._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(j=w.currentUser)||void 0===j?void 0:j.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,E.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,E.Z)(function*(){var w;const O=yield g.assertedPersistence.getCurrentUser();let j=O,le=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const $e=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ct=j?._redirectEventId,$t=yield g.tryRedirectSignIn(p);(!$e||$e===Ct)&&$t?.user&&(j=$t.user,le=!0)}if(!j)return g.directlySetCurrentUser(null);if(!j._redirectEventId){if(le)try{yield g.beforeStateQueue.runMiddleware(j)}catch($e){j=O,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject($e))}return j?g.reloadAndSetCurrentUserOrClear(j):g.directlySetCurrentUser(null)}return Y(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===j._redirectEventId?g.directlySetCurrentUser(j):g.reloadAndSetCurrentUserOrClear(j)})()}tryRedirectSignIn(p){var g=this;return(0,E.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,E.Z)(function*(){try{yield Pr(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,E.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,E.Z)(function*(){const w=p?(0,h.m9)(p):null;return w&&Y(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,E.Z)(function*(){if(!w._deleted)return p&&Y(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,E.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,E.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,E.Z)(function*(){yield g.assertedPersistence.setPersistence(Xe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new h.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,E.Z)(function*(){const O=yield w.getOrInitRedirectPersistenceManager(g);return null===p?O.removeCurrentUser():O.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,E.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&Xe(p)||g._popupRedirectResolver;Y(w,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[Xe(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,E.Z)(function*(){var w,O;return g._isInitialized&&(yield g.queue((0,E.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(O=g.redirectUser)||void 0===O?void 0:O._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,E.Z)(function*(){if(p===g.currentUser)return g.queue((0,E.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,O){if(this._deleted)return()=>{};const j="function"==typeof g?g:g.next.bind(g),le=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(le,this,"internal-error"),le.then(()=>j(this.currentUser)),"function"==typeof g?p.addObserver(g,w,O):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,E.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=_s(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,E.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const O=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return O&&(w["X-Firebase-Client"]=O),w})()}}function ar(v){return(0,h.m9)(v)}class re{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,h.ne)(g=>this.observer=g)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Oe(v,p,g){const w=ar(v);Y(w._canInitEmulator,w,"emulator-config-failed"),Y(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const O=!!g?.disableWarnings,j=et(p),{host:le,port:$e}=function ct(v){const p=et(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(w);if(O){const j=O[1];return{host:j,port:cn(w.substr(j.length+1))}}{const[j,le]=w.split(":");return{host:j,port:cn(le)}}}(p);w.config.emulator={url:`${j}//${le}${null===$e?"":`:${$e}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:le,port:$e,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function rn(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function et(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function cn(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Qn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return pe("not implemented")}_getIdTokenResponse(p){return pe("not implemented")}_linkToIdToken(p,g){return pe("not implemented")}_getReauthenticationResolver(p){return pe("not implemented")}}function Fn(v,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:resetPassword",Tt(v,p))})).apply(this,arguments)}function ft(v,p){return ie.apply(this,arguments)}function ie(){return(ie=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mr(){return(Mr=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",Tt(v,p))})).apply(this,arguments)}function $n(){return($n=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signInWithPassword",Tt(v,p))})).apply(this,arguments)}function ci(v,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:sendOobCode",Tt(v,p))})).apply(this,arguments)}function rr(){return(rr=(0,E.Z)(function*(v,p){return ci(v,p)})).apply(this,arguments)}function Ui(){return(Ui=(0,E.Z)(function*(v,p){return ci(v,p)})).apply(this,arguments)}function js(){return(js=(0,E.Z)(function*(v,p){return ci(v,p)})).apply(this,arguments)}function fr(){return(fr=(0,E.Z)(function*(v,p){return ci(v,p)})).apply(this,arguments)}function Bi(){return(Bi=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signInWithEmailLink",Tt(v,p))})).apply(this,arguments)}function vi(){return(vi=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signInWithEmailLink",Tt(v,p))})).apply(this,arguments)}class is extends Qn{constructor(p,g,w,O=null){super("password",w),this._email=p,this._password=g,this._tenantId=O}static _fromEmailAndPassword(p,g){return new is(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new is(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,E.Z)(function*(){switch(g.signInMethod){case"password":return function dn(v,p){return $n.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ji(v,p){return Bi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Re(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,E.Z)(function*(){switch(w.signInMethod){case"password":return ft(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function $i(v,p){return vi.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Re(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Zt(v,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signInWithIdp",Tt(v,p))})).apply(this,arguments)}class ir extends Qn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ir(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Re("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:O}=g,j=(0,ae._T)(g,["providerId","signInMethod"]);if(!w||!O)return null;const le=new ir(w,O);return le.idToken=j.idToken||void 0,le.accessToken=j.accessToken||void 0,le.secret=j.secret,le.nonce=j.nonce,le.pendingToken=j.pendingToken||null,le}_getIdTokenResponse(p){return Zt(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Zt(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Zt(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,h.xO)(g)}return p}}function Mi(){return(Mi=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:sendVerificationCode",Tt(v,p))})).apply(this,arguments)}function Er(){return(Er=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signInWithPhoneNumber",Tt(v,p))})).apply(this,arguments)}function Wr(){return(Wr=(0,E.Z)(function*(v,p){const g=yield pn(v,"POST","/v1/accounts:signInWithPhoneNumber",Tt(v,p));if(g.temporaryProof)throw Kn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const xi={USER_NOT_FOUND:"user-not-found"};function _i(){return(_i=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signInWithPhoneNumber",Tt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),xi)})).apply(this,arguments)}class Ri extends Qn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Ri({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Ri({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function os(v,p){return Er.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function tl(v,p){return Wr.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function $s(v,p){return _i.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:O}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:O}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:O,temporaryProof:j}=p;return w||g||O||j?new Ri({verificationId:g,verificationCode:w,phoneNumber:O,temporaryProof:j}):null}}class ho{constructor(p){var g,w,O,j,le,$e;const Ct=(0,h.zd)((0,h.pd)(p)),$t=null!==(g=Ct.apiKey)&&void 0!==g?g:null,gn=null!==(w=Ct.oobCode)&&void 0!==w?w:null,sr=function qr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Ct.mode)&&void 0!==O?O:null);Y($t&&gn&&sr,"argument-error"),this.apiKey=$t,this.operation=sr,this.code=gn,this.continueUrl=null!==(j=Ct.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(le=Ct.languageCode)&&void 0!==le?le:null,this.tenantId=null!==($e=Ct.tenantId)&&void 0!==$e?$e:null}static parseLink(p){const g=function da(v){const p=(0,h.zd)((0,h.pd)(v)).link,g=p?(0,h.zd)((0,h.pd)(p)).deep_link_id:null,w=(0,h.zd)((0,h.pd)(v)).deep_link_id;return(w?(0,h.zd)((0,h.pd)(w)).link:null)||w||g||p||v}(p);try{return new ho(g)}catch{return null}}}let Po=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return is._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const O=ho.parseLink(w);return Y(O,"argument-error"),is._fromEmailAndCode(g,O.code,O.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Hi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Hs extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class zs extends Hs{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Y("providerId"in g&&"signInMethod"in g,"argument-error"),ir._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Y(p.idToken||p.accessToken,"argument-error"),ir._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return zs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return zs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:O,pendingToken:j,nonce:le,providerId:$e}=p;if(!w&&!O&&!g&&!j||!$e)return null;try{return new zs($e)._credential({idToken:g,accessToken:w,nonce:le,pendingToken:j})}catch{return null}}}let ha=(()=>{class v extends Hs{constructor(){super("facebook.com")}static credential(g){return ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),fa=(()=>{class v extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:O}=g;if(!w&&!O)return null;try{return v.credential(w,O)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),pa=(()=>{class v extends Hs{constructor(){super("github.com")}static credential(g){return ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ws extends Qn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Zt(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Zt(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Zt(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:O,pendingToken:j}=g;return w&&O&&j&&w===O?new Ws(w,j):null}static _create(p,g){return new Ws(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zi extends Hi{constructor(p){Y(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return zi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return zi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ws.fromJSON(p);return Y(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Ws._create(w,g)}catch{return null}}}let ga=(()=>{class v extends Hs{constructor(){super("twitter.com")}static credential(g,w){return ir._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:O}=g;if(!w||!O)return null;try{return v.credential(w,O)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ko(v,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signUp",Tt(v,p))})).apply(this,arguments)}class Fr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,O=!1){return(0,E.Z)(function*(){const j=yield qt._fromIdTokenResponse(p,w,O),le=Ks(w);return new Fr({user:j,providerId:le,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,E.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const O=Ks(w);return new Fr({user:p,providerId:O,_tokenResponse:w,operationType:g})})()}}function Ks(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function xc(v){return nu.apply(this,arguments)}function nu(){return(nu=(0,E.Z)(function*(v){var p;const g=ar(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Fr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield ko(g,{returnSecureToken:!0}),O=yield Fr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(O.user),O})).apply(this,arguments)}class Gi extends h.ZR{constructor(p,g,w,O){var j;super(g.code,g.message),this.operationType=w,this.user=O,Object.setPrototypeOf(this,Gi.prototype),this.customData={appName:p.name,tenantId:null!==(j=p.tenantId)&&void 0!==j?j:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,O){return new Gi(p,g,w,O)}}function ws(v,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?Gi._fromErrorAndOperation(v,j,p,w):j})}function Zs(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Wi(v,p){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,E.Z)(function*(v,p){const g=(0,h.m9)(v);yield ti(!0,g,p);const{providerUserInfo:w}=yield function ce(v,p){return be.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),O=Zs(w||[]);return g.providerData=g.providerData.filter(j=>O.has(j.providerId)),O.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Qs.apply(this,arguments)}function Fo(v,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,E.Z)(function*(v,p,g=!1){const w=yield tn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Fr._forOperation(v,"link",w)})).apply(this,arguments)}function ti(v,p,g){return as.apply(this,arguments)}function as(){return(as=(0,E.Z)(function*(v,p,g){yield Pr(p);const O=!1===v?"provider-already-linked":"no-such-provider";Y(Zs(p.providerData).has(g)===v,p.auth,O)})).apply(this,arguments)}function Ii(v,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,E.Z)(function*(v,p,g=!1){const{auth:w}=v,O="reauthenticate";try{const j=yield tn(v,ws(w,O,p,v),g);Y(j.idToken,w,"internal-error");const le=wt(j.idToken);Y(le,w,"internal-error");const{sub:$e}=le;return Y(v.uid===$e,w,"user-mismatch"),Fr._forOperation(v,O,j)}catch(j){throw"auth/user-not-found"===j?.code&&Re(w,"user-mismatch"),j}})).apply(this,arguments)}function Kr(v,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,E.Z)(function*(v,p,g=!1){const w="signIn",O=yield ws(v,w,p),j=yield Fr._fromIdTokenResponse(v,w,O);return g||(yield v._updateCurrentUser(j.user)),j})).apply(this,arguments)}function Ys(v,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,E.Z)(function*(v,p){return Kr(ar(v),p)})).apply(this,arguments)}function iu(v,p){return B.apply(this,arguments)}function B(){return(B=(0,E.Z)(function*(v,p){const g=(0,h.m9)(v);return yield ti(!1,g,p.providerId),Fo(g,p)})).apply(this,arguments)}function U(v,p){return Q.apply(this,arguments)}function Q(){return(Q=(0,E.Z)(function*(v,p){return Ii((0,h.m9)(v),p)})).apply(this,arguments)}function Qe(){return(Qe=(0,E.Z)(function*(v,p){return pn(v,"POST","/v1/accounts:signInWithCustomToken",Tt(v,p))})).apply(this,arguments)}function tt(v,p){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,E.Z)(function*(v,p){const g=ar(v),w=yield function Ie(v,p){return Qe.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),O=yield Fr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(O.user),O}),Ut.apply(this,arguments)}class Ln{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ur._fromServerResponse(p,g):Re(p,"internal-error")}}class ur extends Ln{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ur(g)}}function bn(v,p,g){var w;Y((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Y(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Y(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Y(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Xn(v,p,g){return on.apply(this,arguments)}function on(){return on=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v),O={requestType:"PASSWORD_RESET",email:p};g&&bn(w,O,g),yield function sn(v,p){return Ui.apply(this,arguments)}(w,O)}),on.apply(this,arguments)}function Gt(v,p,g){return di.apply(this,arguments)}function di(){return(di=(0,E.Z)(function*(v,p,g){yield Fn((0,h.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Vo(v,p){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,E.Z)(function*(v,p){yield function Nn(v,p){return Mr.apply(this,arguments)}((0,h.m9)(v),{oobCode:p})}),Uo.apply(this,arguments)}function Xs(v,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,E.Z)(function*(v,p){const g=(0,h.m9)(v),w=yield Fn(g,{oobCode:p}),O=w.requestType;switch(Y(O,g,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(w.mfaInfo,g,"internal-error");default:Y(w.email,g,"internal-error")}let j=null;return w.mfaInfo&&(j=Ln._fromServerResponse(ar(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:j},operation:O}})).apply(this,arguments)}function us(v,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,E.Z)(function*(v,p){const{data:g}=yield Xs((0,h.m9)(v),p);return g.email})).apply(this,arguments)}function ih(v,p,g){return qe.apply(this,arguments)}function qe(){return(qe=(0,E.Z)(function*(v,p,g){const w=ar(v),O=yield ko(w,{returnSecureToken:!0,email:p,password:g}),j=yield Fr._fromIdTokenResponse(w,"signIn",O);return yield w._updateCurrentUser(j.user),j})).apply(this,arguments)}function Tn(v,p,g){return Ys((0,h.m9)(v),Po.credential(p,g))}function pr(v,p,g){return jo.apply(this,arguments)}function jo(){return jo=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v),O={requestType:"EMAIL_SIGNIN",email:p};Y(g.handleCodeInApp,w,"argument-error"),g&&bn(w,O,g),yield function Si(v,p){return js.apply(this,arguments)}(w,O)}),jo.apply(this,arguments)}function $r(v,p){return"EMAIL_SIGNIN"===ho.parseLink(p)?.operation}function Bo(v,p,g){return $o.apply(this,arguments)}function $o(){return($o=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v),O=Po.credentialWithLink(p,g||oe());return Y(O._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ys(w,O)})).apply(this,arguments)}function nl(){return(nl=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:createAuthUri",Tt(v,p))})).apply(this,arguments)}function su(v,p){return sh.apply(this,arguments)}function sh(){return sh=(0,E.Z)(function*(v,p){const w={identifier:p,continueUri:De()?oe():"http://localhost"},{signinMethods:O}=yield function Ei(v,p){return nl.apply(this,arguments)}((0,h.m9)(v),w);return O||[]}),sh.apply(this,arguments)}function yp(v,p){return ou.apply(this,arguments)}function ou(){return ou=(0,E.Z)(function*(v,p){const g=(0,h.m9)(v),O={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&bn(g.auth,O,p);const{email:j}=yield function rs(v,p){return rr.apply(this,arguments)}(g.auth,O);j!==v.email&&(yield v.reload())}),ou.apply(this,arguments)}function ni(v,p,g){return qi.apply(this,arguments)}function qi(){return qi=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&bn(w.auth,j,g);const{email:le}=yield function Ai(v,p){return fr.apply(this,arguments)}(w.auth,j);le!==v.email&&(yield v.reload())}),qi.apply(this,arguments)}function bs(){return(bs=(0,E.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ni(v,p){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,E.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,h.m9)(v),j={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},le=yield tn(w,function Rc(v,p){return bs.apply(this,arguments)}(w.auth,j));w.displayName=le.displayName||null,w.photoURL=le.photoUrl||null;const $e=w.providerData.find(({providerId:Ct})=>"password"===Ct);$e&&($e.displayName=w.displayName,$e.photoURL=w.photoURL),yield w._updateTokensIfNecessary(le)}),Nc.apply(this,arguments)}function oh(v,p){return rl((0,h.m9)(v),p,null)}function ah(v,p){return rl((0,h.m9)(v),null,p)}function rl(v,p,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,E.Z)(function*(v,p,g){const{auth:w}=v,j={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(j.email=p),g&&(j.password=g);const le=yield tn(v,ft(w,j));yield v._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Js{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class au extends Js{constructor(p,g,w,O){super(p,g,w),this.username=O}}class uu extends Js{constructor(p,g){super(p,"facebook.com",g)}}class Oc extends au{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class lu extends Js{constructor(p,g){super(p,"google.com",g)}}class cu extends au{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Pc(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ma(v){var p,g;if(!v)return null;const{providerId:w}=v,O=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},j=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const le=null===(g=null===(p=wt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(le)return new Js(j,"anonymous"!==le&&"custom"!==le?le:null)}if(!w)return null;switch(w){case"facebook.com":return new uu(j,O);case"github.com":return new Oc(j,O);case"google.com":return new lu(j,O);case"twitter.com":return new cu(j,O,v.screenName||null);case"custom":case"anonymous":return new Js(j,null);default:return new Js(j,w,O)}}(g)}class zo{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new zo("enroll",p,g)}static _fromMfaPendingCredential(p){return new zo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return zo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return zo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class kc{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=ar(p),O=g.customData._serverResponse,j=(O.mfaInfo||[]).map($e=>Ln._fromServerResponse(w,$e));Y(O.mfaPendingCredential,w,"internal-error");const le=zo._fromMfaPendingCredential(O.mfaPendingCredential);return new kc(le,j,function(){var $e=(0,E.Z)(function*(Ct){const $t=yield Ct._process(w,le);delete O.mfaInfo,delete O.mfaPendingCredential;const gn=Object.assign(Object.assign({},O),{idToken:$t.idToken,refreshToken:$t.refreshToken});switch(g.operationType){case"signIn":const sr=yield Fr._fromIdTokenResponse(w,g.operationType,gn);return yield w._updateCurrentUser(sr.user),sr;case"reauthenticate":return Y(g.user,w,"internal-error"),Fr._forOperation(g.user,g.operationType,gn);default:Re(w,"internal-error")}});return function(Ct){return $e.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,E.Z)(function*(){return g.signInResolver(p)})()}}function Gm(v,p){var g;const w=(0,h.m9)(v),O=p;return Y(p.customData.operationType,w,"argument-error"),Y(null===(g=O.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),kc._fromError(w,O)}class hu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Ln._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new hu(p)}getSession(){var p=this;return(0,E.Z)(function*(){return zo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,E.Z)(function*(){const O=p,j=yield w.getSession(),le=yield tn(w.user,O._process(w.user.auth,j,g));return yield w.user._updateTokensIfNecessary(le),w.user.reload()})()}unenroll(p){var g=this;return(0,E.Z)(function*(){const w="string"==typeof p?p:p.uid,O=yield g.user.getIdToken();try{const j=yield tn(g.user,function sl(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(v,p))}(g.user.auth,{idToken:O,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:le})=>le!==w),yield g.user._updateTokensIfNecessary(j),yield g.user.reload()}catch(j){throw j}})()}}const fu=new WeakMap;function ch(v){const p=(0,h.m9)(v);return fu.has(p)||fu.set(p,hu._fromUser(p)),fu.get(p)}const ol="__sak";class D{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ol,"1"),this.storage.removeItem(ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ye=(()=>{class v extends D{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function A(){const v=(0,h.z$)();return M(v)||Pt(v)}()&&function vs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const O=this.storage.getItem(w),j=this.localCache[w];O!==j&&g(w,j,O)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys(($e,Ct,$t)=>{this.notifyListeners($e,$t)});const O=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const $e=this.storage.getItem(O);if(g.newValue!==$e)null!==g.newValue?this.storage.setItem(O,g.newValue):this.storage.removeItem(O);else if(this.localCache[O]===g.newValue&&!w)return}const j=()=>{const $e=this.storage.getItem(O);!w&&this.localCache[O]===$e||this.notifyListeners(O,$e)},le=this.storage.getItem(O);!function jt(){return(0,h.w1)()&&10===document.documentMode}()||le===g.newValue||g.newValue===g.oldValue?j():setTimeout(j,10)}notifyListeners(g,w){this.localCache[g]=w;const O=this.listeners[g];if(O)for(const j of Array.from(O))j(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var O=()=>super._set,j=this;return(0,E.Z)(function*(){yield O().call(j,g,w),j.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,O=this;return(0,E.Z)(function*(){const j=yield w().call(O,g);return O.localCache[g]=JSON.stringify(j),j})()}_remove(g){var w=()=>super._remove,O=this;return(0,E.Z)(function*(){yield w().call(O,g),delete O.localCache[g]})()}}return v.type="LOCAL",v})(),xt=(()=>{class v extends D{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let Jn=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(j=>j.isListeningto(g));if(w)return w;const O=new v(g);return this.receivers.push(O),O}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,E.Z)(function*(){const O=g,{eventId:j,eventType:le,data:$e}=O.data,Ct=w.handlersMap[le];if(!Ct?.size)return;O.ports[0].postMessage({status:"ack",eventId:j,eventType:le});const $t=Array.from(Ct).map(function(){var sr=(0,E.Z)(function*(cs){return cs(O.origin,$e)});return function(cs){return sr.apply(this,arguments)}}()),gn=yield function Wn(v){return Promise.all(v.map(function(){var p=(0,E.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}($t);O.ports[0].postMessage({status:"done",eventId:j,eventType:le,response:gn})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Vn(v="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return v+g}class Dn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var O=this;return(0,E.Z)(function*(){const j=typeof MessageChannel<"u"?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let le,$e;return new Promise((Ct,$t)=>{const gn=Vn("",20);j.port1.start();const sr=setTimeout(()=>{$t(new Error("unsupported_event"))},w);$e={messageChannel:j,onMessage(cs){const Qi=cs;if(Qi.data.eventId===gn)switch(Qi.data.status){case"ack":clearTimeout(sr),le=setTimeout(()=>{$t(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),Ct(Qi.data.response);break;default:clearTimeout(sr),clearTimeout(le),$t(new Error("invalid_response"))}}},O.handlers.add($e),j.port1.addEventListener("message",$e.onMessage),O.target.postMessage({eventType:p,eventId:gn,data:g},[j.port2])}).finally(()=>{$e&&O.removeMessageHandler($e)})})()}}function En(){return window}function vr(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function Oi(){return(Oi=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const go="firebaseLocalStorageDb",pu=1,mo="firebaseLocalStorage",QI="fbase_key";class al{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Fc(v,p){return v.transaction([mo],p?"readwrite":"readonly").objectStore(mo)}function Ss(){const v=indexedDB.open(go,pu);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(mo,{keyPath:QI})}catch(O){g(O)}}),v.addEventListener("success",(0,E.Z)(function*(){const w=v.result;w.objectStoreNames.contains(mo)?p(w):(w.close(),yield function YI(){const v=indexedDB.deleteDatabase(go);return new al(v).toPromise()}(),p(yield Ss()))}))})}function Km(v,p,g){return ul.apply(this,arguments)}function ul(){return(ul=(0,E.Z)(function*(v,p,g){const w=Fc(v,!0).put({[QI]:p,value:g});return new al(w).toPromise()})).apply(this,arguments)}function dh(){return(dh=(0,E.Z)(function*(v,p){const g=Fc(v,!1).get(p),w=yield new al(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function hh(v,p){const g=Fc(v,!0).delete(p);return new al(g).toPromise()}const Ep=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,E.Z)(function*(){return g.db||(g.db=yield Ss()),g.db})()}_withRetries(g){var w=this;return(0,E.Z)(function*(){let O=0;for(;;)try{const j=yield w._openDb();return yield g(j)}catch(j){if(O++>3)throw j;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,E.Z)(function*(){return vr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,E.Z)(function*(){g.receiver=Jn._getInstance(function po(){return vr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,E.Z)(function*(O,j){return{keyProcessed:(yield g._poll()).includes(j.key)}});return function(O,j){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,E.Z)(function*(O,j){return["keyChanged"]});return function(O,j){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,E.Z)(function*(){var w,O;if(g.activeServiceWorker=yield function fo(){return Oi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Dn(g.activeServiceWorker);const j=yield g.sender._send("ping",{},800);j&&null!==(w=j[0])&&void 0!==w&&w.fulfilled&&null!==(O=j[0])&&void 0!==O&&O.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,E.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ts(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ss();return yield Km(g,ol,"1"),yield hh(g,ol),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,E.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var O=this;return(0,E.Z)(function*(){return O._withPendingWrite((0,E.Z)(function*(){return yield O._withRetries(j=>Km(j,g,w)),O.localCache[g]=w,O.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,E.Z)(function*(){const O=yield w._withRetries(j=>function _p(v,p){return dh.apply(this,arguments)}(j,g));return w.localCache[g]=O,O})()}_remove(g){var w=this;return(0,E.Z)(function*(){return w._withPendingWrite((0,E.Z)(function*(){return yield w._withRetries(O=>hh(O,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,E.Z)(function*(){const w=yield g._withRetries(le=>{const $e=Fc(le,!1).getAll();return new al($e).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const O=[],j=new Set;for(const{fbase_key:le,value:$e}of w)j.add(le),JSON.stringify(g.localCache[le])!==JSON.stringify($e)&&(g.notifyListeners(le,$e),O.push(le));for(const le of Object.keys(g.localCache))g.localCache[le]&&!j.has(le)&&(g.notifyListeners(le,null),O.push(le));return O})()}notifyListeners(g,w){this.localCache[g]=w;const O=this.listeners[g];if(O)for(const j of Array.from(O))j(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ot(){return(Ot=(0,E.Z)(function*(v){return(yield ot(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function an(v){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=O=>{const j=Fe("internal-error");j.customData=O,g(j)},w.type="text/javascript",w.charset="UTF-8",function vo(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function gu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Lc=1e12;class Vc{constructor(p){this.auth=p,this.counter=Lc,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new fh(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Lc;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Lc))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,E.Z)(function*(){var w;return null===(w=g._widgets.get(p||Lc))||void 0===w||w.execute(),""})()}}class fh{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof p?document.getElementById(p):p;Y(O,"argument-error",{appName:g}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qm(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uc=gu("rcb"),Jr=new Ke(3e4,6e4);class xr{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=En().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return Y(function Ki(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(En().grecaptcha):new Promise((w,O)=>{const j=En().setTimeout(()=>{O(Fe(p,"network-request-failed"))},Jr.get());En()[Uc]=()=>{En().clearTimeout(j),delete En()[Uc];const $e=En().grecaptcha;if(!$e)return void O(Fe(p,"internal-error"));const Ct=$e.render;$e.render=($t,gn)=>{const sr=Ct($t,gn);return this.counter++,sr},this.hostLanguage=g,w($e)},an(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Uc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(j),O(Fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=En().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mu{load(p){return(0,E.Z)(function*(){return new Vc(p)})()}clearedOneInstance(){}}const cl="recaptcha",Go={theme:"light",type:"image"};class Io{constructor(p,g=Object.assign({},Go),w){this.parameters=g,this.type=cl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ar(w),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof p?document.getElementById(p):p;Y(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mu:new xr,this.validateStartingState()}verify(){var p=this;return(0,E.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(j=>{const le=$e=>{$e&&(p.tokenChangeListeners.delete(le),j($e))};p.tokenChangeListeners.add(le),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=En()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,E.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,E.Z)(function*(){Y(De()&&!vr(),p.auth,"internal-error"),yield function ri(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function yo(v){return Ot.apply(this,arguments)}(p.auth);Y(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nr{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Ri._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function jc(v,p,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,E.Z)(function*(v,p,g){const w=ar(v),O=yield Bc(w,p,(0,h.m9)(g));return new nr(O,j=>Ys(w,j))})).apply(this,arguments)}function ya(v,p,g){return yu.apply(this,arguments)}function yu(){return(yu=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v);yield ti(!1,w,"phone");const O=yield Bc(w.auth,p,(0,h.m9)(g));return new nr(O,j=>iu(w,j))})).apply(this,arguments)}function to(v,p,g){return hl.apply(this,arguments)}function hl(){return(hl=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v),O=yield Bc(w.auth,p,(0,h.m9)(g));return new nr(O,j=>U(w,j))})).apply(this,arguments)}function Bc(v,p,g){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,E.Z)(function*(v,p,g){var w;const O=yield g.verify();try{let j;if(Y("string"==typeof O,v,"argument-error"),Y(g.type===cl,v,"argument-error"),j="string"==typeof p?{phoneNumber:p}:p,"session"in j){const le=j.session;if("phoneNumber"in j)return Y("enroll"===le.type,v,"internal-error"),(yield function Wm(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:start",Tt(v,p))}(v,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{Y("signin"===le.type,v,"internal-error");const $e=(null===(w=j.multiFactorHint)||void 0===w?void 0:w.uid)||j.multiFactorUid;return Y($e,v,"missing-multi-factor-info"),(yield function Zm(v,p){return ot(v,"POST","/v2/accounts/mfaSignIn:start",Tt(v,p))}(v,{mfaPendingCredential:le.credential,mfaEnrollmentId:$e,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield function ss(v,p){return Mi.apply(this,arguments)}(v,{phoneNumber:j.phoneNumber,recaptchaToken:O});return le}}finally{g._reset()}}),Lr.apply(this,arguments)}function fl(v,p){return ph.apply(this,arguments)}function ph(){return(ph=(0,E.Z)(function*(v,p){yield Fo((0,h.m9)(v),p)})).apply(this,arguments)}let Vr=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=ar(g)}verifyPhoneNumber(g,w){return Bc(this.auth,g,(0,h.m9)(w))}static credential(g,w){return Ri._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:O}=g;return w&&O?Ri._fromTokenResponse(w,O):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function As(v,p){return p?Xe(p):(Y(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class va extends Qn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Zt(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Zt(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Zt(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Dp(v){return Kr(v.auth,new va(v),v.bypassAuthState)}function Di(v){const{auth:p,user:g}=v;return Y(g,p,"internal-error"),Ii(g,new va(v),v.bypassAuthState)}function Eo(v){return vu.apply(this,arguments)}function vu(){return(vu=(0,E.Z)(function*(v){const{auth:p,user:g}=v;return Y(g,p,"internal-error"),Fo(g,new va(v),v.bypassAuthState)})).apply(this,arguments)}class _a{constructor(p,g,w,O,j=!1){this.auth=p,this.resolver=w,this.user=O,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,E.Z)(function*(w,O){p.pendingPromise={resolve:w,reject:O};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(j){p.reject(j)}});return function(w,O){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,E.Z)(function*(){const{urlResponse:w,sessionId:O,postBody:j,tenantId:le,error:$e,type:Ct}=p;if($e)return void g.reject($e);const $t={auth:g.auth,requestUri:w,sessionId:O,tenantId:le||void 0,postBody:j||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ct)($t))}catch(gn){g.reject(gn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Dp;case"linkViaPopup":case"linkViaRedirect":return Eo;case"reauthViaPopup":case"reauthViaRedirect":return Di;default:Re(this.auth,"internal-error")}}resolve(p){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pl=new Ke(2e3,1e4);function Ym(v,p,g){return $c.apply(this,arguments)}function $c(){return($c=(0,E.Z)(function*(v,p,g){const w=ar(v);Ve(v,p,Hi);const O=As(w,g);return new ls(w,"signInViaPopup",p,O).executeNotNull()})).apply(this,arguments)}function Cp(v,p,g){return bp.apply(this,arguments)}function bp(){return(bp=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v);Ve(w.auth,p,Hi);const O=As(w.auth,g);return new ls(w.auth,"reauthViaPopup",p,O,w).executeNotNull()})).apply(this,arguments)}function ii(v,p,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v);Ve(w.auth,p,Hi);const O=As(w.auth,g);return new ls(w.auth,"linkViaPopup",p,O,w).executeNotNull()})).apply(this,arguments)}let ls=(()=>{class v extends _a{constructor(g,w,O,j,le){super(g,w,j,le),this.provider=O,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,E.Z)(function*(){const w=yield g.execute();return Y(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,E.Z)(function*(){Ne(1===g.filter.length,"Popup operations only handle one event");const w=Vn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(O=>{g.reject(O)}),g.resolver._isIframeWebStorageSupported(g.auth,O=>{O||g.reject(Fe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,O;this.pollId=null!==(O=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,pl.get())};g()}}return v.currentPopupAction=null,v})();const e0="pendingRedirect",_u=new Map;class Hc extends _a{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,E.Z)(function*(){let w=_u.get(g.auth._key());if(!w){try{const j=(yield function gh(v,p){return zc.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(j)}catch(O){w=()=>Promise.reject(O)}_u.set(g.auth._key(),w)}return g.bypassAuthState||_u.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,E.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const O=yield w.auth._redirectUserForId(p.eventId);if(O)return w.user=O,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function zc(){return(zc=(0,E.Z)(function*(v,p){const g=Ea(p),w=Ia(v);if(!(yield w._isAvailable()))return!1;const O="true"===(yield w._get(g));return yield w._remove(g),O})).apply(this,arguments)}function Gc(v,p){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,E.Z)(function*(v,p){return Ia(v)._set(Ea(p),"true")})).apply(this,arguments)}function ml(){_u.clear()}function Iu(v,p){_u.set(v._key(),p)}function Ia(v){return Xe(v._redirectPersistence)}function Ea(v){return K(e0,v.config.apiKey,v.name)}function wa(v,p,g){return function yl(v,p,g){return wo.apply(this,arguments)}(v,p,g)}function wo(){return(wo=(0,E.Z)(function*(v,p,g){const w=ar(v);Ve(v,p,Hi),yield w._initializationPromise;const O=As(w,g);return yield Gc(O,w),O._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Tp(v,p,g){return function mh(v,p,g){return Wo.apply(this,arguments)}(v,p,g)}function Wo(){return(Wo=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v);Ve(w.auth,p,Hi),yield w.auth._initializationPromise;const O=As(w.auth,g);yield Gc(O,w.auth);const j=yield si(w);return O._openRedirect(w.auth,p,"reauthViaRedirect",j)})).apply(this,arguments)}function Eu(v,p,g){return function yh(v,p,g){return vh.apply(this,arguments)}(v,p,g)}function vh(){return(vh=(0,E.Z)(function*(v,p,g){const w=(0,h.m9)(v);Ve(w.auth,p,Hi),yield w.auth._initializationPromise;const O=As(w.auth,g);yield ti(!1,w,p.providerId),yield Gc(O,w.auth);const j=yield si(w);return O._openRedirect(w.auth,p,"linkViaRedirect",j)})).apply(this,arguments)}function qc(v,p){return no.apply(this,arguments)}function no(){return(no=(0,E.Z)(function*(v,p){return yield ar(v)._initializationPromise,Do(v,p,!1)})).apply(this,arguments)}function Do(v,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,E.Z)(function*(v,p,g=!1){const w=ar(v),O=As(w,p),le=yield new Hc(w,O,g).execute();return le&&!g&&(delete le.user._redirectEventId,yield w._persistUserIfCurrent(le.user),yield w._setRedirectUser(null,p)),le})).apply(this,arguments)}function si(v){return Da.apply(this,arguments)}function Da(){return(Da=(0,E.Z)(function*(v){const p=Vn(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Xm{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Jm(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _h(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!_h(p)){const O=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Fe(this.auth,O))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sp(p))}saveEventToCache(p){this.cachedEventUids.add(Sp(p)),this.lastProcessedEventTime=Date.now()}}function Sp(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function _h({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function vl(v){return _l.apply(this,arguments)}function _l(){return(_l=(0,E.Z)(function*(v,p={}){return ot(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Ih=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eh=/^https?/;function Il(){return(Il=(0,E.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield vl(v);for(const g of p)try{if(ey(g))return}catch{}Re(v,"unauthorized-domain")})).apply(this,arguments)}function ey(v){const p=oe(),{protocol:g,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const le=new URL(v);return""===le.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&le.hostname===w}if(!Eh.test(g))return!1;if(Ih.test(v))return w===v;const O=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(w)}const El=new Ke(3e4,6e4);function wl(){const v=En().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Cl=null;const Ca=new Ke(5e3,15e3),Mp="__/auth/iframe",xp="emulator/auth/iframe",ny={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t0(v){const p=v.config;Y(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?ht(p,xp):`https://${v.config.authDomain}/${Mp}`,w={apiKey:p.apiKey,appName:v.name,v:V.SDK_VERSION},O=wh.get(v.config.apiHost);O&&(w.eid=O);const j=v._getFrameworks();return j.length&&(w.fw=j.join(",")),`${g}?${(0,h.xO)(w).slice(1)}`}function Co(){return Co=(0,E.Z)(function*(v){const p=yield function ty(v){return Cl=Cl||function Dl(v){return new Promise((p,g)=>{var w,O,j;function le(){wl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{wl(),g(Fe(v,"network-request-failed"))},timeout:El.get()})}if(null!==(O=null===(w=En().gapi)||void 0===w?void 0:w.iframes)&&void 0!==O&&O.Iframe)p(gapi.iframes.getContext());else{if(null===(j=En().gapi)||void 0===j||!j.load){const $e=gu("iframefcb");return En()[$e]=()=>{gapi.load?le():g(Fe(v,"network-request-failed"))},an(`https://apis.google.com/js/api.js?onload=${$e}`).catch(Ct=>g(Ct))}le()}}).catch(p=>{throw Cl=null,p})}(v),Cl}(v),g=En().gapi;return Y(g,v,"internal-error"),p.open({where:document.body,url:t0(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ny,dontclear:!0},w=>new Promise(function(){var O=(0,E.Z)(function*(j,le){yield w.restyle({setHideOnLeave:!1});const $e=Fe(v,"network-request-failed"),Ct=En().setTimeout(()=>{le($e)},Ca.get());function $t(){En().clearTimeout(Ct),j(w)}w.ping($t).then($t,()=>{le($e)})});return function(j,le){return O.apply(this,arguments)}}()))}),Co.apply(this,arguments)}const Dh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rp=500,qo=600,Ch="_blank",Zi="http://localhost";class bh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fi="__/auth/handler",Zc="emulator/auth/handler";function ba(v,p,g,w,O,j){Y(v.config.authDomain,v,"auth-domain-config-required"),Y(v.config.apiKey,v,"invalid-api-key");const le={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:V.SDK_VERSION,eventId:O};if(p instanceof Hi){p.setDefaultLanguage(v.languageCode),le.providerId=p.providerId||"",(0,h.xb)(p.getCustomParameters())||(le.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ct,$t]of Object.entries(j||{}))le[Ct]=$t}if(p instanceof Hs){const Ct=p.getScopes().filter($t=>""!==$t);Ct.length>0&&(le.scopes=Ct.join(","))}v.tenantId&&(le.tid=v.tenantId);const $e=le;for(const Ct of Object.keys($e))void 0===$e[Ct]&&delete $e[Ct];return`${function Qc({config:v}){return v.emulator?ht(v,Zc):`https://${v.authDomain}/${fi}`}(v)}?${(0,h.xO)($e).slice(1)}`}const Yc="webStorageSupport",Th=class Xc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xt,this._completeRedirectFn=Do,this._overrideRedirectResult=Iu}_openPopup(p,g,w,O){var j=this;return(0,E.Z)(function*(){var le;Ne(null===(le=j.eventManagers[p._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const $e=ba(p,g,w,oe(),O);return function bl(v,p,g,w=Rp,O=qo){const j=Math.max((window.screen.availHeight-O)/2,0).toString(),le=Math.max((window.screen.availWidth-w)/2,0).toString();let $e="";const Ct=Object.assign(Object.assign({},Dh),{width:w.toString(),height:O.toString(),top:j,left:le}),$t=(0,h.z$)().toLowerCase();g&&($e=W($t)?Ch:g),N($t)&&(p=p||Zi,Ct.scrollbars="yes");const gn=Object.entries(Ct).reduce((cs,[Qi,ds])=>`${cs}${Qi}=${ds},`,"");if(function vt(v=(0,h.z$)()){var p;return Pt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}($t)&&"_self"!==$e)return function Np(v,p){const g=document.createElement("a");g.href=v,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",$e),new bh(null);const sr=window.open(p||"",$e,gn);Y(sr,v,"popup-blocked");try{sr.focus()}catch{}return new bh(sr)}(p,$e,Vn())})()}_openRedirect(p,g,w,O){var j=this;return(0,E.Z)(function*(){return yield j._originValidation(p),function tr(v){En().location.href=v}(ba(p,g,w,oe(),O)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:O,promise:j}=this.eventManagers[g];return O?Promise.resolve(O):(Ne(j,"If manager is not set, promise should be"),j)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,E.Z)(function*(){const w=yield function ry(v){return Co.apply(this,arguments)}(p),O=new Xm(p);return w.register("authEvent",j=>(Y(j?.authEvent,p,"invalid-auth-event"),{status:O.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:O},g.iframes[p._key()]=w,O})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Yc,{type:Yc},O=>{var j;const le=null===(j=O?.[0])||void 0===j?void 0:j[Yc];void 0!==le&&g(!!le),Re(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ap(v){return Il.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return An()||M()||Pt()}};class Sh{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return pe("unexpected MultiFactorSessionType")}}}class Ur extends Sh{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ur(p)}_finalizeEnroll(p,g,w){return function qm(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(v,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function wp(v,p){return ot(v,"POST","/v2/accounts/mfaSignIn:finalize",Tt(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tl=(()=>{class v{constructor(){}static assertion(g){return Ur._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Sl="@firebase/auth";class Zr{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,E.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mh=(0,h.Pz)("authIdTokenMaxAge")||300;let Du=null;const xh=v=>function(){var p=(0,E.Z)(function*(g){const w=g&&(yield g.getIdTokenResult()),O=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(O&&O>Mh)return;const j=w?.token;Du!==j&&(Du=j,yield fetch(v,{method:j?"POST":"DELETE",headers:j?{Authorization:`Bearer ${j}`}:{}}))});return function(g){return p.apply(this,arguments)}}();function Rh(v=(0,V.getApp)()){const p=(0,V._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const g=function Ft(v,p){const g=(0,V._getProvider)(v,"auth");if(g.isInitialized()){const O=g.getImmediate(),j=g.getOptions();if((0,h.vZ)(j,p??{}))return O;Re(O,"already-initialized")}return g.initialize({options:p})}(v,{popupRedirectResolver:Th,persistence:[Ep,ye,xt]}),w=(0,h.Pz)("authTokenSyncURL");if(w){const j=xh(w);(function lh(v,p,g){(0,h.m9)(v).beforeAuthStateChanged(p,g)})(g,j,()=>j(g.currentUser)),function uh(v,p,g,w){(0,h.m9)(v).onIdTokenChanged(p,g,w)}(g,le=>j(le))}const O=(0,h.q4)("auth");return O&&Oe(g,`http://${O}`),g}!function Ah(v){(0,V._registerComponent)(new fe.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),O=p.getProvider("heartbeat"),{apiKey:j,authDomain:le}=w.options;return(($e,Ct)=>{Y(j&&!j.includes(":"),"invalid-api-key",{appName:$e.name}),Y(!le?.includes(":"),"argument-error",{appName:$e.name});const $t={apiKey:j,authDomain:le,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_s(v)},gn=new Is($e,Ct,$t);return function lt(v,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Xe);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(gn,g),gn})(w,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new fe.wA("auth-internal",p=>{const g=ar(p.getProvider("auth").getImmediate());return new Zr(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(Sl,"0.21.5",function bo(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,V.registerVersion)(Sl,"0.21.5","esm2017")}("Browser")},2090:(Dt,Te,L)=>{"use strict";L.d(Te,{$s:()=>kt,BH:()=>Ve,G6:()=>Be,L:()=>_e,LL:()=>Nt,P0:()=>Re,Pz:()=>je,Sg:()=>rt,UG:()=>Ne,US:()=>fe,ZB:()=>Z,ZR:()=>_n,aH:()=>Fe,b$:()=>Ft,eu:()=>Ke,hl:()=>Ze,jU:()=>ut,m9:()=>Zn,ne:()=>St,pd:()=>Ht,q4:()=>Ae,r3:()=>Kn,ru:()=>Xe,tV:()=>G,uI:()=>pe,vZ:()=>be,w1:()=>oe,xO:()=>mn,xb:()=>ee,z$:()=>Y,zI:()=>ht,zd:()=>Lt});const ne=function(K){const F=[];let x=0;for(let N=0;N<K.length;N++){let M=K.charCodeAt(N);M<128?F[x++]=M:M<2048?(F[x++]=M>>6|192,F[x++]=63&M|128):55296==(64512&M)&&N+1<K.length&&56320==(64512&K.charCodeAt(N+1))?(M=65536+((1023&M)<<10)+(1023&K.charCodeAt(++N)),F[x++]=M>>18|240,F[x++]=M>>12&63|128,F[x++]=M>>6&63|128,F[x++]=63&M|128):(F[x++]=M>>12|224,F[x++]=M>>6&63|128,F[x++]=63&M|128)}return F},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,F){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let M=0;M<K.length;M+=3){const W=K[M],X=M+1<K.length,Ge=X?K[M+1]:0,dt=M+2<K.length,pt=dt?K[M+2]:0;let vt=(15&Ge)<<2|pt>>6,jt=63&pt;dt||(jt=64,X||(vt=64)),N.push(x[W>>2],x[(3&W)<<4|Ge>>4],x[vt],x[jt])}return N.join("")},encodeString(K,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(K):this.encodeByteArray(ne(K),F)},decodeString(K,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(K):function(K){const F=[];let x=0,N=0;for(;x<K.length;){const M=K[x++];if(M<128)F[N++]=String.fromCharCode(M);else if(M>191&&M<224){const W=K[x++];F[N++]=String.fromCharCode((31&M)<<6|63&W)}else if(M>239&&M<365){const dt=((7&M)<<18|(63&K[x++])<<12|(63&K[x++])<<6|63&K[x++])-65536;F[N++]=String.fromCharCode(55296+(dt>>10)),F[N++]=String.fromCharCode(56320+(1023&dt))}else{const W=K[x++],X=K[x++];F[N++]=String.fromCharCode((15&M)<<12|(63&W)<<6|63&X)}}return F.join("")}(this.decodeStringToByteArray(K,F))},decodeStringToByteArray(K,F){this.init_();const x=F?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let M=0;M<K.length;){const W=x[K.charAt(M++)],Ge=M<K.length?x[K.charAt(M)]:0;++M;const pt=M<K.length?x[K.charAt(M)]:64;++M;const Mt=M<K.length?x[K.charAt(M)]:64;if(++M,null==W||null==Ge||null==pt||null==Mt)throw new ge;N.push(W<<2|Ge>>4),64!==pt&&(N.push(Ge<<4&240|pt>>2),64!==Mt&&N.push(pt<<6&192|Mt))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(K){return function(K){const F=ne(K);return fe.encodeByteArray(F,!0)}(K).replace(/\./g,"")},G=function(K){try{return fe.decodeString(K,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function Z(K,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return F}for(const x in F)!F.hasOwnProperty(x)||!Le(x)||(K[x]=Z(K[x],F[x]));return K}function Le(K){return"__proto__"!==K}const we=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=K&&G(K[1]);return F&&JSON.parse(F)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Ae=K=>{var F,x;return null===(x=null===(F=we())||void 0===F?void 0:F.emulatorHosts)||void 0===x?void 0:x[K]},Re=K=>{const F=Ae(K);if(!F)return;const x=F.lastIndexOf(":");if(x<=0||x+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const N=parseInt(F.substring(x+1),10);return"["===F[0]?[F.substring(1,x-1),N]:[F.substring(0,x),N]},Fe=()=>{var K;return null===(K=we())||void 0===K?void 0:K.config},je=K=>{var F;return null===(F=we())||void 0===F?void 0:F[`_${K}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,x)=>{this.resolve=F,this.reject=x})}wrapCallback(F){return(x,N)=>{x?this.reject(x):this.resolve(N),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(x):F(x,N))}}}function rt(K,F){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=F||"demo-project",M=K.iat||0,W=K.sub||K.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:M,exp:M+3600,auth_time:M,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},K);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(X)),""].join(".")}function Y(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function Ne(){var K;const F=null===(K=we())||void 0===K?void 0:K.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){return"object"==typeof self&&self.self===self}function Xe(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){const K=Y();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Be(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){try{return"object"==typeof indexedDB}catch{return!1}}function Ke(){return new Promise((K,F)=>{try{let x=!0;const N="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(N);M.onsuccess=()=>{M.result.close(),x||self.indexedDB.deleteDatabase(N),K(!0)},M.onupgradeneeded=()=>{x=!1},M.onerror=()=>{var W;F((null===(W=M.error)||void 0===W?void 0:W.message)||"")}}catch(x){F(x)}})}function ht(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _n extends Error{constructor(F,x,N){super(x),this.code=F,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}}class Nt{constructor(F,x,N){this.service=F,this.serviceName=x,this.errors=N}create(F,...x){const N=x[0]||{},M=`${this.service}/${F}`,W=this.errors[F],X=W?function Tt(K,F){return K.replace(ot,(x,N)=>{const M=F[N];return null!=M?String(M):`<${N}?>`})}(W,N):"Error";return new _n(M,`${this.serviceName}: ${X} (${M}).`,N)}}const ot=/\{\$([^}]+)}/g;function Kn(K,F){return Object.prototype.hasOwnProperty.call(K,F)}function ee(K){for(const F in K)if(Object.prototype.hasOwnProperty.call(K,F))return!1;return!0}function be(K,F){if(K===F)return!0;const x=Object.keys(K),N=Object.keys(F);for(const M of x){if(!N.includes(M))return!1;const W=K[M],X=F[M];if(me(W)&&me(X)){if(!be(W,X))return!1}else if(W!==X)return!1}for(const M of N)if(!x.includes(M))return!1;return!0}function me(K){return null!==K&&"object"==typeof K}function mn(K){const F=[];for(const[x,N]of Object.entries(K))Array.isArray(N)?N.forEach(M=>{F.push(encodeURIComponent(x)+"="+encodeURIComponent(M))}):F.push(encodeURIComponent(x)+"="+encodeURIComponent(N));return F.length?"&"+F.join("&"):""}function Lt(K){const F={};return K.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[M,W]=N.split("=");F[decodeURIComponent(M)]=decodeURIComponent(W)}}),F}function Ht(K){const F=K.indexOf("?");if(!F)return"";const x=K.indexOf("#",F);return K.substring(F,x>0?x:void 0)}function St(K,F){const x=new wt(K,F);return x.subscribe.bind(x)}class wt{constructor(F,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{F(this)}).catch(N=>{this.error(N)})}next(F){this.forEachObserver(x=>{x.next(F)})}error(F){this.forEachObserver(x=>{x.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,x,N){let M;if(void 0===F&&void 0===x&&void 0===N)throw new Error("Missing Observer.");M=function tn(K,F){if("object"!=typeof K||null===K)return!1;for(const x of F)if(x in K&&"function"==typeof K[x])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:x,complete:N},void 0===M.next&&(M.next=zt),void 0===M.error&&(M.error=zt),void 0===M.complete&&(M.complete=zt);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),W}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,F)}sendOne(F,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{x(this.observers[F])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}const hr=1e3,Je=2,ke=144e5,gt=.5;function kt(K,F=hr,x=Je){const N=F*Math.pow(x,K),M=Math.round(gt*N*(Math.random()-.5)*2);return Math.min(ke,N+M)}function Zn(K){return K&&K._delegate?K._delegate:K}},9461:(Dt,Te,L)=>{"use strict";var E=L(6895),h=L(4650);class V extends E.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends V{static makeCurrent(){(0,E.\u0275setRootDomAdapter)(new ne)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fe(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==t?null:function ve(n){ge=ge||document.createElement("a"),ge.setAttribute("href",n);const e=ge.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,E.\u0275parseCookieValue)(document.cookie,e)}}let ge,ae=null;const _e=new h.InjectionToken("TRANSITION_ID"),q=[{provide:h.APP_INITIALIZER,useFactory:function G(n,e,t){return()=>{t.get(h.ApplicationInitStatus).donePromise.then(()=>{const r=(0,E.\u0275getDOM)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[_e,E.DOCUMENT,h.Injector],multi:!0}];let Le=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const ue=new h.InjectionToken("EventManagerPlugins");let Se=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(ue),h.\u0275\u0275inject(h.NgZone))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class We{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,E.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let he=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const o=this.usageCount;let u=o.get(t)??0;return u+=r,u>0?o.set(t,u):o.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n extends he{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const o=this.doc.createElement("style");o.textContent=r,t.appendChild(o);const u=this.styleRef.get(r);u?u.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(E.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Ae={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Re=/%COMP%/g,pe=new h.InjectionToken("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Xe(n,e){return e.flat(100).map(t=>t.replace(Re,n))}function Ft(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class n{constructor(t,r,o,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new oe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(t,r);return o instanceof ht?o.applyToHost(t):o instanceof Ke&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const d=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ViewEncapsulation.Emulated:u=new ht(d,m,r,this.appId,_);break;case h.ViewEncapsulation.ShadowDom:return new Ze(d,m,t,r);default:u=new Ke(d,m,r,_)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Se),h.\u0275\u0275inject(we),h.\u0275\u0275inject(h.APP_ID),h.\u0275\u0275inject(pe))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class oe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ae[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Be(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Be(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Ae[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ae[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.RendererStyleFlags2.DashCase|h.RendererStyleFlags2.Important)?e.style.setProperty(t,r,o&h.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ft(r)):this.eventManager.addEventListener(e,t,Ft(r))}}function Be(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ze extends oe{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Xe(o.id,o.styles);for(const d of u){const m=document.createElement("style");m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ke extends oe{constructor(e,t,r,o,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=Xe(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ht extends Ke{constructor(e,t,r,o,u){const d=o+"-"+r.id;super(e,t,r,u,d),this.contentAttr=function Ne(n){return"_ngcontent-%COMP%".replace(Re,n)}(d),this.hostAttr=function ut(n){return"_nghost-%COMP%".replace(Re,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let mt=(()=>{class n extends We{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(E.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const _n=["alt","control","meta","shift"],Nt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ot=(()=>{class n extends We{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.\u0275getDOM)().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),_n.forEach(T=>{const R=r.indexOf(T);R>-1&&(r.splice(R,1),d+=T+".")}),d+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=o,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let o=Nt[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),_n.forEach(d=>{d!==o&&(0,Tt[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(E.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const ee=(0,h.createPlatformFactory)(h.platformCore,"browser",[{provide:h.PLATFORM_ID,useValue:E.\u0275PLATFORM_BROWSER_ID},{provide:h.PLATFORM_INITIALIZER,useValue:function er(){ne.makeCurrent()},multi:!0},{provide:E.DOCUMENT,useFactory:function Kn(){return(0,h.\u0275setDocument)(document),document},deps:[]}]),ce=new h.InjectionToken(""),be=[{provide:h.\u0275TESTABILITY_GETTER,useClass:class Z{addToWindow(e){h.\u0275global.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),h.\u0275global.frameworkStabilizers||(h.\u0275global.frameworkStabilizers=[]),h.\u0275global.frameworkStabilizers.push(r=>{const o=h.\u0275global.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(_){d=d||_,u--,0==u&&r(d)};o.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,E.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.\u0275TESTABILITY,useClass:h.Testability,deps:[h.NgZone,h.TestabilityRegistry,h.\u0275TESTABILITY_GETTER]},{provide:h.Testability,useClass:h.Testability,deps:[h.NgZone,h.TestabilityRegistry,h.\u0275TESTABILITY_GETTER]}],me=[{provide:h.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:h.ErrorHandler,useFactory:function yr(){return new h.ErrorHandler},deps:[]},{provide:ue,useClass:mt,multi:!0,deps:[E.DOCUMENT,h.NgZone,h.PLATFORM_ID]},{provide:ue,useClass:ot,multi:!0,deps:[E.DOCUMENT]},{provide:lt,useClass:lt,deps:[Se,we,h.APP_ID,pe]},{provide:h.RendererFactory2,useExisting:lt},{provide:he,useExisting:we},{provide:we,useClass:we,deps:[E.DOCUMENT]},{provide:Se,useClass:Se,deps:[ue,h.NgZone]},{provide:E.XhrFactory,useClass:Le,deps:[]},[]];let at=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.APP_ID,useValue:t.appId},{provide:_e,useExisting:h.APP_ID},q]}}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(ce,12))},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[...me,...be],imports:[E.CommonModule,h.ApplicationModule]}),n})(),St=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(E.DOCUMENT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:function(t){let r=null;return r=t?new t:function Cn(){return new St((0,h.\u0275\u0275inject)(E.DOCUMENT))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var X=L(259),Ge=L(3008);const dt_firebase={projectId:"client-control-project",appId:"1:309957568123:web:7f20109bfed2724308a4de",storageBucket:"client-control-project.appspot.com",apiKey:"AIzaSyDUQ19xEsUQDNCv2KKXZK-PfdBULBUoMBg",authDomain:"client-control-project.firebaseapp.com",messagingSenderId:"309957568123",measurementId:"G-K8FH6D0XPL"},Pt=(0,X.ZF)({apiKey:"AIzaSyDUQ19xEsUQDNCv2KKXZK-PfdBULBUoMBg",authDomain:"client-control-project.firebaseapp.com",projectId:"client-control-project",storageBucket:"client-control-project.appspot.com",messagingSenderId:"309957568123",appId:"1:309957568123:web:7f20109bfed2724308a4de",measurementId:"G-K8FH6D0XPL"});(0,Ge.IH)(Pt);var vt=L(462);class jt{constructor(e){return e}}class An{constructor(){return(0,X.C6)()}}const Vi=new h.InjectionToken("angularfire2._apps"),Is={provide:jt,useFactory:function _s(n){return n&&1===n.length?n[0]:new jt((0,X.Mq)())},deps:[[new h.Optional,Vi]]},ar={provide:An,deps:[[new h.Optional,Vi]]};function re(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jt(r)}}let Oe=(()=>{class n{constructor(t){(0,X.KN)("angularfire",vt.q4.full,"core"),(0,X.KN)("angularfire",vt.q4.full,"app"),(0,X.KN)("angular",h.VERSION.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(h.PLATFORM_ID))},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[Is,ar]}),n})();function et(n,...e){return{ngModule:Oe,providers:[{provide:Vi,useFactory:re(n),multi:!0,deps:[h.NgZone,h.Injector,vt.HU,...e]}]}}const Qn=(0,vt.u3)(X.ZF,!0);var ie=L(5861),Nn=L(9681),Mr=L(4859),dn=L(2090),$n=L(1877);const ci=new Map,Yn={activated:!1,tokenObservers:[]},rs={initialized:!1,enabled:!1};function rr(n){return ci.get(n)||Object.assign({},Yn)}function Ui(){return rs}const Si="https://content-firebaseappcheck.googleapis.com/v1",fr="exchangeDebugToken",ji={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class $i{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ie.Z)(function*(){t.stop();try{t.pending=new dn.BH,yield function vi(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new dn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Zt=new dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Mi(n,e){return os.apply(this,arguments)}function os(){return(os=(0,ie.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const $=yield o.getHeartbeatsHeader();$&&(r["X-Firebase-Client"]=$)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch($){throw Zt.create("fetch-network-error",{originalErrorMessage:$?.message})}if(200!==d.status)throw Zt.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch($){throw Zt.create("fetch-parse-error",{originalErrorMessage:$?.message})}const _=m.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(_[1]),R=Date.now();return{token:m.token,expireTimeMillis:R+T,issuedAtTimeMillis:R}})).apply(this,arguments)}const xi="firebase-app-check-database",$s=1,_i="firebase-app-check-store";let qr=null;function Hs(n,e){return zs.apply(this,arguments)}function zs(){return(zs=(0,ie.Z)(function*(n,e){const r=(yield function da(){return qr||(qr=new Promise((n,e)=>{try{const t=indexedDB.open(xi,$s);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Zt.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_i,{keyPath:"compositeKey"})}}catch(t){e(Zt.create("storage-open",{originalErrorMessage:t?.message}))}}),qr)}()).transaction(_i,"readwrite"),u=r.objectStore(_i).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=_=>{d()},r.onerror=_=>{var T;m(Zt.create("storage-set",{originalErrorMessage:null===(T=_.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Gs=new $n.Yd("@firebase/app-check");function zi(n,e){return(0,dn.hl)()?function Mc(n,e){return Hs(function pa(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gs.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Fr(){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,ie.Z)(function*(){const n=Ui();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nu={error:"UNKNOWN_ERROR"};function Gi(n){return dn.US.encodeString(JSON.stringify(n),!1)}function ws(n){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,ie.Z)(function*(n,e=!1){const t=n.app;!function ca(n){if(!rr(n).activated)throw Zt.create("use-before-activation",{appName:n.name})}(t);const r=rr(t);let u,o=r.token;if(o&&!as(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(as(_)?o=_:yield zi(t,void 0))}if(!e&&o&&as(o))return{token:o.token};let m,d=!1;if(function Es(){return Ui().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Mi(function Wr(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${Si}/projects/${t}/apps/${r}:${fr}?key=${o}`,body:{debug_token:e}}}(t,yield Fr()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield zi(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield rr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Gs.warn(_.message):Gs.error(_),u=_}return o?u?m=as(o)?{token:o.token,internalError:u}:Ii(u):(m={token:o.token},r.token=o,yield zi(t,o)):m=Ii(u),d&&function ti(n,e){const t=rr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function Qs(n,e){const t=rr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Fo(n){const{app:e}=n,t=rr(e);let r=t.tokenRefresher;r||(r=function Lo(n){const{app:e}=n;return new $i((0,ie.Z)(function*(){let r;if(r=rr(e).token?yield ws(n,!0):yield ws(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=rr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},ji.RETRIAL_MIN_WAIT,ji.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function as(n){return n.expireTimeMillis-Date.now()>0}function Ii(n){return{token:Gi(nu),error:n}}class ru{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=rr(this.app);for(const t of e)Qs(this.app,t.next);return Promise.resolve()}}const Tn="app-check-internal";!function pr(){(0,Nn._registerComponent)(new Mr.wA("app-check",n=>function Kr(n,e){return new ru(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Tn).initialize()})),(0,Nn._registerComponent)(new Mr.wA(Tn,n=>function Ds(n){return{getToken:e=>ws(n,e),addTokenListener:e=>function Wi(n,e,t,r){const{app:o}=n,u=rr(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&as(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Fo(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Fo(n))}(n,"INTERNAL",e),removeTokenListener:e=>Qs(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nn.registerVersion)("@firebase/app-check","0.6.4")}();class Bo{constructor(){return(0,vt.vb)("app-check")}}typeof window<"u"&&window;var rl=L(5114);class ma{constructor(e){return e}}class Js{constructor(){return(0,vt.vb)("auth")}}const uu=new h.InjectionToken("angularfire2.auth-instances");function lu(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ma(r)}}const cu={provide:Js,deps:[[new h.Optional,uu]]},Pc={provide:ma,useFactory:function Oc(n,e){const t=(0,vt.JM)("auth",n,e);return t&&new ma(t)},deps:[[new h.Optional,uu],jt]};let vp=(()=>{class n{constructor(){(0,X.KN)("angularfire",vt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[Pc,cu]}),n})();function uh(n,...e){return{ngModule:vp,providers:[{provide:uu,useFactory:lu(n),multi:!0,deps:[h.NgZone,h.Injector,vt.HU,An,[new h.Optional,Bo],...e]}]}}const sl=(0,vt.u3)(rl.n,!0);var Ot,wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yo={},vo=vo||{},an=wp||self;function gu(){}function ll(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function eo(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vc="closure_uid_"+(1e9*Math.random()>>>0),fh=0;function Qm(n,e,t){return n.call.apply(n.bind,arguments)}function Uc(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qm:Uc).apply(null,arguments)}function _o(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Ki(){this.s=this.s,this.o=this.o}Ki.prototype.s=!1,Ki.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Lc(n){Object.prototype.hasOwnProperty.call(n,Vc)&&n[Vc]||(n[Vc]=++fh)}(this)},Ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cl=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Go(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Io(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ll(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ri.prototype.h=function(){this.defaultPrevented=!0};var nr=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",gu,e),an.removeEventListener("test",gu,e)}catch{}return n}();function jc(n){return/^[\s\xa0]*$/.test(n)}var dl=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ya(n,e){return n<e?-1:n>e?1:0}function yu(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function to(n){return-1!=yu().indexOf(n)}function hl(n){return hl[" "](n),n}hl[" "]=gu;var Di,n,Lr=to("Opera"),fl=to("Trident")||to("MSIE"),ph=to("Edge"),Vr=ph||fl,As=to("Gecko")&&!(-1!=yu().toLowerCase().indexOf("webkit")&&!to("Edge"))&&!(to("Trident")||to("MSIE"))&&!to("Edge"),va=-1!=yu().toLowerCase().indexOf("webkit")&&!to("Edge");function Dp(){var n=an.document;return n?n.documentMode:void 0}e:{var Eo="",vu=(n=yu(),As?/rv:([^\);]+)(\)|;)/.exec(n):ph?/Edge\/([\d\.]+)/.exec(n):fl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):va?/WebKit\/(\S+)/.exec(n):Lr?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vu&&(Eo=vu?vu[1]:""),fl){var _a=Dp();if(null!=_a&&_a>parseFloat(Eo)){Di=String(_a);break e}}Di=Eo}var pl={};var bp=an.document&&fl&&(Dp()||parseInt(Di,10))||void 0;function ii(n,e){if(ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(As){e:{try{hl(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gl[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ii.X.h.call(this)}}xr(ii,ri);var gl={2:"touch",3:"pen",4:"mouse"};ii.prototype.h=function(){ii.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ls="closure_listenable_"+(1e6*Math.random()|0),e0=0;function _u(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++e0,this.ba=this.ea=!1}function Hc(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function gh(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zc(n){const e={};for(const t in n)e[t]=n[t];return e}const Gc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wc(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Gc.length;u++)t=Gc[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ml(n){this.src=n,this.g={},this.h=0}function Iu(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=cl(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Hc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ia(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}ml.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Ia(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new _u(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var Ea="closure_lm_"+(1e6*Math.random()|0),wa={};function yl(n,e,t,r,o){if(r&&r.once)return mh(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)yl(n,e[u],t,r,o);return null}return t=Do(t),n&&n[ls]?n.N(e,t,eo(r)?!!r.capture:!!r,o):wo(n,e,t,!1,r,o)}function wo(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=eo(o)?!!o.capture:!!o,m=qc(n);if(m||(n[Ea]=m=new ml(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Tp(){const e=vh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nr||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(yh(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function mh(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)mh(n,e[u],t,r,o);return null}return t=Do(t),n&&n[ls]?n.O(e,t,eo(r)?!!r.capture:!!r,o):wo(n,e,t,!0,r,o)}function Wo(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Wo(n,e[u],t,r,o);else r=eo(r)?!!r.capture:!!r,t=Do(t),n&&n[ls]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ia(u=n.g[e],t,r,o))&&(Hc(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=qc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ia(e,t,r,o)),(t=-1<n?e[n]:null)&&Eu(t))}function Eu(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ls])Iu(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(yh(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qc(e))?(Iu(t,n),0==t.h&&(t.src=null,e[Ea]=null)):Hc(n)}}}function yh(n){return n in wa?wa[n]:wa[n]="on"+n}function vh(n,e){if(n.ba)n=!0;else{e=new ii(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Eu(n),n=t.call(r,e)}return n}function qc(n){return(n=n[Ea])instanceof ml?n:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function Do(n){return"function"==typeof n?n:(n[no]||(n[no]=function(e){return n.handleEvent(e)}),n[no])}function Hr(){Ki.call(this),this.i=new ml(this),this.P=this,this.I=null}function si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ri(e,n);else if(e instanceof ri)e.target=e.target||n;else{var o=e;Wc(e=new ri(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Da(d,r,!0,e)&&o}if(o=Da(d=e.g=n,r,!0,e)&&o,o=Da(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Da(d=e.g=t[u],r,!1,e)&&o}function Da(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,_=d.ha||d.src;d.ea&&Iu(n.i,d),o=!1!==m.call(_,r)&&o}}return o&&!r.defaultPrevented}xr(Hr,Ki),Hr.prototype[ls]=!0,Hr.prototype.removeEventListener=function(n,e,t,r){Wo(this,n,e,t,r)},Hr.prototype.M=function(){if(Hr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Hc(t[r]);delete n.g[e],n.h--}}this.I=null},Hr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Kc=an.JSON.stringify;function Xm(){var n=Il;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ih,_h=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Jm,n=>n.reset());class Jm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vl(n){an.setTimeout(()=>{throw n},0)}function _l(n,e){Ih||function Eh(){var n=an.Promise.resolve(void 0);Ih=function(){n.then(ey)}}(),Ap||(Ih(),Ap=!0),Il.add(n,e)}var Ap=!1,Il=new class Sp{constructor(){this.h=this.g=null}add(e,t){const r=_h.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ey(){for(var n;n=Xm();){try{n.h.call(n.g)}catch(t){vl(t)}var e=_h;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ap=!1}function El(n,e){Hr.call(this),this.h=n||1,this.g=e||an,this.j=Jr(this.lb,this),this.l=Date.now()}function wl(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Dl(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function Cl(n){n.g=Dl(()=>{n.g=null,n.i&&(n.i=!1,Cl(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xr(El,Hr),(Ot=El.prototype).ca=!1,Ot.R=null,Ot.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),si(this,"tick"),this.ca&&(wl(this),this.start()))}},Ot.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ot.M=function(){El.X.M.call(this),wl(this),delete this.g};class ty extends Ki{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cl(this)}M(){super.M(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ca(n){Ki.call(this),this.h=n,this.g={}}xr(Ca,Ki);var Mp=[];function xp(n,e,t,r){Array.isArray(t)||(t&&(Mp[0]=t.toString()),t=Mp);for(var o=0;o<t.length;o++){var u=yl(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function ny(n){gh(n.g,function(e,t){this.g.hasOwnProperty(t)&&Eu(e)},n),n.g={}}function wh(){this.g=!0}function Co(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rp(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Kc(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ca.prototype.M=function(){Ca.X.M.call(this),ny(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wh.prototype.Aa=function(){this.g=!1},wh.prototype.info=function(){};var qo={},Ch=null;function Zi(){return Ch=Ch||new Hr}function bh(n){ri.call(this,qo.Pa,n)}function bl(n){const e=Zi();si(e,new bh(e))}function Np(n,e){ri.call(this,qo.STAT_EVENT,n),this.stat=e}function fi(n){const e=Zi();si(e,new Np(e,n))}function Zc(n,e){ri.call(this,qo.Qa,n),this.size=e}function ba(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}qo.Pa="serverreachability",xr(bh,ri),qo.STAT_EVENT="statevent",xr(Np,ri),qo.Qa="timingevent",xr(Zc,ri);var Qc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Yc={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xc(){}function Sh(){}Xc.prototype.h=null;var wu,Ur={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Tl(){ri.call(this,"d")}function Sl(){ri.call(this,"c")}function Zr(){}function bo(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ca(this),this.O=Op,this.T=new El(n=Vr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ah}function Ah(){this.i=null,this.g="",this.h=!1}xr(Tl,ri),xr(Sl,ri),xr(Zr,Xc),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},wu=new Zr;var Op=45e3,Mh={},Du={};function xh(n,e,t){n.K=1,n.v=Al(Ms(e)),n.s=t,n.P=!0,Rh(n,null)}function Rh(n,e){n.F=Date.now(),w(n),n.A=Ms(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),oy(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Ah,n.g=p0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ty(Jr(n.La,n,n.g),n.N)),xp(n.S,n.g,"readystatechange",n.ib),e=n.H?zc(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),bl(),function t0(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),_=0;_<m.length;_++){var T=m[_].split("=");if(1<T.length){var R=T[0];T=T[1];var $=R.split("_");d=2<=$.length&&"type"==$[1]?d+(R+"=")+T+"&":d+(R+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function v(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function p(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=g(n,t),o==Du){4==e&&(n.o=4,fi(14),r=!1),Co(n.j,n.m,null,"[Incomplete Response]");break}if(o==Mh){n.o=4,fi(15),Co(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Co(n.j,n.m,o,null),Ct(n,o)}v(n)&&o!=Du&&o!=Mh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),yy(e),e.K=!0,fi(11))):(Co(n.j,n.m,t,"[Invalid Chunked Response]"),$e(n),le(n))}function g(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Du:(t=Number(e.substring(t,r)),isNaN(t)?Mh:(r+=1)+t>e.length?Du:(e=e.substr(r,t),n.C=r+t,e))}function w(n){n.V=Date.now()+n.O,O(n,n.O)}function O(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ba(Jr(n.gb,n),e)}function j(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function le(n){0==n.l.G||n.I||d0(n.l,n)}function $e(n){j(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wl(n.T),ny(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ct(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Fp(t.h,n)))if(!n.J&&Fp(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Hp(t),Bp(t)}my(t),fi(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=ba(Jr(t.cb,t),6e3));if(1>=uy(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Nl(t,11)}else if((n.J||t.g==n)&&Hp(t),!jc(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.T=T[0],T=T[1],2==t.G)if("c"==T[0]){t.I=T[1],t.ka=T[2];const R=T[3];null!=R&&(t.ma=R,t.j.info("VER="+t.ma));const $=T[4];null!=$&&(t.Ca=$,t.j.info("SVER="+t.Ca));const te=T[5];null!=te&&"number"==typeof te&&0<te&&(t.J=r=1.5*te,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Me=n.g;if(Me){const ze=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ze){var u=r.h;u.g||-1==ze.indexOf("spdy")&&-1==ze.indexOf("quic")&&-1==ze.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Fh(u,u.h),u.h=null))}if(r.D){const st=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;st&&(r.za=st,lr(r.F,r.D,st))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=f0(r,r.H?r.ka:null,r.V),d.J){ly(r.h,d);var m=d,_=r.J;_&&m.setTimeout(_),m.B&&(j(m),w(m)),r.g=d}else gy(r);0<t.i.length&&$p(t)}else"stop"!=T[0]&&"close"!=T[0]||Nl(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Nl(t,7):xa(t):"noop"!=T[0]&&t.l&&t.l.wa(T),t.A=0)}bl()}catch{}}function sr(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ll(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gn(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ll(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function $t(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ll(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(Ot=bo.prototype).setTimeout=function(n){this.O=n},Ot.ib=function(n){n=n.target;const e=this.L;e&&3==Ko(n)?e.l():this.La(n)},Ot.La=function(n){try{if(n==this.g)e:{const R=Ko(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>R)&&(3!=R||Vr||this.g&&(this.h.h||this.g.fa()||Bh(this.g)))){this.I||4!=R||7==e||bl(),j(this);var t=this.g.aa();this.Y=t;t:if(v(this)){var r=Bh(this.g);n="";var o=r.length,u=4==Ko(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),le(this);var d="";break t}this.h.i=new an.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function ry(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,R,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jc(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,fi(12),$e(this),le(this);break e}Co(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ct(this,t)}this.P?(p(this,R,d),Vr&&this.i&&3==R&&(xp(this.S,this.T,"tick",this.hb),this.T.start())):(Co(this.j,this.m,d,null),Ct(this,d)),4==R&&$e(this),this.i&&!this.I&&(4==R?d0(this.l,this):(this.i=!1,w(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),$e(this),le(this)}}}catch{}},Ot.hb=function(){if(this.g){var n=Ko(this.g),e=this.g.fa();this.C<e.length&&(j(this),p(this,n,e),this.i&&4!=n&&w(this))}},Ot.cancel=function(){this.I=!0,$e(this)},Ot.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Dh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(bl(),fi(17)),$e(this),this.o=2,le(this)):O(this,this.V-n)};var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ds(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ds){this.h=void 0!==e?e:n.h,Cu(this,n.j),this.s=n.s,this.g=n.g,Ta(this,n.m),this.l=n.l,e=n.i;var t=new Ph;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Nh(this,t),this.o=n.o}else n&&(t=String(n).match(cs))?(this.h=!!e,Cu(this,t[1]||"",!0),this.s=bu(t[2]||""),this.g=bu(t[3]||"",!0),Ta(this,t[4]),this.l=bu(t[5]||"",!0),Nh(this,t[6]||"",!0),this.o=bu(t[7]||"")):(this.h=!!e,this.i=new Ph(null,this.h))}function Ms(n){return new ds(n)}function Cu(n,e,t){n.j=t?bu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ta(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Nh(n,e,t){e instanceof Ph?(n.i=e,function LD(n,e){e&&!n.j&&(Aa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(sy(this,r),oy(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sa(e,iy)),n.i=new Ph(e,n.h))}function lr(n,e,t){n.i.set(e,t)}function Al(n){return lr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sa(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Pp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Pp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ds.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sa(e,Oh,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sa(e,Oh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sa(t,"/"==t.charAt(0)?kp:Ml,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sa(t,FD)),n.join("")};var Oh=/[#\/\?@]/g,Ml=/[#\?:]/g,kp=/[#\?]/g,iy=/[#\?@]/g,FD=/#/g;function Ph(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Aa(n){n.g||(n.g=new Map,n.h=0,n.i&&function Qi(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sy(n,e){Aa(n),e=xl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Tu(n,e){return Aa(n),e=xl(n,e),n.g.has(e)}function oy(n,e,t){sy(n,e),0<t.length&&(n.i=null,n.g.set(xl(n,e),Go(t)),n.h+=t.length)}function xl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kh(n){this.l=n||VD,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ga&&an.g.Ga()&&an.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ot=Ph.prototype).add=function(n,e){Aa(this),this.i=null,n=xl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ot.forEach=function(n,e){Aa(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Ot.oa=function(){Aa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},Ot.W=function(n){Aa(this);let e=[];if("string"==typeof n)Tu(this,n)&&(e=e.concat(this.g.get(xl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ot.set=function(n,e){return Aa(this),this.i=null,Tu(this,n=xl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ot.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var VD=10;function ay(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uy(n){return n.h?1:n.g?n.g.size:0}function Fp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Fh(n,e){n.g?n.g.add(e):n.h=e}function ly(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Lh(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Go(n.i)}function Jc(){}function n0(){this.g=new Jc}function cy(n,e,t){const r=t||"";try{sr(n,function(o,u){let d=o;eo(o)&&(d=Kc(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function ed(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Ma(n){this.l=n.ac||null,this.j=n.jb||!1}function Lp(n,e){Hr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Vp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kh.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jc.prototype.stringify=function(n){return an.JSON.stringify(n,void 0)},Jc.prototype.parse=function(n){return an.JSON.parse(n,void 0)},xr(Ma,Xc),Ma.prototype.g=function(){return new Lp(this.l,this.j)},Ma.prototype.i=function(n){return function(){return n}}({}),xr(Lp,Hr);var Vp=0;function r0(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Vh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uh(n)}function Uh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ot=Lp.prototype).open=function(n,e){if(this.readyState!=Vp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Uh(this)},Ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||an).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vh(this)),this.readyState=Vp},Ot.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uh(this)),this.g&&(this.readyState=3,Uh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r0(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ot.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vh(this):Uh(this),3==this.readyState&&r0(this)}},Ot.Va=function(n){this.g&&(this.response=this.responseText=n,Vh(this))},Ot.Ua=function(n){this.g&&(this.response=n,Vh(this))},Ot.ga=function(){this.g&&Vh(this)},Ot.setRequestHeader=function(n,e){this.v.append(n,e)},Ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var s0=an.JSON.parse;function jr(n){Hr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jh,this.K=this.L=!1}xr(jr,Hr);var jh="",hy=/^https?$/i,td=["POST","PUT"];function o0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jD(n),nd(n)}function jD(n){n.D||(n.D=!0,si(n,"complete"),si(n,"error"))}function fy(n){if(n.h&&typeof vo<"u"&&(!n.C[1]||4!=Ko(n)||2!=n.aa()))if(n.v&&4==Ko(n))Dl(n.Ha,0,n);else if(si(n,"readystatechange"),4==Ko(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(cs)[1]||null;if(!o&&an.self&&an.self.location){var u=an.self.location.protocol;o=u.substr(0,u.length-1)}r=!hy.test(o?o.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var d=2<Ko(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",jD(n)}}finally{nd(n)}}}function nd(n,e){if(n.g){a0(n);const t=n.g,r=n.C[0]?gu:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch{}}}function a0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function Ko(n){return n.g?n.g.readyState:0}function Bh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case jh:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Up(n){let e="";return gh(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function jp(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Up(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lr(n,e,t))}function rd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function py(n){this.Ca=0,this.i=[],this.j=new wh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=rd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=rd("baseRetryDelayMs",5e3,n),this.bb=rd("retryDelaySeedMs",1e4,n),this.$a=rd("forwardChannelMaxRetries",2,n),this.ta=rd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new kh(n&&n.concurrentRequestLimit),this.Fa=new n0,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xa(n){if(u0(n),3==n.G){var e=n.U++,t=Ms(n.F);lr(t,"SID",n.I),lr(t,"RID",e),lr(t,"TYPE","terminate"),xs(n,t),(e=new bo(n,n.j,e,void 0)).K=2,e.v=Al(Ms(t)),t=!1,an.navigator&&an.navigator.sendBeacon&&(t=an.navigator.sendBeacon(e.v.toString(),"")),!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=p0(e.l,null),e.g.da(e.v)),e.F=Date.now(),w(e)}h0(n)}function Bp(n){n.g&&(yy(n),n.g.cancel(),n.g=null)}function u0(n){Bp(n),n.u&&(an.clearTimeout(n.u),n.u=null),Hp(n),n.h.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function $p(n){ay(n.h)||n.m||(n.m=!0,_l(n.Ja,n),n.C=0)}function l0(n,e){var t;t=e?e.m:n.U++;const r=Ms(n.F);lr(r,"SID",n.I),lr(r,"RID",t),lr(r,"AID",n.T),xs(n,r),n.o&&n.s&&jp(r,n.o,n.s),t=new bo(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Rl(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Fh(n.h,t),xh(t,r,e)}function xs(n,e){n.ia&&gh(n.ia,function(t,r){lr(e,r,t)}),n.l&&sr({},function(t,r){lr(e,r,t)})}function Rl(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Jr(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let _=0;_<t;_++){let T=o[_].h;const R=o[_].g;if(T-=u,0>T)u=Math.max(0,o[_].h-100),m=!1;else try{cy(R,d,"req"+T+"_")}catch{r&&r(R)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function gy(n){n.g||n.u||(n.Z=1,_l(n.Ia,n),n.A=0)}function my(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ba(Jr(n.Ia,n),vy(n,n.A)),n.A++,0))}function yy(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function c0(n){n.g=new bo(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ms(n.sa);lr(e,"RID","rpc"),lr(e,"SID",n.I),lr(e,"CI",n.L?"0":"1"),lr(e,"AID",n.T),lr(e,"TYPE","xmlhttp"),xs(n,e),n.o&&n.s&&jp(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Al(Ms(e)),t.s=null,t.P=!0,Rh(t,n)}function Hp(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function d0(n,e){var t=null;if(n.g==e){Hp(n),yy(n),n.g=null;var r=2}else{if(!Fp(n.h,e))return;t=e.D,ly(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;si(r=Zi(),new Zc(r,t)),$p(n)}else gy(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function BD(n,e){return!(uy(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=ba(Jr(n.Ja,n,e),vy(n,n.C)),n.C++,0)))}(n,e)||2==r&&my(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Nl(n,5);break;case 4:Nl(n,10);break;case 3:Nl(n,6);break;default:Nl(n,2)}}function vy(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Nl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Jr(n.kb,n);t||(t=new ds("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||Cu(t,"https"),Al(t)),function dy(n,e){const t=new wh;if(an.Image){const r=new Image;r.onload=_o(ed,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_o(ed,t,r,"TestLoadImage: error",!1,e),r.onabort=_o(ed,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_o(ed,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fi(2);n.G=0,n.l&&n.l.va(e),h0(n),u0(n)}function h0(n){if(n.G=0,n.la=[],n.l){const e=Lh(n.h);(0!=e.length||0!=n.i.length)&&(Io(n.la,e),Io(n.la,n.i),n.h.i.length=0,Go(n.i),n.i.length=0),n.l.ua()}}function f0(n,e,t){var r=t instanceof ds?Ms(t):new ds(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Ta(r,r.m);else{var o=an.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new ds(null,void 0);r&&Cu(u,r),e&&(u.g=e),o&&Ta(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&lr(r,t,e),lr(r,"VER",n.ma),xs(n,r),r}function p0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(t&&n.Da&&!n.ra?new Ma({jb:!0}):n.ra)).Ka(n.H),e}function $h(){}function ro(){if(fl&&!(10<=Number(bp)))throw Error("Environmental error: no available transport.")}function Ci(n,e){Hr.call(this),this.g=new py(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!jc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ol(this)}function _y(n){Tl.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Iy(){Sl.call(this),this.status=1}function Ol(n){this.g=n}(Ot=jr.prototype).Ka=function(n){this.L=n},Ot.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wu.g(),this.C=function Th(n){return n.h||(n.h=n.i())}(this.u?this.u:wu),this.g.onreadystatechange=Jr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void o0(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=an.FormData&&n instanceof an.FormData,!(0<=cl(td,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{a0(this),0<this.B&&((this.K=function UD(n){return fl&&function Ym(){return function Bc(n){var e=pl;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=dl(String(Di)).split("."),t=dl("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=ya(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||ya(0==o[2].length,0==u[2].length)||ya(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.qa,this)):this.A=Dl(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){o0(this,u)}},Ot.qa=function(){typeof vo<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},Ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),nd(this))},Ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nd(this,!0)),jr.X.M.call(this)},Ot.Ha=function(){this.s||(this.F||this.v||this.l?fy(this):this.fb())},Ot.fb=function(){fy(this)},Ot.aa=function(){try{return 2<Ko(this)?this.g.status:-1}catch{return-1}},Ot.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ot.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),s0(e)}},Ot.Ea=function(){return this.m},Ot.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ot=py.prototype).ma=8,Ot.G=1,Ot.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new bo(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=zc(u),Wc(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Rl(this,o,e),lr(t=Ms(this.F),"RID",n),lr(t,"CVER",22),this.D&&lr(t,"X-HTTP-Session-Id",this.D),xs(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(Up(u)))+"&"+e:this.o&&jp(t,this.o,u)),Fh(this.h,o),this.Ya&&lr(t,"TYPE","init"),this.O?(lr(t,"$req",e),lr(t,"SID","null"),o.Z=!0,xh(o,t,null)):xh(o,t,e),this.G=2}}else 3==this.G&&(n?l0(this,n):0==this.i.length||ay(this.h)||l0(this))},Ot.Ia=function(){if(this.u=null,c0(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ba(Jr(this.eb,this),n)}},Ot.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,fi(10),Bp(this),c0(this))},Ot.cb=function(){null!=this.v&&(this.v=null,Bp(this),my(this),fi(19))},Ot.kb=function(n){n?(this.j.info("Successfully pinged google.com"),fi(2)):(this.j.info("Failed to ping google.com"),fi(1))},(Ot=$h.prototype).xa=function(){},Ot.wa=function(){},Ot.va=function(){},Ot.ua=function(){},Ot.Ra=function(){},ro.prototype.g=function(n,e){return new Ci(n,e)},xr(Ci,Hr),Ci.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;fi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=f0(n,null,n.V),$p(n)},Ci.prototype.close=function(){xa(this.g)},Ci.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Kc(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&$p(e)},Ci.prototype.M=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,Ci.X.M.call(this)},xr(_y,Tl),xr(Iy,Sl),xr(Ol,$h),Ol.prototype.xa=function(){si(this.g,"a")},Ol.prototype.wa=function(n){si(this.g,new _y(n))},Ol.prototype.va=function(n){si(this.g,new Iy)},Ol.prototype.ua=function(){si(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Ci.prototype.send=Ci.prototype.u,Ci.prototype.open=Ci.prototype.m,Ci.prototype.close=Ci.prototype.close,Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,Yc.COMPLETE="complete",Sh.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Hr.prototype.listen=Hr.prototype.N,jr.prototype.listenOnce=jr.prototype.O,jr.prototype.getLastError=jr.prototype.Oa,jr.prototype.getLastErrorCode=jr.prototype.Ea,jr.prototype.getStatus=jr.prototype.aa,jr.prototype.getResponseJson=jr.prototype.Sa,jr.prototype.getResponseText=jr.prototype.fa,jr.prototype.send=jr.prototype.da,jr.prototype.setWithCredentials=jr.prototype.Ka;var VT=yo.createWebChannelTransport=function(){return new ro},UT=yo.getStatEventTarget=function(){return Zi()},g0=yo.ErrorCode=Qc,Ey=yo.EventType=Yc,wy=yo.Event=qo,$D=yo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},jT=yo.FetchXmlHttpFactory=Ma,Hh=yo.WebChannel=Sh,HD=yo.XhrIo=jr;const m0="@firebase/firestore";class pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");let id="9.18.0";const Ra=new $n.Yd("@firebase/firestore");function sd(){return Ra.logLevel}function nt(n,...e){if(Ra.logLevel<=$n.in.DEBUG){const t=e.map(zp);Ra.debug(`Firestore (${id}): ${n}`,...t)}}function Qr(n,...e){if(Ra.logLevel<=$n.in.ERROR){const t=e.map(zp);Ra.error(`Firestore (${id}): ${n}`,...t)}}function gr(n,...e){if(Ra.logLevel<=$n.in.WARN){const t=e.map(zp);Ra.warn(`Firestore (${id}): ${n}`,...t)}}function zp(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function At(n="Unexpected state"){const e=`FIRESTORE (${id}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function Vt(n,e){n||At()}function _t(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pi.UNAUTHENTICATED))}shutdown(){}}class $T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zh{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let d=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new oi,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const T=d;e.enqueueRetryable((0,ie.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},_=T=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>_(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?_(T):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new oi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new Cy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new pi(e)}}class by{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=pi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Vt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ty{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new by(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v0{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.A=t.token,new Sy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ay{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=_0(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function hn(n,e){return n<e?-1:n>e?1:0}function Su(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function zD(n){return n+"\0"}class _r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new _r(0,0))}static max(){return new Wt(new _r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pl{constructor(e,t,r){void 0===t?t=0:t>e.length&&At(),void 0===r?r=e.length-t:r>e.length-t&&At(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends Pl{construct(e,t,r){return new Un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const I0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Pl{construct(e,t,r){return new cr(e,t,r)}static isValidIdentifier(e){return I0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ye(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ye(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Ye(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(t)}static emptyPath(){return new cr([])}}class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Un.fromString(e))}static fromName(e){return new yt(Un.fromString(e).popFirst(5))}static empty(){return new yt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Un(e.slice()))}}class od{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function ad(n){return n.fields.find(e=>2===e.kind)}function kl(n){return n.fields.filter(e=>2!==e.kind)}od.UNKNOWN_ID=-1;class Fl{constructor(e,t){this.fieldPath=e,this.kind=t}}class ud{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ud(0,Rs.min())}}function Gp(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Wt.fromTimestamp(1e9===r?new _r(t+1,0):new _r(t,r));return new Rs(o,yt.empty(),e)}function E0(n){return new Rs(n.readTime,n.key,-1)}class Rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Rs(Wt.min(),yt.empty(),-1)}static max(){return new Rs(Wt.max(),yt.empty(),-1)}}function Wp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=yt.comparator(n.documentKey,e.documentKey),0!==t?t:hn(n.largestBatchId,e.largestBatchId))}const Vl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Au(n){return xy.apply(this,arguments)}function xy(){return xy=(0,ie.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==Vl)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),xy.apply(this,arguments)}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,r)=>{t(e)})}static reject(e){return new Ee((t,r)=>{r(e)})}static waitFor(e){return new Ee((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},_=>r(_))}),d=!0,u===o&&t()})}static or(e){let t=Ee.resolve(!1);for(const r of e)t=t.next(o=>o?Ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new Ee((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let _=0;_<u;_++){const T=_;t(e[T]).next(R=>{d[T]=R,++m,m===u&&r(d)},R=>o(R))}})}static doWhile(e,t){return new Ee((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Gh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new oi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ld(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=Mu(r.target.error);this.P.reject(new ld(e,o))}}static open(e,t,r,o){try{return new Gh(t,e.transaction(o,r))}catch(u){throw new ld(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new WD(t)}}class hs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===hs.D((0,dn.z$)())&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nt("SimpleDb","Removing database:",e),To(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,dn.hl)())return!1;if(hs.N())return!0;const e=(0,dn.z$)(),t=hs.D(e),r=0<t&&t<10,o=hs.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.$)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,ie.Z)(function*(){return t.db||(nt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new ld(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ye(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ye(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ld(e,m))},u.onupgradeneeded=d=>{nt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.F(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{nt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ie.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.O(e);const _=Gh.open(u.db,e,d?"readonly":"readwrite",r),T=o(_).next(R=>(_.V(),R)).catch(R=>(_.abort(R),Ee.reject(R))).toPromise();return T.catch(()=>{}),yield _.v,T}catch(_){const T=_,R="FirebaseError"!==T.name&&m<3;if(nt("SimpleDb","Transaction failed with error:",T.message,"Retrying:",R),u.close(),!R)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GD{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return To(this.q.delete())}}class ld extends Ye{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ul(n){return"IndexedDbTransactionError"===n.name}class WD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(nt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),To(r)}add(e){return nt("SimpleDb","ADD",this.store.name,e,e),To(this.store.add(e))}get(e){return To(this.store.get(e)).next(t=>(void 0===t&&(t=null),nt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nt("SimpleDb","DELETE",this.store.name,e),To(this.store.delete(e))}count(){return nt("SimpleDb","COUNT",this.store.name),To(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new Ee((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ee((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){nt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Z=!1;const o=this.cursor(r);return this.H(o,(u,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new Ee((r,o)=>{t.onerror=u=>{const d=Mu(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new Ee((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const _=new GD(m),T=t(m.primaryKey,m.value,_);if(T instanceof Ee){const R=T.catch($=>(_.done(),Ee.reject($)));r.push(R)}_.isDone?o():null===_.G?m.continue():m.continue(_.G)}}).next(()=>Ee.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function To(n){return new Ee((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Mu(r.target.error);t(o)}})}let D0=!1;function Mu(n){const e=hs.D((0,dn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return D0||(D0=!0,setTimeout(()=>{throw r},0)),r}}return n}class Wh{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;nt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ie.Z)(function*(){t.task=null;try{nt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Ul(r)?nt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Au(r)}yield t.nt(6e4)}))}}class qD{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return Ee.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return nt("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,u)).next(m=>(nt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=E0(u);Wp(d,r)>0&&(r=d)}),new Rs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let fs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>r.writeSequenceNumber(o))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class b0{constructor(e,t,r,o,u,d,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class Na{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Na("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}function qh(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function T0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jl(n){return null==n}function Pa(n){return 0===n&&1/n==-1/0}function S0(n){return"number"==typeof n&&Number.isInteger(n)&&!Pa(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ZD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw o instanceof DOMException?new ZD("Invalid base64 string: "+o):o}}(e);return new ai(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const A0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=A0.exec(n);if(Vt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function io(n){return"string"==typeof n?ai.fromBase64String(n):ai.fromUint8Array(n)}function So(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function M0(n){const e=n.mapValue.fields.__previous_value__;return So(e)?M0(e):e}function Kh(n){const e=ka(n.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ny={nullValue:"NULL_VALUE"};function xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?So(n)?4:N0(n)?9007199254740991:10:At()}function Fa(n,e){if(n===e)return!0;const t=xu(n);if(t!==xu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kh(n).isEqual(Kh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=ka(r.timestampValue),d=ka(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,io(n.bytesValue).isEqual(io(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Br(r.geoPointValue.latitude)===Br(o.geoPointValue.latitude)&&Br(r.geoPointValue.longitude)===Br(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Br(r.integerValue)===Br(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Br(r.doubleValue),d=Br(o.doubleValue);return u===d?Pa(u)===Pa(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Su(n.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(qh(u)!==qh(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Fa(u[m],d[m])))return!1;return!0}(n,e);default:return At()}var o}function cd(n,e){return void 0!==(n.values||[]).find(t=>Fa(t,e))}function La(n,e){if(n===e)return 0;const t=xu(n),r=xu(e);if(t!==r)return hn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return hn(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Br(o.integerValue||o.doubleValue),m=Br(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return x0(n.timestampValue,e.timestampValue);case 4:return x0(Kh(n),Kh(e));case 5:return hn(n.stringValue,e.stringValue);case 6:return function(o,u){const d=io(o),m=io(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let _=0;_<d.length&&_<m.length;_++){const T=hn(d[_],m[_]);if(0!==T)return T}return hn(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=hn(Br(o.latitude),Br(u.latitude));return 0!==d?d:hn(Br(o.longitude),Br(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let _=0;_<d.length&&_<m.length;++_){const T=La(d[_],m[_]);if(T)return T}return hn(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Bl.mapValue&&u===Bl.mapValue)return 0;if(o===Bl.mapValue)return 1;if(u===Bl.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),_=u.fields||{},T=Object.keys(_);m.sort(),T.sort();for(let R=0;R<m.length&&R<T.length;++R){const $=hn(m[R],T[R]);if(0!==$)return $;const te=La(d[m[R]],_[T[R]]);if(0!==te)return te}return hn(m.length,T.length)}(n.mapValue,e.mapValue);default:throw At()}}function x0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return hn(n,e);const t=ka(n),r=ka(e),o=hn(t.seconds,r.seconds);return 0!==o?o:hn(t.nanos,r.nanos)}function $l(n){return Oy(n)}function Oy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ka(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?io(n.bytesValue).toBase64():"referenceValue"in n?yt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=Oy(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${Oy(r.fields[m])}`;return u+"}"}(n.mapValue):At();var e}function Hl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ns(n){return!!n&&"integerValue"in n}function Zh(n){return!!n&&"arrayValue"in n}function Py(n){return!!n&&"nullValue"in n}function R0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function Qh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function N0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function O0(n){return"nullValue"in n?Ny:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hl(Na.empty(),yt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:At()}function YD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hl(Na.empty(),yt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bl:At()}function P0(n,e){const t=La(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function k0(n,e){const t=La(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class en{constructor(e,t){this.position=e,this.inclusive=t}}function ky(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?yt.comparator(yt.fromName(d.referenceValue),t.key):La(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Fy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fa(n.position[t],e.position[t]))return!1;return!0}class Ly{}class Pn extends Ly{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ru(e,t,r):"array-contains"===t?new JD(e,r):"in"===t?new V0(e,r):"not-in"===t?new eC(e,r):"array-contains-any"===t?new tC(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new XD(e,r):new By(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(La(t,this.value)):null!==t&&xu(this.value)===xu(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class or extends Ly{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new or(e,t)}matches(e){return zl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function zl(n){return"and"===n.op}function Vy(n){return"or"===n.op}function Kp(n){return F0(n)&&zl(n)}function F0(n){for(const e of n.filters)if(e instanceof or)return!1;return!0}function Uy(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+$l(n.value);if(Kp(n))return n.filters.map(e=>Uy(e)).join(",");{const e=n.filters.map(t=>Uy(t)).join(",");return`${n.op}(${e})`}}function L0(n,e){return n instanceof Pn?(t=n,(r=e)instanceof Pn&&t.op===r.op&&t.field.isEqual(r.field)&&Fa(t.value,r.value)):n instanceof or?function(t,r){return r instanceof or&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,d)=>o&&L0(u,r.filters[d]),!0)}(n,e):void At();var t,r}function Zp(n,e){const t=n.filters.concat(e);return or.create(t,n.op)}function jy(n){return n instanceof Pn?`${(e=n).field.canonicalString()} ${e.op} ${$l(e.value)}`:n instanceof or?function(e){return e.op.toString()+" {"+e.getFilters().map(jy).join(" ,")+"}"}(n):"Filter";var e}class Ru extends Pn{constructor(e,t,r){super(e,t,r),this.key=yt.fromName(r.referenceValue)}matches(e){const t=yt.comparator(e.key,this.key);return this.matchesComparison(t)}}class XD extends Pn{constructor(e,t){super(e,"in",t),this.keys=Qp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class By extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=Qp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qp(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>yt.fromName(r.referenceValue))}class JD extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zh(t)&&cd(t.arrayValue,this.value)}}class V0 extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cd(this.value.arrayValue,t)}}class eC extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cd(this.value.arrayValue,t)}}class tC extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}}class dd{constructor(e,t="asc"){this.field=e,this.dir=t}}function U0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zr{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yp(this.root,e,this.comparator,!0)}}class Yp{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Cr.RED,this.left=o??Cr.EMPTY,this.right=u??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Cr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Cr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1,Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Cr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class $y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Va(n){return n.hasNext()?n.getNext():void 0}class ps{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new ps([])}unionWith(e){let t=new dr(cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qh(t)}setAll(e){let t=cr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=Qh(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];qp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Oa(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new ui(Qh(this.value))}}function Hy(n){const e=[];return Oa(n.fields,(t,r)=>{const o=new cr([t]);if(qp(r)){const u=Hy(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new ps(e)}class br{constructor(e,t,r,o,u,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new br(e,0,Wt.min(),Wt.min(),Wt.min(),ui.empty(),0)}static newFoundDocument(e,t,r,o){return new br(e,1,t,Wt.min(),r,o,0)}static newNoDocument(e,t){return new br(e,2,t,Wt.min(),Wt.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new br(e,3,t,Wt.min(),Wt.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nC{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this._t=null}}function zy(n,e=null,t=[],r=[],o=null,u=null,d=null){return new nC(n,e,t,r,o,u,d)}function Gl(n){const e=_t(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Uy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),jl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$l(r)).join(",")),e._t=t}return e._t}function hd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!U0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!L0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fy(n.startAt,e.startAt)&&Fy(n.endAt,e.endAt)}function Xp(n){return yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yh(n,e){return n.filters.filter(t=>t instanceof Pn&&t.field.isEqual(e))}function Gy(n,e,t){let r=Ny,o=!0;for(const u of Yh(n,e)){let d=Ny,m=!0;switch(u.op){case"<":case"<=":d=O0(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=Ny}P0({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];P0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function Jp(n,e,t){let r=Bl,o=!0;for(const u of Yh(n,e)){let d=Bl,m=!0;switch(u.op){case">=":case">":d=YD(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Bl}k0({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];k0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Os{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=_,this.wt=null,this.gt=null}}function Wl(n,e,t,r,o,u,d,m){return new Os(n,e,t,r,o,u,d,m)}function fd(n){return new Os(n)}function j0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Nu(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Xh(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Wy(n){return null!==n.collectionGroup}function Ou(n){const e=_t(n);if(null===e.wt){e.wt=[];const t=Xh(e),r=Nu(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new dd(t)),e.wt.push(new dd(cr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new dd(cr.keyField(),u))}}}return e.wt}function Yi(n){const e=_t(n);if(!e.gt)if("F"===e.limitType)e.gt=zy(e.path,e.collectionGroup,Ou(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ou(e))t.push(new dd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new en(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new en(e.startAt.position,e.startAt.inclusive):null;e.gt=zy(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.gt}function qy(n,e){e.getFirstInequalityField(),Xh(n);const t=n.filters.concat([e]);return new Os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ql(n,e,t){return new Os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zo(n,e){return hd(Yi(n),Yi(e))&&n.limitType===e.limitType}function eg(n){return`${Gl(Yi(n))}|lt:${n.limitType}`}function Kl(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>jy(r)).join(", ")}]`),jl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$l(r)).join(",")),`Target(${t})`}(Yi(n))}; limitType=${n.limitType})`}function Zl(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):yt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Ou(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=ky(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,Ou(t),r)||t.endAt&&!function(o,u,d){const m=ky(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,Ou(t),r)));var t,r}function Jh(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ky(n){return(e,t)=>{let r=!1;for(const o of Ou(n)){const u=Zy(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function Zy(n,e,t){const r=n.field.isKeyField()?yt.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),_=d.data.field(o);return null!==m&&null!==_?La(m,_):At()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return At()}}function tg(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(e)?"-0":e}}function ng(n){return{integerValue:""+n}}function Qy(n,e){return S0(e)?ng(e):tg(n,e)}class pd{constructor(){this._=void 0}}function rC(n,e,t){return n instanceof gd?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Pu?Xy(n,e):n instanceof Ql?B0(n,e):function(r,o){const u=Yy(r,o),d=Jy(u)+Jy(r.It);return Ns(u)&&Ns(r.It)?ng(d):tg(r.Tt,d)}(n,e)}function iC(n,e,t){return n instanceof Pu?Xy(n,e):n instanceof Ql?B0(n,e):t}function Yy(n,e){return n instanceof gi?Ns(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gd extends pd{}class Pu extends pd{constructor(e){super(),this.elements=e}}function Xy(n,e){const t=$0(e);for(const r of n.elements)t.some(o=>Fa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ql extends pd{constructor(e){super(),this.elements=e}}function B0(n,e){let t=$0(e);for(const r of n.elements)t=t.filter(o=>!Fa(o,r));return{arrayValue:{values:t}}}class gi extends pd{constructor(e,t){super(),this.Tt=e,this.It=t}}function Jy(n){return Br(n.integerValue||n.doubleValue)}function $0(n){return Zh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rg{constructor(e,t){this.field=e,this.transform=t}}class H0{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sg{}function tv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ku(n.key,Rr.none()):new md(n.key,n.data,Rr.none());{const t=n.data,r=ui.empty();let o=new dr(cr.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new Ua(n.key,r,new ps(o.toArray()),Rr.none())}}function sC(n,e,t){n instanceof md?function(r,o,u){const d=r.value.clone(),m=W0(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ua?function(r,o,u){if(!ig(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=W0(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(G0(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ef(n,e,t,r){return n instanceof md?function(o,u,d,m){if(!ig(o.precondition,u))return d;const _=o.value.clone(),T=Ao(o.fieldTransforms,m,u);return _.setAll(T),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ua?function(o,u,d,m){if(!ig(o.precondition,u))return d;const _=Ao(o.fieldTransforms,m,u),T=u.data;return T.setAll(G0(o)),T.setAll(_),u.convertToFoundDocument(u.version,T).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(R=>R.field))}(n,e,t,r):(d=t,ig(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function nv(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Yy(r.transform,o||null);null!=u&&(null===t&&(t=ui.empty()),t.set(r.field,u))}return t||null}function z0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Su(t,r,(o,u)=>function ev(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Pu&&r instanceof Pu||t instanceof Ql&&r instanceof Ql?Su(t.elements,r.elements,Fa):t instanceof gi&&r instanceof gi?Fa(t.It,r.It):t instanceof gd&&r instanceof gd);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class md extends sg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ua extends sg{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function G0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function W0(n,e,t){const r=new Map;Vt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,iC(d,m,t[o]))}return r}function Ao(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,rC(u,d,e))}return r}class ku extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rv extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oC{constructor(e){this.count=e}}var Yr,Hn;function q0(n){switch(n){default:return At();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function K0(n){if(void 0===n)return Qr("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Yr.OK:return Ce.OK;case Yr.CANCELLED:return Ce.CANCELLED;case Yr.UNKNOWN:return Ce.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return Ce.INTERNAL;case Yr.UNAVAILABLE:return Ce.UNAVAILABLE;case Yr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Yr.NOT_FOUND:return Ce.NOT_FOUND;case Yr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Yr.ABORTED:return Ce.ABORTED;case Yr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Yr.DATA_LOSS:return Ce.DATA_LOSS;default:return At()}}(Hn=Yr||(Yr={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return T0(this.inner)}size(){return this.innerSize}}const aC=new zr(yt.comparator);function gs(){return aC}const tf=new zr(yt.comparator);function Yl(...n){let e=tf;for(const t of n)e=e.insert(t.key,t);return e}function nf(n){let e=tf;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ja(){return ag()}function og(){return ag()}function ag(){return new Qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Z0=new zr(yt.comparator),Q0=new dr(yt.comparator);function yn(...n){let e=Q0;for(const t of n)e=e.add(t);return e}const Y0=new dr(hn);function yd(){return Y0}class Ps{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ps(Wt.min(),o,yd(),gs(),yn())}}class Fu{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fu(r,t,yn(),yn(),yn())}}class Xl{constructor(e,t,r,o){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=o}}class Jl{constructor(e,t){this.targetId=e,this.Rt=t}}class X0{constructor(e,t,r=ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class iv{constructor(){this.Pt=0,this.vt=tE(),this.bt=ai.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=yn(),t=yn(),r=yn();return this.vt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:At()}}),new Fu(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=tE()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class J0{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=gs(),this.Kt=eE(),this.Gt=new dr(hn)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:At()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,o)=>{this.Jt(o)&&t(o)})}Zt(e){const t=e.targetId,r=e.Rt.count,o=this.Xt(t);if(o){const u=o.target;if(Xp(u))if(0===r){const d=new yt(u.path);this.zt(t,d,br.newNoDocument(d,Wt.min()))}else Vt(1===r);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&Xp(m.target)){const _=new yt(m.target.path);null!==this.Ut.get(_)||this.ne(d,_)||this.zt(d,_,br.newNoDocument(_,e))}u.Ct&&(t.set(d,u.Nt()),u.kt())}});let r=yn();this.Kt.forEach((u,d)=>{let m=!0;d.forEachWhile(_=>{const T=this.Xt(_);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new Ps(e,t,this.Gt,this.Ut,r);return this.Ut=gs(),this.Kt=eE(),this.Gt=new dr(hn),o}jt(e,t){if(!this.Jt(e))return;const r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;const o=this.Ht(e);this.ne(e,t)?o.$t(t,1):o.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new iv,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new dr(hn),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||nt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new iv),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function eE(){return new zr(yt.comparator)}function tE(){return new zr(yt.comparator)}const vd={asc:"ASCENDING",desc:"DESCENDING"},nE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zT={and:"AND",or:"OR"};class uC{constructor(e,t){this.databaseId=e,this.yt=t}}function _d(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rE(n,e){return n.yt?e.toBase64():e.toUint8Array()}function lC(n,e){return _d(n,e.toTimestamp())}function Xr(n){return Vt(!!n),Wt.fromTimestamp(function(e){const t=ka(e);return new _r(t.seconds,t.nanos)}(n))}function sv(n,e){return(t=n,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ov(n){const e=Un.fromString(n);return Vt(Lu(e)),e}function Id(n,e){return sv(n.databaseId,e.path)}function so(n,e){const t=ov(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new yt(iE(t))}function av(n,e){return sv(n.databaseId,e)}function ug(n){const e=ov(n);return 4===e.length?Un.emptyPath():iE(e)}function rf(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iE(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sE(n,e,t){return{name:Id(n,e),fields:t.value.mapValue.fields}}function oE(n,e,t){const r=so(n,e.name),o=Xr(e.updateTime),u=e.createTime?Xr(e.createTime):Wt.min(),d=new ui({mapValue:{fields:e.fields}}),m=br.newFoundDocument(r,o,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Ed(n,e){let t;if(e instanceof md)t={update:sE(n,e.key,e.value)};else if(e instanceof ku)t={delete:Id(n,e.key)};else if(e instanceof Ua)t={update:sE(n,e.key,e.data),updateMask:Pi(e.fieldMask)};else{if(!(e instanceof rv))return At();t={verify:Id(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof gd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof gi)return{fieldPath:u.field.canonicalString(),increment:d.It};throw At()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:lC(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:At()),t;var o}function lg(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Rr.updateTime(Xr(o.updateTime)):void 0!==o.exists?Rr.exists(o.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(Vt("REQUEST_TIME"===d.setToServerValue),m=new gd):"appendMissingElements"in d?m=new Pu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Ql(d.removeAllFromArray.values||[]):"increment"in d?m=new gi(u,d.increment):At();const _=cr.fromServerFormat(d.fieldPath);return new rg(_,m)}(n,o)):[];var o;if(e.update){const o=so(n,e.update.name),u=new ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ps((e.updateMask.fieldPaths||[]).map(T=>cr.fromServerFormat(T)));return new Ua(o,u,d,t,r)}return new md(o,u,t,r)}if(e.delete){const o=so(n,e.delete);return new ku(o,t)}if(e.verify){const o=so(n,e.verify);return new rv(o,t)}return At()}function lE(n,e){return{documents:[av(n,e.path)]}}function cE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=av(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=av(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0!==_.length)return wd(or.create(_,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(_){if(0!==_.length)return _.map(T=>{return{field:Ba((R=T).field),direction:dC(R.dir)};var R})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(T=e.limit,n.yt||jl(T)?T:{value:T});var T,m,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function uv(n){let e=ug(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Vt(1===r);const R=t.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let u=[];t.where&&(u=function(R){const $=sf(R);return $ instanceof or&&Kp($)?$.getFilters():[$]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(R=>{return new dd(Xi(($=R).field),function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction));var $}));let m=null;t.limit&&(m=function(R){let $;return $="object"==typeof R?R.value:R,jl($)?null:$}(t.limit));let _=null;var R;t.startAt&&(_=new en((R=t.startAt).values||[],!!R.before));let T=null;return t.endAt&&(T=function(R){return new en(R.values||[],!R.before)}(t.endAt)),Wl(e,o,d,u,m,"F",_,T)}function sf(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xi(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Xi(e.unaryFilter.field);return Pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xi(e.unaryFilter.field);return Pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xi(e.unaryFilter.field);return Pn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(n):void 0!==n.fieldFilter?Pn.create(Xi((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return or.create(e.compositeFilter.filters.map(t=>sf(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return At()}}(e.compositeFilter.op))}(n):At();var e}function dC(n){return vd[n]}function hC(n){return nE[n]}function lv(n){return zT[n]}function Ba(n){return{fieldPath:n.canonicalString()}}function Xi(n){return cr.fromServerFormat(n.fieldPath)}function wd(n){return n instanceof Pn?function(e){if("=="===e.op){if(R0(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NAN"}};if(Py(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(R0(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NOT_NAN"}};if(Py(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(e.field),op:hC(e.op),value:e.value}}}(n):n instanceof or?function(e){const t=e.getFilters().map(r=>wd(r));return 1===t.length?t[0]:{compositeFilter:{op:lv(e.op),filters:t}}}(n):At()}function Pi(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lu(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function mi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cg(e)),e=oo(n.get(t),e);return cg(e)}function oo(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function cg(n){return n+"\x01\x01"}function Ji(n){const e=n.length;if(Vt(e>=2),2===e)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&At(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let _;0===o.length?_=m:(o+=m,_=o,o=""),r.push(_);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:At()}u=d+2}return new Un(r)}const ec=["userId","batchId"];function $a(n,e){return[n,mi(e)]}function tc(n,e,t){return[n,mi(e),t]}const Dd={},Cd=["prefixPath","collectionGroup","readTime","documentId"],bd=["prefixPath","collectionGroup","documentId"],Td=["collectionGroup","readTime","prefixPath","documentId"],Sd=["canonicalId","targetId"],cv=["targetId","path"],dv=["path","targetId"],hv=["collectionId","parent"],fv=["indexId","uid"],pv=["uid","sequenceNumber"],gv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mv=["indexId","uid","orderedDocumentKey"],yv=["userId","collectionPath","documentId"],vv=["userId","collectionPath","largestBatchId"],dE=["userId","collectionGroup","largestBatchId"],hE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fE=[...hE,"documentOverlays"],_v=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Iv=_v,Ev=[...Iv,"indexConfiguration","indexState","indexEntries"];class af extends w0{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function yi(n,e){const t=_t(n);return hs.M(t.re,e)}class Ad{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sC(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ef(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ef(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=og();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const _=tv(d,m);null!==_&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,(t,r)=>z0(t,r))&&Su(this.baseMutations,e.baseMutations,(t,r)=>z0(t,r))}}class Md{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Vt(e.mutations.length===r.length);let o=Z0;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Md(e,t,r,o)}}class uf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vu{constructor(e,t,r,o,u=Wt.min(),d=Wt.min(),m=ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class lf{constructor(e){this.oe=e}}function hg(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Id(o=n.oe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:_d(o,u.version.toTimestamp()),createTime:_d(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ha(e.version)};else{if(!e.isUnknownDocument())return At();r.unknownDocument={path:t.path.toArray(),version:Ha(e.version)}}var o,u;return r}function cf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ha(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uu(n){const e=new _r(n.seconds,n.nanoseconds);return Wt.fromTimestamp(e)}function ju(n,e){const t=(e.baseMutations||[]).map(u=>lg(n.oe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>lg(n.oe,u)),o=_r.fromMillis(e.localWriteTimeMs);return new Ad(e.batchId,o,t,r)}function nc(n){const e=Uu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Uu(n.lastLimboFreeSnapshotVersion):Wt.min();let r;var o;return void 0!==n.query.documents?(Vt(1===(o=n.query).documents.length),r=Yi(fd(ug(o.documents[0])))):r=Yi(uv(n.query)),new Vu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ai.fromBase64String(n.resumeToken))}function fg(n,e){const t=Ha(e.snapshotVersion),r=Ha(e.lastLimboFreeSnapshotVersion);let o;o=Xp(e.target)?lE(n.oe,e.target):cE(n.oe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function wv(n){const e=uv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ql(e,e.limit,"L"):e}function pg(n,e){return new uf(e.largestBatchId,lg(n.oe,e.overlayMutation))}function Dv(n,e){const t=e.path.lastSegment();return[n,mi(e.path.popLast()),t]}function Cv(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ha(r.readTime),documentKey:mi(r.documentKey.path),largestBatchId:r.largestBatchId}}class pE{getBundleMetadata(e,t){return gE(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Uu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return gE(e).put({bundleId:(r=t).id,createTime:Ha(Xr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return bv(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:wv(o.bundledQuery),readTime:Uu(o.readTime)};var o})}saveNamedQuery(e,t){return bv(e).put({name:(r=t).name,readTime:Ha(Xr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function gE(n){return yi(n,"bundles")}function bv(n){return yi(n,"namedQueries")}class df{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new df(e,t.uid||"")}getOverlay(e,t){return rc(e).get(Dv(this.userId,t)).next(r=>r?pg(this.Tt,r):null)}getOverlays(e,t){const r=ja();return Ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new uf(t,d);o.push(this.ce(e,m))}),Ee.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(mi(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(rc(e).Y("collectionPathOverlayIndex",m))}),Ee.waitFor(u)}getOverlaysForCollection(e,t,r){const o=ja(),u=mi(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return rc(e).W("collectionPathOverlayIndex",d).next(m=>{for(const _ of m){const T=pg(this.Tt,_);o.set(T.getKey(),T)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=ja();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rc(e).X({index:"collectionGroupOverlayIndex",range:m},(_,T,R)=>{const $=pg(this.Tt,T);u.size()<o||$.largestBatchId===d?(u.set($.getKey(),$),d=$.largestBatchId):R.done()}).next(()=>u)}ce(e,t){return rc(e).put(function(r,o,u){const[d,m,_]=Dv(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Ed(r.oe,u.mutation)}}(this.Tt,this.userId,t))}}function rc(n){return yi(n,"documentOverlays")}class Yo{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Br(e.integerValue));else if("doubleValue"in e){const r=Br(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),Pa(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(io(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?N0(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):At()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const o of Object.keys(r))this.we(o,t),this.he(r[o],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const o of r)this.he(o,t)}ye(e,t){this.fe(t,37),yt.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function Tv(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function gg(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Tv(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Yo.Ee=new Yo;class Sv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.Pe()}ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Ve()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const o=t.codePointAt(0);this.Re(240|o>>>18),this.Re(128|63&o>>>12),this.Re(128|63&o>>>6),this.Re(128|63&o)}}this.Pe()}De(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const o=t.codePointAt(0);this.be(240|o>>>18),this.be(128|63&o>>>12),this.be(128|63&o>>>6),this.be(128|63&o)}}this.Ve()}Ce(e){const t=this.xe(e),r=gg(t);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}ke(e){const t=this.xe(e),r=gg(t);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}be(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Av{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class Mv{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class ic{constructor(){this.Le=new Sv,this.qe=new Av(this.Le),this.Ue=new Mv(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class za{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new za(this.indexId,this.documentKey,this.arrayValue,r)}}function Xo(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hf(n.arrayValue,e.arrayValue),0!==t?t:(t=hf(n.directionalValue,e.directionalValue),0!==t?t:yt.comparator(n.documentKey,e.documentKey)))}function hf(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Bu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const r=t;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){Vt(e.collectionGroup===this.collectionId);const t=ad(e);if(void 0!==t&&!this.He(t))return!1;const r=kl(e);let o=0,u=0;for(;o<r.length&&this.He(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.ze){const d=r[o];if(!this.Je(this.ze,d)||!this.Ye(this.Qe[u++],d))return!1;++o}for(;o<r.length;++o)if(u>=this.Qe.length||!this.Ye(this.Qe[u++],r[o]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function mE(n){var e,t;if(Vt(n instanceof Pn||n instanceof or),n instanceof Pn){if(n instanceof V0){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Pn.create(n.field,"==",u)))||[];return or.create(o,"or")}return n}const r=n.filters.map(o=>mE(o));return or.create(r,n.op)}function fC(n){if(0===n.getFilters().length)return[];const e=xv(mE(n));return Vt(mg(e)),ff(e)||Ga(e)?[e]:e.getFilters()}function ff(n){return n instanceof Pn}function Ga(n){return n instanceof or&&Kp(n)}function mg(n){return ff(n)||Ga(n)||function(e){if(e instanceof or&&Vy(e)){for(const t of e.getFilters())if(!ff(t)&&!Ga(t))return!1;return!0}return!1}(n)}function xv(n){if(Vt(n instanceof Pn||n instanceof or),n instanceof Pn)return n;if(1===n.filters.length)return xv(n.filters[0]);const e=n.filters.map(r=>xv(r));let t=or.create(e,n.op);return t=Rv(t),mg(t)?t:(Vt(t instanceof or),Vt(zl(t)),Vt(t.filters.length>1),t.filters.reduce((r,o)=>pf(r,o)))}function pf(n,e){let t;return Vt(n instanceof Pn||n instanceof or),Vt(e instanceof Pn||e instanceof or),t=n instanceof Pn?e instanceof Pn?or.create([n,e],"and"):pC(n,e):e instanceof Pn?pC(e,n):function(r,o){if(Vt(r.filters.length>0&&o.filters.length>0),zl(r)&&zl(o))return Zp(r,o.getFilters());const u=Vy(r)?r:o,d=Vy(r)?o:r,m=u.filters.map(_=>pf(_,d));return or.create(m,"or")}(n,e),Rv(t)}function pC(n,e){if(zl(e))return Zp(e,n.getFilters());{const t=e.filters.map(r=>pf(n,r));return or.create(t,"or")}}function Rv(n){if(Vt(n instanceof Pn||n instanceof or),n instanceof Pn)return n;const e=n.getFilters();if(1===e.length)return Rv(e[0]);if(F0(n))return n;const t=e.map(o=>Rv(o)),r=[];return t.forEach(o=>{o instanceof Pn?r.push(o):o instanceof or&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:or.create(r,n.op)}class gC{constructor(){this.Ze=new Nv}addToCollectionParentIndex(e,t){return this.Ze.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(Rs.min())}updateCollectionGroup(e,t,r){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class Nv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new dr(Un.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dr(Un.comparator)).toArray()}}const gf=new Uint8Array(0);class mC{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Nv,this.tn=new Qo(r=>Gl(r),(r,o)=>hd(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:mi(o)};return ei(e).put(u)}return Ee.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[zD(t),""],!1,!0);return ei(e).W(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Ji(d.parent))}return r})}addFieldIndex(e,t){const r=yg(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=mf(e);return u.next(m=>{d.put(Cv(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=yg(e),o=mf(e),u=xd(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=xd(e);let o=!0;const u=new Map;return Ee.forEach(this.en(t),d=>this.nn(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=yn();const m=[];return Ee.forEach(u,(_,T)=>{var R;nt("IndexedDbIndexManager",`Using index ${R=_,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(vn=>`${vn.fieldPath}:${vn.kind}`).join(",")}`} to execute ${Gl(t)}`);const $=function(vn,xn){const In=ad(xn);if(void 0===In)return null;for(const Sn of Yh(vn,In.fieldPath))switch(Sn.op){case"array-contains-any":return Sn.value.arrayValue.values||[];case"array-contains":return[Sn.value]}return null}(T,_),te=function(vn,xn){const In=new Map;for(const Sn of kl(xn))for(const Li of Yh(vn,Sn.fieldPath))switch(Li.op){case"==":case"in":In.set(Sn.fieldPath.canonicalString(),Li.value);break;case"not-in":case"!=":return In.set(Sn.fieldPath.canonicalString(),Li.value),Array.from(In.values())}return null}(T,_),Me=function(vn,xn){const In=[];let Sn=!0;for(const Li of kl(xn)){const rh=0===Li.kind?Gy(vn,Li.fieldPath,vn.startAt):Jp(vn,Li.fieldPath,vn.startAt);In.push(rh.value),Sn&&(Sn=rh.inclusive)}return new en(In,Sn)}(T,_),ze=function(vn,xn){const In=[];let Sn=!0;for(const Li of kl(xn)){const rh=0===Li.kind?Jp(vn,Li.fieldPath,vn.endAt):Gy(vn,Li.fieldPath,vn.endAt);In.push(rh.value),Sn&&(Sn=rh.inclusive)}return new en(In,Sn)}(T,_),st=this.sn(_,T,Me),It=this.sn(_,T,ze),zn=this.rn(_,T,te),mr=this.on(_.indexId,$,st,Me.inclusive,It,ze.inclusive,zn);return Ee.forEach(mr,vn=>r.J(vn,t.limit).next(xn=>{xn.forEach(In=>{const Sn=yt.fromSegments(In.documentKey);d.has(Sn)||(d=d.add(Sn),m.push(Sn))})}))}).next(()=>m)}return Ee.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:fC(or.create(e.filters,"and")).map(r=>zy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,r,o,u,d,m){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),T=_/(null!=t?t.length:1),R=[];for(let $=0;$<_;++$){const te=t?this.un(t[$/T]):gf,Me=this.cn(e,te,r[$%T],o),ze=this.an(e,te,u[$%T],d),st=m.map(It=>this.cn(e,te,It,!0));R.push(...this.createRange(Me,ze,st))}return R}cn(e,t,r,o){const u=new za(e,yt.empty(),t,r);return o?u:u.Ge()}an(e,t,r,o){const u=new za(e,yt.empty(),t,r);return o?u.Ge():u}nn(e,t){const r=new Bu(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.en(t);return Ee.forEach(o,u=>this.nn(e,u).next(d=>{d?0!==r&&d.fields.length<function(m){let _=new dr(cr.comparator),T=!1;for(const R of m.filters)for(const $ of R.getFlattenedFilters())$.field.isKeyField()||("array-contains"===$.op||"array-contains-any"===$.op?T=!0:_=_.add($.field));for(const R of m.orderBy)R.field.isKeyField()||(_=_.add(R.field));return _.size+(T?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}hn(e,t){const r=new ic;for(const o of kl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Ke(o.kind);Yo.Ee.ae(u,d)}return r.Be()}un(e){const t=new ic;return Yo.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const r=new ic;return Yo.Ee.ae(Hl(this.databaseId,t),r.Ke(function(o){const u=kl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Be()}rn(e,t,r){if(null===r)return[];let o=[];o.push(new ic);let u=0;for(const d of kl(e)){const m=r[u++];for(const _ of o)if(this.fn(t,d.fieldPath)&&Zh(m))o=this.dn(o,d,m);else{const T=_.Ke(d.kind);Yo.Ee.ae(m,T)}}return this._n(o)}sn(e,t,r){return this.rn(e,t,r.position)}_n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Be();return t}dn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const _=new ic;_.seed(m.Be()),Yo.Ee.ae(d,_.Ke(t.kind)),u.push(_)}return u}fn(e,t){return!!e.filters.find(r=>r instanceof Pn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=yg(e),o=mf(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return Ee.forEach(u,m=>o.get([m.indexId,this.uid]).next(_=>{d.push(function(T,R){const $=R?new ud(R.sequenceNumber,new Rs(Uu(R.readTime),new yt(Ji(R.documentKey)),R.largestBatchId)):ud.empty(),te=T.fields.map(([Me,ze])=>new Fl(cr.fromServerFormat(Me),ze));return new od(T.indexId,T.collectionGroup,te,$)}(m,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:hn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=yg(e),u=mf(e);return this.wn(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ee.forEach(m,_=>u.put(Cv(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return Ee.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?Ee.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),Ee.forEach(m,_=>this.mn(e,o,_).next(T=>{const R=this.gn(u,_);return T.isEqual(R)?Ee.resolve():this.yn(e,u,_,T,R)}))))})}pn(e,t,r,o){return xd(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.ln(r,t.key),documentKey:t.key.path.toArray()})}In(e,t,r,o){return xd(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.ln(r,t.key),t.key.path.toArray()])}mn(e,t,r){const o=xd(e);let u=new dr(Xo);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,t)])},(d,m)=>{u=u.add(new za(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}gn(e,t){let r=new dr(Xo);const o=this.hn(t,e);if(null==o)return r;const u=ad(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Zh(d))for(const m of d.arrayValue.values||[])r=r.add(new za(t.indexId,e.key,this.un(m),o))}else r=r.add(new za(t.indexId,e.key,gf,o));return r}yn(e,t,r,o,u){nt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,_,T,R,$){const te=m.getIterator(),Me=_.getIterator();let ze=Va(te),st=Va(Me);for(;ze||st;){let It=!1,zn=!1;if(ze&&st){const mr=T(ze,st);mr<0?zn=!0:mr>0&&(It=!0)}else null!=ze?zn=!0:It=!0;It?(R(st),st=Va(Me)):zn?($(ze),ze=Va(te)):(ze=Va(te),st=Va(Me))}}(o,u,Xo,m=>{d.push(this.pn(e,t,r,m))},m=>{d.push(this.In(e,t,r,m))}),Ee.waitFor(d)}wn(e){let t=1;return mf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Xo(d,m)).filter((d,m,_)=>!m||0!==Xo(d,_[m-1]));const o=[];o.push(e);for(const d of r){const m=Xo(d,e),_=Xo(d,t);if(0===m)o[0]=e.Ge();else if(m>0&&_<0)o.push(d),o.push(d.Ge());else if(_>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2){if(this.Tn(o[d],o[d+1]))return[];u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,gf,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,gf,[]]))}return u}Tn(e,t){return Xo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ov)}getMinOffset(e,t){return Ee.mapArray(this.en(t),r=>this.nn(e,r).next(o=>o||At())).next(Ov)}}function ei(n){return yi(n,"collectionParents")}function xd(n){return yi(n,"indexEntries")}function yg(n){return yi(n,"indexConfiguration")}function mf(n){return yi(n,"indexState")}function Ov(n){Vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;Wp(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Rs(e.readTime,e.documentKey,t)}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class es{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Pv(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const _=r.X({range:d},(R,$,te)=>(m++,te.delete()));u.push(_.next(()=>{Vt(1===m)}));const T=[];for(const R of t.mutations){const $=tc(e,R.key.path,t.batchId);u.push(o.delete($)),T.push(R.key)}return Ee.waitFor(u).next(()=>T)}function Wa(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw At();e=n.noDocument}return JSON.stringify(e).length}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class vg{constructor(e,t,r,o){this.userId=e,this.Tt=t,this.indexManager=r,this.referenceDelegate=o,this.En={}}static ue(e,t,r,o){Vt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new vg(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qa(e).X({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Rd(e),d=qa(e);return d.add({}).next(m=>{Vt("number"==typeof m);const _=new Ad(m,t,r,o),T=function(te,Me,ze){const st=ze.baseMutations.map(zn=>Ed(te.oe,zn)),It=ze.mutations.map(zn=>Ed(te.oe,zn));return{userId:Me,batchId:ze.batchId,localWriteTimeMs:ze.localWriteTime.toMillis(),baseMutations:st,mutations:It}}(this.Tt,this.userId,_),R=[];let $=new dr((te,Me)=>hn(te.canonicalString(),Me.canonicalString()));for(const te of o){const Me=tc(this.userId,te.key.path,m);$=$.add(te.key.path.popLast()),R.push(d.put(T)),R.push(u.put(Me,Dd))}return $.forEach(te=>{R.push(this.indexManager.addToCollectionParentIndex(e,te))}),e.addOnCommittedListener(()=>{this.En[m]=_.keys()}),Ee.waitFor(R).next(()=>_)})}lookupMutationBatch(e,t){return qa(e).get(t).next(r=>r?(Vt(r.userId===this.userId),ju(this.Tt,r)):null)}An(e,t){return this.En[t]?Ee.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.En[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return qa(e).X({index:"userMutationsIndex",range:o},(d,m,_)=>{m.userId===this.userId&&(Vt(m.batchId>=r),u=ju(this.Tt,m)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return qa(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qa(e).W("userMutationsIndex",t).next(r=>r.map(o=>ju(this.Tt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$a(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Rd(e).X({range:o},(d,m,_)=>{const[T,R,$]=d,te=Ji(R);if(T===this.userId&&t.path.isEqual(te))return qa(e).get($).next(Me=>{if(!Me)throw At();Vt(Me.userId===this.userId),u.push(ju(this.Tt,Me))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(hn);const o=[];return t.forEach(u=>{const d=$a(this.userId,u.path),m=IDBKeyRange.lowerBound(d),_=Rd(e).X({range:m},(T,R,$)=>{const[te,Me,ze]=T,st=Ji(Me);te===this.userId&&u.path.isEqual(st)?r=r.add(ze):$.done()});o.push(_)}),Ee.waitFor(o).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=$a(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new dr(hn);return Rd(e).X({range:d},(_,T,R)=>{const[$,te,Me]=_,ze=Ji(te);$===this.userId&&r.isPrefixOf(ze)?ze.length===o&&(m=m.add(Me)):R.done()}).next(()=>this.Rn(e,m))}Rn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(qa(e).get(u).next(d=>{if(null===d)throw At();Vt(d.userId===this.userId),r.push(ju(this.Tt,d))}))}),Ee.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Pv(e.re,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),Ee.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ee.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Rd(e).X({range:r},(u,d,m)=>{if(u[0]===this.userId){const _=Ji(u[1]);o.push(_)}else m.done()}).next(()=>{Vt(0===o.length)})})}containsKey(e,t){return vE(e,this.userId,t)}vn(e){return kv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function vE(n,e,t){const r=$a(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Rd(n).X({range:u,Z:!0},(m,_,T)=>{const[R,$,te]=m;R===e&&$===o&&(d=!0),T.done()}).next(()=>d)}function qa(n){return yi(n,"mutations")}function Rd(n){return yi(n,"documentMutations")}function kv(n){return yi(n,"mutationQueues")}class Nd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Nd(0)}static Sn(){return new Nd(-1)}}class Fv{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const r=new Nd(t.highestTargetId);return t.highestTargetId=r.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Wt.fromTimestamp(new _r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Dn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Cn(e,o)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(t,r),this.Cn(e,r))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$u(e).delete(t.targetId)).next(()=>this.Dn(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return $u(e).X((d,m)=>{const _=nc(m);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(o++,u.push(this.removeTargetData(e,_)))}).next(()=>Ee.waitFor(u)).next(()=>o)}forEachTarget(e,t){return $u(e).X((r,o)=>{const u=nc(o);t(u)})}Dn(e){return ao(e).get("targetGlobalKey").next(t=>(Vt(null!==t),t))}Cn(e,t){return ao(e).put("targetGlobalKey",t)}xn(e,t){return $u(e).put(fg(this.Tt,t))}Nn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Gl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return $u(e).X({range:o,index:"queryTargetsIndex"},(d,m,_)=>{const T=nc(m);hd(t,T.target)&&(u=T,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Hu(e);return t.forEach(d=>{const m=mi(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),Ee.waitFor(o)}removeMatchingKeys(e,t,r){const o=Hu(e);return Ee.forEach(t,u=>{const d=mi(u.path);return Ee.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Hu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Hu(e);let u=yn();return o.X({range:r,Z:!0},(d,m,_)=>{const T=Ji(d[1]),R=new yt(T);u=u.add(R)}).next(()=>u)}containsKey(e,t){const r=mi(t.path),o=IDBKeyRange.bound([r],[zD(r)],!1,!0);let u=0;return Hu(e).X({index:"documentTargetsIndex",Z:!0,range:o},([d,m],_,T)=>{0!==d&&(u++,T.done())}).next(()=>u>0)}ie(e,t){return $u(e).get(t).next(r=>r?nc(r):null)}}function $u(n){return yi(n,"targets")}function ao(n){return yi(n,"targetGlobal")}function Hu(n){return yi(n,"targetDocuments")}function Lv([n,e],[t,r]){const o=hn(n,t);return 0===o?hn(e,r):o}class Jo{constructor(e){this.kn=e,this.buffer=new dr(Lv),this.$n=0}Mn(){return++this.$n}On(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Lv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mo{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(e){var t=this;nt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ie.Z)(function*(){t.Fn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ul(r)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Au(r)}yield t.Bn(3e5)}))}}class xo{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ee.resolve(fs.at);const r=new Jo(t);return this.Ln.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.Ln.Un(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Ln.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(yE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let r,o,u,d,m,_,T;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next($=>($>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${$}`),o=this.params.maximumSequenceNumbersToCollect):o=$,d=Date.now(),this.nthSequenceNumber(e,o))).next($=>(r=$,m=Date.now(),this.removeTargets(e,r,t))).next($=>(u=$,_=Date.now(),this.removeOrphanedDocuments(e,r))).next($=>(T=Date.now(),sd()<=$n.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-R}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(_-m)+`ms\n\tRemoved ${$} documents in `+(T-_)+`ms\nTotal Duration: ${T-R}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:$})))}}class _E{constructor(e,t){this.db=e,this.garbageCollector=new xo(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Gn(e){let t=0;return this.Un(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(r,o)=>t(o))}addReference(e,t,r){return yf(e,r)}removeReference(e,t,r){return yf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return yf(e,t)}jn(e,t){return function(r,o){let u=!1;return kv(r).tt(d=>vE(r,d,o).next(m=>(m&&(u=!0),Ee.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Qn(e,(d,m)=>{if(m<=t){const _=this.jn(e,d).next(T=>{if(!T)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Wt.min()),Hu(e).delete([0,mi(d.path)])))});o.push(_)}}).next(()=>Ee.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return yf(e,t)}Qn(e,t){const r=Hu(e);let o,u=fs.at;return r.X({index:"documentTargetsIndex"},([d,m],{path:_,sequenceNumber:T})=>{0===d?(u!==fs.at&&t(new yt(Ji(o)),u),u=T,o=_):u=fs.at}).next(()=>{u!==fs.at&&t(new yt(Ji(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yf(n,e){return Hu(n).put((r=n.currentSequenceNumber,{targetId:0,path:mi(e.path),sequenceNumber:r}));var r}class IE{constructor(){this.changes=new Qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yC{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ro(e).put(r)}removeEntry(e,t,r){return Ro(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],cf(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.zn(e,r)))}getEntry(e,t){let r=br.newInvalidDocument(t);return Ro(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(vf(t))},(o,u)=>{r=this.Wn(t,u)}).next(()=>r)}Hn(e,t){let r={size:0,document:br.newInvalidDocument(t)};return Ro(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(vf(t))},(o,u)=>{r={document:this.Wn(t,u),size:Wa(u)}}).next(()=>r)}getEntries(e,t){let r=gs();return this.Jn(e,t,(o,u)=>{const d=this.Wn(o,u);r=r.insert(o,d)}).next(()=>r)}Yn(e,t){let r=gs(),o=new zr(yt.comparator);return this.Jn(e,t,(u,d)=>{const m=this.Wn(u,d);r=r.insert(u,m),o=o.insert(u,Wa(d))}).next(()=>({documents:r,Zn:o}))}Jn(e,t,r){if(t.isEmpty())return Ee.resolve();let o=new dr(wE);t.forEach(_=>o=o.add(_));const u=IDBKeyRange.bound(vf(o.first()),vf(o.last())),d=o.getIterator();let m=d.getNext();return Ro(e).X({index:"documentKeyIndex",range:u},(_,T,R)=>{const $=yt.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;m&&wE(m,$)<0;)r(m,null),m=d.getNext();m&&m.isEqual($)&&(r(m,T),m=d.hasNext()?d.getNext():null),m?R.j(vf(m)):R.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),cf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ro(e).W(IDBKeyRange.bound(d,m,!0)).next(_=>{let T=gs();for(const R of _){const $=this.Wn(yt.fromSegments(R.prefixPath.concat(R.collectionGroup,R.documentId)),R);$.isFoundDocument()&&(Zl(t,$)||o.has($.key))&&(T=T.insert($.key,$))}return T})}getAllFromCollectionGroup(e,t,r,o){let u=gs();const d=Vv(t,r),m=Vv(t,Rs.max());return Ro(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(_,T,R)=>{const $=this.Wn(yt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);u=u.insert($.key,$),u.size===o&&R.done()}).next(()=>u)}newChangeBuffer(e){return new vC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _g(e).get("remoteDocumentGlobalKey").next(t=>(Vt(!!t),t))}zn(e,t){return _g(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const r=function dg(n,e){let t;if(e.document)t=oE(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=yt.fromSegments(e.noDocument.path),o=Uu(e.noDocument.readTime);t=br.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return At();{const r=yt.fromSegments(e.unknownDocument.path),o=Uu(e.unknownDocument.version);t=br.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new _r(r[0],r[1]);return Wt.fromTimestamp(o)}(e.readTime)),t}(this.Tt,t);if(!r.isNoDocument()||!r.version.isEqual(Wt.min()))return r}return br.newInvalidDocument(e)}}function EE(n){return new yC(n)}class vC extends IE{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Qo(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new dr((u,d)=>hn(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.ts.get(u);if(t.push(this.Xn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const _=hg(this.Xn.Tt,d);o=o.add(u.path.popLast());const T=Wa(_);r+=T-m.size,t.push(this.Xn.addEntry(e,u,_))}else if(r-=m.size,this.trackRemovals){const _=hg(this.Xn.Tt,d.convertToNoDocument(Wt.min()));t.push(this.Xn.addEntry(e,u,_))}}),o.forEach(u=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Xn.updateMetadata(e,r)),Ee.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(r=>(this.ts.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:r,Zn:o})=>(o.forEach((u,d)=>{this.ts.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function _g(n){return yi(n,"remoteDocumentGlobal")}function Ro(n){return yi(n,"remoteDocumentsV14")}function vf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vv(n,e){const t=e.documentKey.path.toArray();return[n,cf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wE(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=hn(t[u],r[u]),o)return o;return o=hn(t.length,r.length),o||(o=hn(t[t.length-2],r[r.length-2]),o||hn(t[t.length-1],r[r.length-1]))}class DE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uv{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&ef(r.mutation,o,ps.empty(),_r.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yn()){const o=ja();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=Yl();return u.forEach((m,_)=>{d=d.insert(m,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ja();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yn()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=gs();const d=ag(),m=ag();return t.forEach((_,T)=>{const R=r.get(T.key);o.has(T.key)&&(void 0===R||R.mutation instanceof Ua)?u=u.insert(T.key,T):void 0!==R?(d.set(T.key,R.mutation.getFieldMask()),ef(R.mutation,T,R.mutation.getFieldMask(),_r.now())):d.set(T.key,ps.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((T,R)=>d.set(T,R)),t.forEach((T,R)=>{var $;return m.set(T,new DE(R,null!==($=d.get(T))&&void 0!==$?$:null))}),m))}recalculateAndSaveOverlays(e,t){const r=ag();let o=new zr((d,m)=>d-m),u=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(_=>{const T=t.get(_);if(null===T)return;let R=r.get(_)||ps.empty();R=m.applyToLocalView(T,R),r.set(_,R);const $=(o.get(m.batchId)||yn()).add(_);o=o.insert(m.batchId,$)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),T=_.key,R=_.value,$=og();R.forEach(te=>{if(!u.has(te)){const Me=tv(t.get(te),r.get(te));null!==Me&&$.set(te,Me),u=u.add(te)}}),d.push(this.documentOverlayCache.saveOverlays(e,T,$))}return Ee.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return yt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):Ee.resolve(ja());let m=-1,_=u;return d.next(T=>Ee.forEach(T,(R,$)=>(m<$.largestBatchId&&(m=$.largestBatchId),u.get(R)?Ee.resolve():this.remoteDocumentCache.getEntry(e,R).next(te=>{_=_.insert(R,te)}))).next(()=>this.populateOverlays(e,T,u)).next(()=>this.computeViews(e,_,T,yn())).next(R=>({batchId:m,changes:nf(R)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new yt(t)).next(r=>{let o=Yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Yl();return this.indexManager.getCollectionParents(e,o).next(d=>Ee.forEach(d,m=>{const _=(T=t,R=m.child(o),new Os(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,R;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(T=>{T.forEach((R,$)=>{u=u.insert(R,$)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,_)=>{const T=_.getKey();null===u.get(T)&&(u=u.insert(T,br.newInvalidDocument(T)))});let d=Yl();return u.forEach((m,_)=>{const T=o.get(m);void 0!==T&&ef(T.mutation,_,ps.empty(),_r.now()),Zl(t,_)&&(d=d.insert(m,_))}),d})}}class Ig{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return Ee.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:Xr(r.createTime)}),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(r=t).name,query:wv(r.bundledQuery),readTime:Xr(r.readTime)}),Ee.resolve();var r}}class _C{constructor(){this.overlays=new zr(yt.comparator),this.ss=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ja();return Ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ce(e,t,u)}),Ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ss.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ss.delete(r)),Ee.resolve()}getOverlaysForCollection(e,t,r){const o=ja(),u=t.length+1,d=new yt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const _=m.getNext().value,T=_.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new zr((T,R)=>T-R);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let R=u.get(T.largestBatchId);null===R&&(R=ja(),u=u.insert(T.largestBatchId,R)),R.set(T.getKey(),T)}}const m=ja(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((T,R)=>m.set(T,R)),!(m.size()>=o)););return Ee.resolve(m)}ce(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ss.get(o.largestBatchId).delete(r.key);this.ss.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new uf(t,r));let u=this.ss.get(t);void 0===u&&(u=yn(),this.ss.set(t,u)),this.ss.set(t,u.add(r.key))}}class Eg{constructor(){this.rs=new dr(li.os),this.us=new dr(li.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const r=new li(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new li(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){const t=new yt(new Un([])),r=new li(t,e),o=new li(t,e+1),u=[];return this.us.forEachInRange([r,o],d=>{this.ls(d),u.push(d.key)}),u}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new yt(new Un([])),r=new li(t,e),o=new li(t,e+1);let u=yn();return this.us.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new li(e,0),r=this.rs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class li{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return yt.comparator(e.key,t.key)||hn(e.gs,t.gs)}static cs(e,t){return hn(e.gs,t.gs)||yt.comparator(e.key,t.key)}}class jv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new dr(li.os)}checkEmpty(e){return Ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ys;this.ys++;const d=new Ad(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.ps=this.ps.add(new li(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ee.resolve(d)}lookupMutationBatch(e,t){return Ee.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ts(t+1),u=o<0?0:o;return Ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new li(t,0),o=new li(t,Number.POSITIVE_INFINITY),u=[];return this.ps.forEachInRange([r,o],d=>{const m=this.Is(d.gs);u.push(m)}),Ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(hn);return t.forEach(o=>{const u=new li(o,0),d=new li(o,Number.POSITIVE_INFINITY);this.ps.forEachInRange([u,d],m=>{r=r.add(m.gs)})}),Ee.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const d=new li(new yt(u),0);let m=new dr(hn);return this.ps.forEachWhile(_=>{const T=_.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(_.gs)),!0)},d),Ee.resolve(this.Es(m))}Es(e){const t=[];return e.forEach(r=>{const o=this.Is(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Vt(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return Ee.forEach(t.mutations,o=>{const u=new li(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){const r=new li(t,0),o=this.ps.firstAfterOrEqual(r);return Ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ee.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wg{constructor(e){this.Rs=e,this.docs=new zr(yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ee.resolve(r?r.document.mutableCopy():br.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():br.newInvalidDocument(o))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=gs();const d=t.path,m=new yt(d.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:T,value:{document:R}}=_.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||Wp(E0(R),r)<=0||(o.has(R.key)||Zl(t,R))&&(u=u.insert(R.key,R.mutableCopy()))}return Ee.resolve(u)}getAllFromCollectionGroup(e,t,r,o){At()}Ps(e,t){return Ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Bv(this)}getSize(e){return Ee.resolve(this.size)}}class Bv extends IE{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Xn.addEntry(e,o)):this.Xn.removeEntry(r)}),Ee.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class $v{constructor(e){this.persistence=e,this.vs=new Qo(t=>Gl(t),hd),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Eg,this.targetCount=0,this.Ss=Nd.Vn()}forEachTarget(e,t){return this.vs.forEach((r,o)=>t(o)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ee.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new Nd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.xn(t),Ee.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.vs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.vs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ee.waitFor(u).next(()=>o)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.vs.get(t)||null;return Ee.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),Ee.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),Ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Vs.ws(t);return Ee.resolve(r)}containsKey(e,t){return Ee.resolve(this.Vs.containsKey(t))}}class Dg{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new fs(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new $v(this),this.indexManager=new gC,this.remoteDocumentCache=new wg(r=>this.referenceDelegate.ks(r)),this.Tt=new lf(t),this.$s=new Ig(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _C,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new jv(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){nt("MemoryPersistence","Starting transaction:",e);const o=new Hv(this.Cs.next());return this.referenceDelegate.Ms(),r(o).next(u=>this.referenceDelegate.Os(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Fs(e,t){return Ee.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}}class Hv extends w0{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Bs=new Eg,this.Ls=null}static qs(e){return new Od(e)}get Us(){if(this.Ls)return this.Ls;throw At()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),Ee.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(o=>this.Us.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Us.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Us,r=>{const o=yt.fromPath(r);return this.Ks(e,o).next(u=>{u||t.removeEntry(o,Wt.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return Ee.or([()=>Ee.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class zv{constructor(e){this.Tt=e}F(e,t,r,o){const u=new Gh("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ec,{unique:!0}),m.createObjectStore("documentMutations"),Cg(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Ee.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Cg(e)),d=d.next(()=>function(m){const _=m.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",T)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,_){return _.store("mutations").W().next(T=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ec,{unique:!0});const R=_.store("mutations"),$=T.map(te=>R.put(te));return Ee.waitFor($)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Gs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(u)))),r<7&&o>=7&&(d=d.next(()=>this.js(u))),r<8&&o>=8&&(d=d.next(()=>this.zs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Ws(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const _=m.createObjectStore("documentOverlays",{keyPath:yv});_.createIndex("collectionPathOverlayIndex",vv,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",dE,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const _=m.createObjectStore("remoteDocumentsV14",{keyPath:Cd});_.createIndex("documentKeyIndex",bd),_.createIndex("collectionGroupIndex",Td)}(e)).next(()=>this.Hs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.Js(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:fv}).createIndex("sequenceNumberIndex",pv,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:gv}).createIndex("documentKeyIndex",mv,{unique:!1})}(e))),d}Qs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=Wa(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>Ee.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>Ee.forEach(m,_=>{Vt(_.userId===u.userId);const T=ju(this.Tt,_);return Pv(e,u.userId,T).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((d,m)=>{const _=new Un(d),T=[0,mi(_)];u.push(t.get(T).next(R=>R?Ee.resolve():t.put({targetId:0,path:mi(_),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ee.waitFor(u))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:hv});const r=t.store("collectionParents"),o=new Nv,u=d=>{if(o.add(d)){const m=d.lastSegment(),_=d.popLast();return r.put({collectionId:m,parent:mi(_)})}};return t.store("remoteDocuments").X({Z:!0},(d,m)=>{const _=new Un(d);return u(_.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([d,m,_],T)=>{const R=Ji(m);return u(R.popLast())}))}Ws(e){const t=e.store("targets");return t.X((r,o)=>{const u=nc(o),d=fg(this.Tt,u);return t.put(d)})}Hs(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,d)=>{const m=t.store("remoteDocumentsV14"),_=(T=d,T.document?new yt(Un.fromString(T.document.name).popFirst(5)):T.noDocument?yt.fromSegments(T.noDocument.path):T.unknownDocument?yt.fromSegments(T.unknownDocument.path):At()).path.toArray();var T;const R={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(R))}).next(()=>Ee.waitFor(o))}Js(e,t){const r=t.store("mutations"),o=EE(this.Tt),u=new Dg(Od.qs,this.Tt.oe);return r.W().next(d=>{const m=new Map;return d.forEach(_=>{var T;let R=null!==(T=m.get(_.userId))&&void 0!==T?T:yn();ju(this.Tt,_).keys().forEach($=>R=R.add($)),m.set(_.userId,R)}),Ee.forEach(m,(_,T)=>{const R=new pi(T),$=df.ue(this.Tt,R),te=u.getIndexManager(R),Me=vg.ue(R,this.Tt,te,u.referenceDelegate);return new Uv(o,Me,$,te).recalculateAndSaveOverlaysForDocumentKeys(new af(t,fs.at),_).next()})})}}function Cg(n){n.createObjectStore("targetDocuments",{keyPath:cv}).createIndex("documentTargetsIndex",dv,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sd,{unique:!0}),n.createObjectStore("targetGlobal")}const _f="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bg{constructor(e,t,r,o,u,d,m,_,T,R,$=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ys=u,this.window=d,this.document=m,this.Zs=T,this.Xs=R,this.ti=$,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=te=>Promise.resolve(),!bg.C())throw new Ye(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _E(this,o),this.oi=t+"main",this.Tt=new lf(_),this.ui=new hs(this.oi,this.ti,new zv(this.Tt)),this.Ns=new Fv(this.referenceDelegate,this.Tt),this.remoteDocumentCache=EE(this.Tt),this.$s=new pE,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===R&&Qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ye(Ce.FAILED_PRECONDITION,_f);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new fs(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var r=(0,ie.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,ie.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,ie.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>If(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Ul(e))return nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return Pd(e).get("owner").next(t=>Ee.resolve(this.yi(t)))}pi(e){return If(e).delete(this.clientId)}Ii(){var e=this;return(0,ie.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=yi(r,"clientMetadata");return o.W().next(u=>{const d=e.Ei(u,18e5),m=u.filter(_=>-1===d.indexOf(_));return Ee.forEach(m,_=>o.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ci)for(const r of t)e.ci.removeItem(e.Ai(r.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?Ee.resolve(!0):Pd(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new Ye(Ce.FAILED_PRECONDITION,_f);return!1}}return!(!this.networkEnabled||!this.inForeground)||If(e).W().next(r=>void 0===this.Ei(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&nt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ie.Z)(function*(){e.xs=!1,e.Pi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.bi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new af(t,fs.at);return e.mi(r).next(()=>e.pi(r))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(r=>this.Ti(r.updateTimeMs,t)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>If(e).W().next(t=>this.Ei(t,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return vg.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mC(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return df.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,r){nt("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.ti)?Ev:14===d?Iv:13===d?_v:12===d?fE:11===d?hE:void At();var d;let m;return this.ui.runTransaction(e,o,u,_=>(m=new af(_,this.Cs?this.Cs.next():fs.at),"readwrite-primary"===t?this._i(m).next(T=>!!T||this.wi(m)).next(T=>{if(!T)throw Qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Ye(Ce.FAILED_PRECONDITION,Vl);return r(m)}).next(T=>this.gi(m).next(()=>T)):this.Di(m).next(()=>r(m)))).then(_=>(m.raiseOnCommittedEvent(),_))}Di(e){return Pd(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ye(Ce.FAILED_PRECONDITION,_f)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pd(e).put("owner",t)}static C(){return hs.C()}mi(e){const t=Pd(e);return t.get("owner").next(r=>this.yi(r)?(nt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ee.resolve())}Ti(e,t){const r=Date.now();return!(e<r-t||e>r&&(Qr(`Detected an update time that is in the future: ${e} > ${r}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.Pi();const t=/(?:Version|Mobile)\/1[456]/;(0,dn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const r=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return nt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Qr("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pd(n){return yi(n,"owner")}function If(n){return yi(n,"clientMetadata")}function Tg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Sg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=o}static Ni(e,t){let r=yn(),o=yn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sg(e,t.fromCache,r,o)}}class Gv{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Mi(e,t).next(u=>u||this.Oi(e,t,o,r)).next(u=>u||this.Fi(e,t))}Mi(e,t){if(j0(t))return Ee.resolve(null);let r=Yi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=ql(t,null,"F"),r=Yi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=yn(...u);return this.$i.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(_=>{const T=this.Bi(t,m);return this.Li(t,T,d,_.readTime)?this.Mi(e,ql(t,null,"F")):this.qi(e,T,t,_)}))})))}Oi(e,t,r,o){return j0(t)||o.isEqual(Wt.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(u=>{const d=this.Bi(t,u);return this.Li(t,d,r,o)?this.Fi(e,t):(sd()<=$n.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Kl(t)),this.qi(e,d,t,Gp(o,-1)))})}Bi(e,t){let r=new dr(Ky(e));return t.forEach((o,u)=>{Zl(e,u)&&(r=r.add(u))}),r}Li(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Fi(e,t){return sd()<=$n.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Kl(t)),this.$i.getDocumentsMatchingQuery(e,t,Rs.min())}qi(e,t,r,o){return this.$i.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class CE{constructor(e,t,r,o){this.persistence=e,this.Ui=t,this.Tt=o,this.Ki=new zr(hn),this.Gi=new Qo(u=>Gl(u),hd),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uv(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function Wv(n,e,t,r){return new CE(n,e,t,r)}function qv(n,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,ie.Z)(function*(n,e){const t=_t(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let _=yn();for(const T of o){d.push(T.batchId);for(const R of T.mutations)_=_.add(R.key)}for(const T of u){m.push(T.batchId);for(const R of T.mutations)_=_.add(R.key)}return t.localDocuments.getDocuments(r,_).next(T=>({Wi:T,removedBatchIds:d,addedBatchIds:m}))})})}),Ag.apply(this,arguments)}function Kv(n){const e=_t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function Zv(n,e,t){let r=yn(),o=yn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=gs();return t.forEach((m,_)=>{const T=u.get(m);_.isFoundDocument()!==T.isFoundDocument()&&(o=o.add(m)),_.isNoDocument()&&_.version.isEqual(Wt.min())?(e.removeEntry(m,_.readTime),d=d.insert(m,_)):!T.isValidDocument()||_.version.compareTo(T.version)>0||0===_.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(_),d=d.insert(m,_)):nt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",T.version," Watch version:",_.version)}),{Hi:d,Ji:o}})}function SE(n,e){const t=_t(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sc(n,e){const t=_t(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ns.getTargetData(r,e).next(u=>u?(o=u,Ee.resolve(o)):t.Ns.allocateTargetId(r).next(d=>(o=new Vu(e,d,0,r.currentSequenceNumber),t.Ns.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ki.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}function oc(n,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,ie.Z)(function*(n,e,t){const r=_t(n),o=r.Ki.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ul(d))throw d;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(o.target)}),Mg.apply(this,arguments)}function kd(n,e,t){const r=_t(n);let o=Wt.min(),u=yn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,_,T){const R=_t(m),$=R.Gi.get(T);return void 0!==$?Ee.resolve(R.Ki.get($)):R.Ns.getTargetData(_,T)}(r,d,Yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(d,m.targetId).next(_=>{u=_})}).next(()=>r.Ui.getDocumentsMatchingQuery(d,e,t?o:Wt.min(),t?u:yn())).next(m=>(Ng(r,Jh(e),m),{documents:m,Yi:u})))}function xg(n,e){const t=_t(n),r=_t(t.Ns),o=t.Ki.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ie(u,e).next(d=>d?d.target:null))}function Rg(n,e){const t=_t(n),r=t.Qi.get(e)||Wt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ji.getAllFromCollectionGroup(o,e,Gp(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Ng(t,e,o),o))}function Ng(n,e,t){let r=n.Qi.get(e)||Wt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Qi.set(e,r)}function Ef(){return Ef=(0,ie.Z)(function*(n,e,t,r){const o=_t(n);let u=yn(),d=gs();for(const T of t){const R=e.Zi(T.metadata.name);T.document&&(u=u.add(R));const $=e.Xi(T);$.setReadTime(e.tr(T.metadata.readTime)),d=d.insert(R,$)}const m=o.ji.newChangeBuffer({trackRemovals:!0}),_=yield sc(o,(T=r,Yi(fd(Un.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>Zv(T,m,d).next(R=>(m.apply(T),R)).next(R=>o.Ns.removeMatchingKeysForTargetId(T,_.targetId).next(()=>o.Ns.addMatchingKeys(T,u,_.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(T,R.Hi,R.Ji)).next(()=>R.Hi)))}),Ef.apply(this,arguments)}function Yv(n,e){return wf.apply(this,arguments)}function wf(){return wf=(0,ie.Z)(function*(n,e,t=yn()){const r=yield sc(n,Yi(wv(e.bundledQuery))),o=_t(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Xr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.$s.saveNamedQuery(u,e);const m=r.withResumeToken(ai.EMPTY_BYTE_STRING,d);return o.Ki=o.Ki.insert(m.targetId,m),o.Ns.updateTargetData(u,m).next(()=>o.Ns.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Ns.addMatchingKeys(u,t,r.targetId)).next(()=>o.$s.saveNamedQuery(u,e))})}),wf.apply(this,arguments)}function Og(n,e){return`firestore_clients_${n}_${e}`}function Pg(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Df(n,e){return`firestore_targets_${n}_${e}`}class ea{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static er(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Ye(o.error.code,o.error.message))),d?new ea(e,t,o.state,u):(Qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static er(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ye(r.error.code,r.error.message))),u?new Cf(e,r.state,o):(Qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=yd();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=S0(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new kg(e,u):(Qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zu{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zu(t.clientId,t.onlineState):(Qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xv{constructor(){this.activeTargetIds=yd()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bf{constructor(e,t,r,o,u){this.window=e,this.Ys=t,this.persistenceKey=r,this.rr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new zr(hn),this.started=!1,this.hr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.lr=Og(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new Xv),this._r=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ie.Z)(function*(){const t=yield e.syncEngine.Si();for(const o of t){if(o===e.rr)continue;const u=e.getItem(Og(e.persistenceKey,o));if(u){const d=kg.er(o,u);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.pr();const r=e.storage.getItem(e.gr);if(r){const o=e.Ir(r);o&&e.Tr(o)}for(const o of e.hr)e.cr(o);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,r){this.Ar(e,t,r),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Df(this.persistenceKey,e));if(r){const o=Cf.er(e,r);o&&(t=o.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Df(this.persistenceKey,e))}updateQueryState(e,t,r){this.vr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Rr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nt("SharedClientState","READ",e,t),t}setItem(e,t){nt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(nt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.lr)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,ie.Z)(function*(){if(t.started){if(null!==r.key)if(t._r.test(r.key)){if(null==r.newValue){const o=t.Sr(r.key);return t.Dr(o,null)}{const o=t.Cr(r.key,r.newValue);if(o)return t.Dr(o.clientId,o)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(t.mr.test(r.key)){if(null!==r.newValue){const o=t.$r(r.key,r.newValue);if(o)return t.Mr(o)}}else if(r.key===t.gr){if(null!==r.newValue){const o=t.Ir(r.newValue);if(o)return t.Tr(o)}}else if(r.key===t.dr){const o=function(u){let d=fs.at;if(null!=u)try{const m=JSON.parse(u);Vt("number"==typeof m),d=m}catch(m){Qr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==fs.at&&t.sequenceNumberHandler(o)}else if(r.key===t.yr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Fr(u)))}}else t.hr.push(r)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,r){const o=new ea(this.currentUser,e,t,r),u=Pg(this.persistenceKey,this.currentUser,e);this.setItem(u,o.nr())}Rr(e){const t=Pg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,r){const o=Df(this.persistenceKey,e),u=new Cf(e,t,r);this.setItem(o,u.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const r=this.Sr(e);return kg.er(r,t)}Nr(e,t){const r=this.wr.exec(e),o=Number(r[1]);return ea.er(new pi(void 0!==r[2]?r[2]:null),o,t)}$r(e,t){const r=this.mr.exec(e),o=Number(r[1]);return Cf.er(o,t)}Ir(e){return zu.er(e)}Or(e){return JSON.parse(e)}kr(e){var t=this;return(0,ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),o=this.Er(this.ar),u=this.Er(r),d=[],m=[];return u.forEach(_=>{o.has(_)||d.push(_)}),o.forEach(_=>{u.has(_)||m.push(_)}),this.syncEngine.qr(d,m).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=yd();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class AE{constructor(){this.Ur=new Xv,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Xv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ME{Gr(e){}shutdown(){}}class Jv{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fg=null;function Xt(){return null===Fg?Fg=268435456+Math.round(2147483648*Math.random()):Fg++,"0x"+Fg.toString(16)}const IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EC{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const ki="WebChannelConnection";class ac extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,o,u){const d=Xt(),m=this.fo(e,t);nt("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const _={};return this._o(_,o,u),this.wo(e,m,_,r).then(T=>(nt("RestConnection",`Received RPC '${e}' ${d}: `,T),T),T=>{throw gr("RestConnection",`RPC '${e}' ${d} failed with error: `,T,"url: ",m,"request:",r),T})}mo(e,t,r,o,u,d){return this.lo(e,t,r,o,u)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+id,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}fo(e,t){return`${this.co}/v1/${t}:${IC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,o){const u=Xt();return new Promise((d,m)=>{const _=new HD;_.setWithCredentials(!0),_.listenOnce(Ey.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case g0.NO_ERROR:const R=_.getResponseJson();nt(ki,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(R)),d(R);break;case g0.TIMEOUT:nt(ki,`RPC '${e}' ${u} timed out`),m(new Ye(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case g0.HTTP_ERROR:const $=_.getStatus();if(nt(ki,`RPC '${e}' ${u} failed with status:`,$,"response text:",_.getResponseText()),$>0){let te=_.getResponseJson();Array.isArray(te)&&(te=te[0]);const Me=te?.error;if(Me&&Me.status&&Me.message){const ze=function(st){const It=st.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(It)>=0?It:Ce.UNKNOWN}(Me.status);m(new Ye(ze,Me.message))}else m(new Ye(Ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new Ye(Ce.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{nt(ki,`RPC '${e}' ${u} completed.`)}});const T=JSON.stringify(o);nt(ki,`RPC '${e}' ${u} sending request:`,o),_.send(t,"POST",T,r,15)})}yo(e,t,r){const o=Xt(),u=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=VT(),m=UT(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new jT({})),this._o(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=u.join("");nt(ki,`Creating RPC '${e}' stream ${o}: ${T}`,_);const R=d.createWebChannel(T,_);let $=!1,te=!1;const Me=new EC({Yr:st=>{te?nt(ki,`Not sending because RPC '${e}' stream ${o} is closed:`,st):($||(nt(ki,`Opening RPC '${e}' stream ${o} transport.`),R.open(),$=!0),nt(ki,`RPC '${e}' stream ${o} sending:`,st),R.send(st))},Zr:()=>R.close()}),ze=(st,It,zn)=>{st.listen(It,mr=>{try{zn(mr)}catch(vn){setTimeout(()=>{throw vn},0)}})};return ze(R,Hh.EventType.OPEN,()=>{te||nt(ki,`RPC '${e}' stream ${o} transport opened.`)}),ze(R,Hh.EventType.CLOSE,()=>{te||(te=!0,nt(ki,`RPC '${e}' stream ${o} transport closed`),Me.oo())}),ze(R,Hh.EventType.ERROR,st=>{te||(te=!0,gr(ki,`RPC '${e}' stream ${o} transport errored:`,st),Me.oo(new Ye(Ce.UNAVAILABLE,"The operation could not be completed")))}),ze(R,Hh.EventType.MESSAGE,st=>{var It;if(!te){const zn=st.data[0];Vt(!!zn);const vn=zn.error||(null===(It=zn[0])||void 0===It?void 0:It.error);if(vn){nt(ki,`RPC '${e}' stream ${o} received error:`,vn);const xn=vn.status;let In=function(Li){const rh=Yr[Li];if(void 0!==rh)return K0(rh)}(xn),Sn=vn.message;void 0===In&&(In=Ce.INTERNAL,Sn="Unknown error status: "+xn+" with message "+vn.message),te=!0,Me.oo(new Ye(In,Sn)),R.close()}else nt(ki,`RPC '${e}' stream ${o} received:`,zn),Me.uo(zn)}}),ze(m,wy.STAT_EVENT,st=>{st.stat===$D.PROXY?nt(ki,`RPC '${e}' stream ${o} detected buffering proxy`):st.stat===$D.NOPROXY&&nt(ki,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Me.ro()},0),Me}}function xE(){return typeof window<"u"?window:null}function uc(){return typeof document<"u"?document:null}function Gu(n){return new uC(n,!0)}class Nr{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=o,this.To=u,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),o=Math.max(0,t-r);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,o,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class wC{constructor(e,t,r,o,u,d,m,_){this.Ys=e,this.So=r,this.Do=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Nr(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ie.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,ie.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var r=this;return(0,ie.Z)(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),r.ko.Po()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Co===t&&this.jo(r,o)},r=>{e(()=>{const o=new Ye(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(o)})})}jo(e,t){const r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(o=>{r(()=>this.zo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.ko.vo((0,ie.Z)(function*(){e.state=0,e.start()}))}zo(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RE extends wC{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.Tt=u}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function aE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:At(),o=e.targetChange.targetIds||[],u=function(_,T){return _.yt?(Vt(void 0===T||"string"==typeof T),ai.fromBase64String(T||"")):(Vt(void 0===T||T instanceof Uint8Array),ai.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(_){const T=void 0===_.code?Ce.UNKNOWN:K0(_.code);return new Ye(T,_.message||"")}(d);t=new X0(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=so(n,r.document.name),u=Xr(r.document.updateTime),d=r.document.createTime?Xr(r.document.createTime):Wt.min(),m=new ui({mapValue:{fields:r.document.fields}}),_=br.newFoundDocument(o,u,d,m);t=new Xl(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=so(n,r.document),u=r.readTime?Xr(r.readTime):Wt.min(),d=br.newNoDocument(o,u);t=new Xl([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=so(n,r.document);t=new Xl([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return At();{const r=e.filter,u=new oC(r.count||0);t=new Jl(r.targetId,u)}}var _;return t}(this.Tt,e),r=function(o){if(!("targetChange"in o))return Wt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Wt.min():u.readTime?Xr(u.readTime):Wt.min()}(e);return this.listener.Ho(t,r)}Jo(e){const t={};t.database=rf(this.Tt),t.addTarget=function(o,u){let d;const m=u.target;return d=Xp(m)?{documents:lE(o,m)}:{query:cE(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=rE(o,u.resumeToken):u.snapshotVersion.compareTo(Wt.min())>0&&(d.readTime=_d(o,u.snapshotVersion.toTimestamp())),d}(this.Tt,e);const r=function GT(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return At()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.qo(t)}Yo(e){const t={};t.database=rf(this.Tt),t.removeTarget=e,this.qo(t)}}class e_ extends wC{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.Tt=u,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function uE(n,e){return n&&n.length>0?(Vt(void 0!==e),n.map(t=>function(r,o){let u=Xr(r.updateTime?r.updateTime:o);return u.isEqual(Wt.min())&&(u=Xr(o)),new H0(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.eu(r,t)}return Vt(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=rf(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ed(this.Tt,r))};this.qo(t)}}class DC extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=o,this.iu=!1}ru(){if(this.iu)throw new Ye(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.lo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(Ce.UNKNOWN,o.toString())})}mo(e,t,r,o){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.mo(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ye(Ce.UNKNOWN,u.toString())})}terminate(){this.iu=!0}}class OE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Qr(t),this.cu=!1):nt("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class PE{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=u,this.yu.Gr(m=>{r.enqueueAndForget((0,ie.Z)(function*(){var _;ta(d)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ie.Z)(function*(T){const R=_t(T);R.mu.add(4),yield Fd(R),R.pu.set("Unknown"),R.mu.delete(4),yield Tf(R)}),function(T){return _.apply(this,arguments)})(d))}))}),this.pu=new OE(r,o)}}function Tf(n){return t_.apply(this,arguments)}function t_(){return t_=(0,ie.Z)(function*(n){if(ta(n))for(const e of n.gu)yield e(!0)}),t_.apply(this,arguments)}function Fd(n){return lc.apply(this,arguments)}function lc(){return lc=(0,ie.Z)(function*(n){for(const e of n.gu)yield e(!1)}),lc.apply(this,arguments)}function Vg(n,e){const t=_t(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),jg(t)?Ug(t):Ld(t).Mo()&&n_(t,e))}function Sf(n,e){const t=_t(n),r=Ld(t);t.wu.delete(e),r.Mo()&&Af(t,e),0===t.wu.size&&(r.Mo()?r.Bo():ta(t)&&t.pu.set("Unknown"))}function n_(n,e){n.Iu.Ot(e.targetId),Ld(n).Jo(e)}function Af(n,e){n.Iu.Ot(e),Ld(n).Yo(e)}function Ug(n){n.Iu=new J0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),Ld(n).start(),n.pu.au()}function jg(n){return ta(n)&&!Ld(n).$o()&&n.wu.size>0}function ta(n){return 0===_t(n).mu.size}function kE(n){n.Iu=void 0}function Mf(n){return cc.apply(this,arguments)}function cc(){return cc=(0,ie.Z)(function*(n){n.wu.forEach((e,t)=>{n_(n,e)})}),cc.apply(this,arguments)}function CC(n,e){return r_.apply(this,arguments)}function r_(){return r_=(0,ie.Z)(function*(n,e){kE(n),jg(n)?(n.pu.fu(e),Ug(n)):n.pu.set("Unknown")}),r_.apply(this,arguments)}function bC(n,e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,ie.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof X0&&2===e.state&&e.cause)try{yield(r=(0,ie.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.wu.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.wu.delete(m),o.Iu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xf(n,r)}else if(e instanceof Xl?n.Iu.Qt(e):e instanceof Jl?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Wt.min()))try{const r=yield Kv(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.Iu.ee(u);return d.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const T=o.wu.get(_);T&&o.wu.set(_,T.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const _=o.wu.get(m);if(!_)return;o.wu.set(m,_.withResumeToken(ai.EMPTY_BYTE_STRING,_.snapshotVersion)),Af(o,m);const T=new Vu(_.target,m,1,_.sequenceNumber);n_(o,T)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){nt("RemoteStore","Failed to raise snapshot:",r),yield xf(n,r)}var r}),Bg.apply(this,arguments)}function xf(n,e,t){return $g.apply(this,arguments)}function $g(){return $g=(0,ie.Z)(function*(n,e,t){if(!Ul(e))throw e;n.mu.add(1),yield Fd(n),n.pu.set("Offline"),t||(t=()=>Kv(n.localStore)),n.asyncQueue.enqueueRetryable((0,ie.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield Tf(n)}))}),$g.apply(this,arguments)}function FE(n,e){return e().catch(t=>xf(n,t,e))}function dc(n){return i_.apply(this,arguments)}function i_(){return i_=(0,ie.Z)(function*(n){const e=_t(n),t=Ka(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;TC(e);)try{const o=yield SE(e.localStore,r);if(null===o){0===e._u.length&&t.Bo();break}r=o.batchId,WT(e,o)}catch(o){yield xf(e,o)}SC(e)&&AC(e)}),i_.apply(this,arguments)}function TC(n){return ta(n)&&n._u.length<10}function WT(n,e){n._u.push(e);const t=Ka(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function SC(n){return ta(n)&&!Ka(n).$o()&&n._u.length>0}function AC(n){Ka(n).start()}function qT(n){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ie.Z)(function*(n){Ka(n).su()}),Hg.apply(this,arguments)}function zg(n){return s_.apply(this,arguments)}function s_(){return s_=(0,ie.Z)(function*(n){const e=Ka(n);for(const t of n._u)e.tu(t.mutations)}),s_.apply(this,arguments)}function MC(n,e,t){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,ie.Z)(function*(n,e,t){const r=n._u.shift(),o=Md.from(r,e,t);yield FE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield dc(n)}),Gg.apply(this,arguments)}function Rf(n,e){return o_.apply(this,arguments)}function o_(){return o_=(0,ie.Z)(function*(n,e){var t;e&&Ka(n).Xo&&(yield(t=(0,ie.Z)(function*(r,o){if(q0(u=o.code)&&u!==Ce.ABORTED){const d=r._u.shift();Ka(r).Fo(),yield FE(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield dc(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),SC(n)&&AC(n)}),o_.apply(this,arguments)}function LE(n,e){return a_.apply(this,arguments)}function a_(){return a_=(0,ie.Z)(function*(n,e){const t=_t(n);t.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const r=ta(t);t.mu.add(3),yield Fd(t),r&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield Tf(t)}),a_.apply(this,arguments)}function u_(n,e){return VE.apply(this,arguments)}function VE(){return VE=(0,ie.Z)(function*(n,e){const t=_t(n);e?(t.mu.delete(2),yield Tf(t)):e||(t.mu.add(2),yield Fd(t),t.pu.set("Unknown"))}),VE.apply(this,arguments)}function Ld(n){return n.Tu||(n.Tu=function(e,t,r){const o=_t(e);return o.ru(),new RE(t,o.connection,o.authCredentials,o.appCheckCredentials,o.Tt,r)}(n.datastore,n.asyncQueue,{Xr:Mf.bind(null,n),no:CC.bind(null,n),Ho:bC.bind(null,n)}),n.gu.push(function(){var e=(0,ie.Z)(function*(t){t?(n.Tu.Fo(),jg(n)?Ug(n):n.pu.set("Unknown")):(yield n.Tu.stop(),kE(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function Ka(n){return n.Eu||(n.Eu=function(e,t,r){const o=_t(e);return o.ru(),new e_(t,o.connection,o.authCredentials,o.appCheckCredentials,o.Tt,r)}(n.datastore,n.asyncQueue,{Xr:qT.bind(null,n),no:Rf.bind(null,n),nu:zg.bind(null,n),eu:MC.bind(null,n)}),n.gu.push(function(){var e=(0,ie.Z)(function*(t){t?(n.Eu.Fo(),yield dc(n)):(yield n.Eu.stop(),n._u.length>0&&(nt("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class l_{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new l_(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),Ul(n))return new Ye(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class na{constructor(e){this.comparator=e?(t,r)=>e(t,r)||yt.comparator(t.key,r.key):(t,r)=>yt.comparator(t.key,r.key),this.keyedMap=Yl(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new na(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class UE{constructor(){this.Au=new zr(yt.comparator)}track(e){const t=e.doc.key,r=this.Au.get(t);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(t):1===e.type&&2===r.type?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):At():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}}class hc{constructor(e,t,r,o,u,d,m,_,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new hc(e,t,na.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class xC{constructor(){this.Pu=void 0,this.listeners=[]}}class jE{constructor(){this.queries=new Qo(e=>eg(e),Zo),this.onlineState="Unknown",this.vu=new Set}}function c_(n,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,ie.Z)(function*(n,e){const t=_t(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new xC),o)try{u.Pu=yield t.onListen(r)}catch(d){const m=Vd(d,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Pu&&e.Vu(u.Pu)&&qg(t)}),Wg.apply(this,arguments)}function d_(n,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ie.Z)(function*(n,e){const t=_t(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Nf.apply(this,arguments)}function RC(n,e){const t=_t(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Vu(o)&&(r=!0);d.Pu=o}}r&&qg(t)}function BE(n,e,t){const r=_t(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function qg(n){n.vu.forEach(e=>{e.next()})}class h_{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class NC{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}}class $E{constructor(e){this.Tt=e}Zi(e){return so(this.Tt,e)}Xi(e){return e.metadata.exists?oE(this.Tt,e.document,!1):br.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return Xr(e)}}class f_{constructor(e,t,r){this.Fu=e,this.localStore=t,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HE(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const r=Un.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,r=new $E(this.Tt);for(const o of e)if(o.metadata.queries){const u=r.Zi(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||yn()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ie.Z)(function*(){const t=yield function Qv(n,e,t,r){return Ef.apply(this,arguments)}(e.localStore,new $E(e.Tt),e.documents,e.Fu.id),r=e.Lu(e.documents);for(const o of e.queries)yield Yv(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function HE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class p_{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class GE{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=yn(),this.mutatedKeys=yn(),this.ju=Ky(e),this.zu=new na(this.ju)}get Wu(){return this.Ku}Hu(e,t){const r=t?t.Ju:new UE,o=t?t.zu:this.zu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,T="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((R,$)=>{const te=o.get(R),Me=Zl(this.query,$)?$:null,ze=!!te&&this.mutatedKeys.has(te.key),st=!!Me&&(Me.hasLocalMutations||this.mutatedKeys.has(Me.key)&&Me.hasCommittedMutations);let It=!1;te&&Me?te.data.isEqual(Me.data)?ze!==st&&(r.track({type:3,doc:Me}),It=!0):this.Yu(te,Me)||(r.track({type:2,doc:Me}),It=!0,(_&&this.ju(Me,_)>0||T&&this.ju(Me,T)<0)&&(m=!0)):!te&&Me?(r.track({type:0,doc:Me}),It=!0):te&&!Me&&(r.track({type:1,doc:te}),It=!0,(_||T)&&(m=!0)),It&&(Me?(d=d.add(Me),u=st?u.add(R):u.delete(R)):(d=d.delete(R),u=u.delete(R)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const R="F"===this.query.limitType?d.last():d.first();d=d.delete(R.key),u=u.delete(R.key),r.track({type:1,doc:R})}return{zu:d,Ju:r,Li:m,mutatedKeys:u}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const u=e.Ju.Ru();u.sort((T,R)=>function($,te){const Me=ze=>{switch(ze){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return Me($)-Me(te)}(T.type,R.type)||this.ju(T.doc,R.doc)),this.Zu(r);const d=t?this.Xu():[],m=0===this.Qu.size&&this.current?1:0,_=m!==this.Gu;return this.Gu=m,0!==u.length||_?{snapshot:new hc(this.query,e.zu,o,u,e.mutatedKeys,0===m,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:d}:{tc:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new UE,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=yn(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new zE(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new p_(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=yn();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return hc.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class OC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PC{constructor(e){this.key=e,this.ic=!1}}class kC{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.rc={},this.oc=new Qo(m=>eg(m),Zo),this.uc=new Map,this.cc=new Set,this.ac=new zr(yt.comparator),this.hc=new Map,this.lc=new Eg,this.fc={},this.dc=new Map,this._c=Nd.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function FC(n,e){return g_.apply(this,arguments)}function g_(){return g_=(0,ie.Z)(function*(n,e){const t=rm(n);let r,o;const u=t.oc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.sc();else{const d=yield sc(t.localStore,Yi(e));t.isPrimaryClient&&Vg(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield m_(t,e,r,"current"===m,d.resumeToken)}return o}),g_.apply(this,arguments)}function m_(n,e,t,r,o){return Of.apply(this,arguments)}function Of(){return Of=(0,ie.Z)(function*(n,e,t,r,o){n.mc=($,te,Me)=>{return(ze=(0,ie.Z)(function*(st,It,zn,mr){let vn=It.view.Hu(zn);vn.Li&&(vn=yield kd(st.localStore,It.query,!1).then(({documents:Sn})=>It.view.Hu(Sn,vn)));const xn=mr&&mr.targetChanges.get(It.targetId),In=It.view.applyChanges(vn,st.isPrimaryClient,xn);return C_(st,It.targetId,In.tc),In.snapshot}),function(st,It,zn,mr){return ze.apply(this,arguments)})(n,$,te,Me);var ze};const u=yield kd(n.localStore,e,!0),d=new GE(e,u.Yi),m=d.Hu(u.documents),_=Fu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),T=d.applyChanges(m,n.isPrimaryClient,_);C_(n,t,T.tc);const R=new OC(e,t,d);return n.oc.set(e,R),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),T.snapshot}),Of.apply(this,arguments)}function y_(n,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,ie.Z)(function*(n,e){const t=_t(n),r=t.oc.get(e),o=t.uc.get(r.targetId);if(o.length>1)return t.uc.set(r.targetId,o.filter(u=>!Zo(u,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield oc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Sf(t.remoteStore,r.targetId),fc(t,r.targetId)}).catch(Au))):(fc(t,r.targetId),yield oc(t.localStore,r.targetId,!0))}),Kg.apply(this,arguments)}function Pf(){return Pf=(0,ie.Z)(function*(n,e,t){const r=im(n);try{const o=yield function(u,d){const m=_t(u),_=_r.now(),T=d.reduce((te,Me)=>te.add(Me.key),yn());let R,$;return m.persistence.runTransaction("Locally write mutations","readwrite",te=>{let Me=gs(),ze=yn();return m.ji.getEntries(te,T).next(st=>{Me=st,Me.forEach((It,zn)=>{zn.isValidDocument()||(ze=ze.add(It))})}).next(()=>m.localDocuments.getOverlayedDocuments(te,Me)).next(st=>{R=st;const It=[];for(const zn of d){const mr=nv(zn,R.get(zn.key).overlayedDocument);null!=mr&&It.push(new Ua(zn.key,mr,Hy(mr.value.mapValue),Rr.exists(!0)))}return m.mutationQueue.addMutationBatch(te,_,It,d)}).next(st=>{$=st;const It=st.applyToLocalDocumentSet(R,ze);return m.documentOverlayCache.saveOverlays(te,st.batchId,It)})}).then(()=>({batchId:$.batchId,changes:nf(R)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let _=u.fc[u.currentUser.toKey()];_||(_=new zr(hn)),_=_.insert(d,m),u.fc[u.currentUser.toKey()]=_}(r,o.batchId,t),yield Za(r,o.changes),yield dc(r.remoteStore)}catch(o){const u=Vd(o,"Failed to persist write");t.reject(u)}}),Pf.apply(this,arguments)}function v_(n,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,ie.Z)(function*(n,e){const t=_t(n);try{const r=yield function TE(n,e){const t=_t(n),r=e.snapshotVersion;let o=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.ji.newChangeBuffer({trackRemovals:!0});o=t.Ki;const m=[];e.targetChanges.forEach((R,$)=>{const te=o.get($);if(!te)return;m.push(t.Ns.removeMatchingKeys(u,R.removedDocuments,$).next(()=>t.Ns.addMatchingKeys(u,R.addedDocuments,$)));let Me=te.withSequenceNumber(u.currentSequenceNumber);var ze,st,It;e.targetMismatches.has($)?Me=Me.withResumeToken(ai.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):R.resumeToken.approximateByteSize()>0&&(Me=Me.withResumeToken(R.resumeToken,r)),o=o.insert($,Me),st=Me,It=R,(0===(ze=te).resumeToken.approximateByteSize()||st.snapshotVersion.toMicroseconds()-ze.snapshotVersion.toMicroseconds()>=3e8||It.addedDocuments.size+It.modifiedDocuments.size+It.removedDocuments.size>0)&&m.push(t.Ns.updateTargetData(u,Me))});let _=gs(),T=yn();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,R))}),m.push(Zv(u,d,e.documentUpdates).next(R=>{_=R.Hi,T=R.Ji})),!r.isEqual(Wt.min())){const R=t.Ns.getLastRemoteSnapshotVersion(u).next($=>t.Ns.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(R)}return Ee.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,T)).next(()=>_)}).then(u=>(t.Ki=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.hc.get(u);d&&(Vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.ic=!0:o.modifiedDocuments.size>0?Vt(d.ic):o.removedDocuments.size>0&&(Vt(d.ic),d.ic=!1))}),yield Za(t,r,e)}catch(r){yield Au(r)}}),Zg.apply(this,arguments)}function qE(n,e,t){const r=_t(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.oc.forEach((u,d)=>{const m=d.view.bu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=_t(u);m.onlineState=d;let _=!1;m.queries.forEach((T,R)=>{for(const $ of R.listeners)$.bu(d)&&(_=!0)}),_&&qg(m)}(r.eventManager,e),o.length&&r.rc.Ho(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function __(n,e,t){return kf.apply(this,arguments)}function kf(){return kf=(0,ie.Z)(function*(n,e,t){const r=_t(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.hc.get(e),u=o&&o.key;if(u){let d=new zr(yt.comparator);d=d.insert(u,br.newNoDocument(u,Wt.min()));const m=yn().add(u),_=new Ps(Wt.min(),new Map,new dr(hn),d,m);yield v_(r,_),r.ac=r.ac.remove(u),r.hc.delete(e),Ud(r)}else yield oc(r.localStore,e,!1).then(()=>fc(r,e,t)).catch(Au)}),kf.apply(this,arguments)}function KE(n,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ie.Z)(function*(n,e){const t=_t(n),r=e.batch.batchId;try{const o=yield function bE(n,e){const t=_t(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.ji.newChangeBuffer({trackRemovals:!0});return function(d,m,_,T){const R=_.batch,$=R.keys();let te=Ee.resolve();return $.forEach(Me=>{te=te.next(()=>T.getEntry(m,Me)).next(ze=>{const st=_.docVersions.get(Me);Vt(null!==st),ze.version.compareTo(st)<0&&(R.applyToRemoteDocument(ze,_),ze.isValidDocument()&&(ze.setReadTime(_.commitVersion),T.addEntry(ze)))})}),te.next(()=>d.mutationQueue.removeMutationBatch(m,R))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=yn();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(m=m.add(d.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);Wu(t,r,null),Qg(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Za(t,o)}catch(o){yield Au(o)}}),Ff.apply(this,arguments)}function LC(n,e,t){return I_.apply(this,arguments)}function I_(){return I_=(0,ie.Z)(function*(n,e,t){const r=_t(n);try{const o=yield function(u,d){const m=_t(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return m.mutationQueue.lookupMutationBatch(_,d).next(R=>(Vt(null!==R),T=R.keys(),m.mutationQueue.removeMutationBatch(_,R))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,T,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>m.localDocuments.getDocuments(_,T))})}(r.localStore,e);Wu(r,e,t),Qg(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Za(r,o)}catch(o){yield Au(o)}}),I_.apply(this,arguments)}function w_(){return w_=(0,ie.Z)(function*(n,e){const t=_t(n);ta(t.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=_t(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.dc.get(r)||[];o.push(e),t.dc.set(r,o)}catch(r){const o=Vd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),w_.apply(this,arguments)}function Qg(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function Wu(n,e,t){const r=_t(n);let o=r.fc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.fc[r.currentUser.toKey()]=o}}function fc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||D_(n,r)})}function D_(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(Sf(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),Ud(n))}function C_(n,e,t){for(const r of t)r instanceof p_?(n.lc.addReference(r.key,e),b_(n,r)):r instanceof zE?(nt("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||D_(n,r.key)):At()}function b_(n,e){const t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(nt("SyncEngine","New document in limbo: "+t),n.cc.add(r),Ud(n))}function Ud(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new yt(Un.fromString(e)),r=n._c.next();n.hc.set(r,new PC(t)),n.ac=n.ac.insert(t,r),Vg(n.remoteStore,new Vu(Yi(fd(t.path)),r,2,fs.at))}}function Za(n,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ie.Z)(function*(n,e,t){const r=_t(n),o=[],u=[],d=[];var m;r.oc.isEmpty()||(r.oc.forEach((m,_)=>{d.push(r.mc(_,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,T?.fromCache?"not-current":"current"),T){o.push(T);const R=Sg.Ni(_.targetId,T);u.push(R)}}))}),yield Promise.all(d),r.rc.Ho(o),yield(m=(0,ie.Z)(function*(_,T){const R=_t(_);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",$=>Ee.forEach(T,te=>Ee.forEach(te.Ci,Me=>R.persistence.referenceDelegate.addReference($,te.targetId,Me)).next(()=>Ee.forEach(te.xi,Me=>R.persistence.referenceDelegate.removeReference($,te.targetId,Me)))))}catch($){if(!Ul($))throw $;nt("LocalStore","Failed to update sequence numbers: "+$)}for(const $ of T){const te=$.targetId;if(!$.fromCache){const Me=R.Ki.get(te),st=Me.withLastLimboFreeSnapshotVersion(Me.snapshotVersion);R.Ki=R.Ki.insert(te,st)}}}),function(_,T){return m.apply(this,arguments)})(r.localStore,u))}),Lf.apply(this,arguments)}function VC(n,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,ie.Z)(function*(n,e){const t=_t(n);if(!t.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const r=yield qv(t.localStore,e);t.currentUser=e,(o=t).dc.forEach(d=>{d.forEach(m=>{m.reject(new Ye(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.dc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Za(t,r.Wi)}var o}),Yg.apply(this,arguments)}function T_(n,e){const t=_t(n),r=t.hc.get(e);if(r&&r.ic)return yn().add(r.key);{let o=yn();const u=t.uc.get(e);if(!u)return o;for(const d of u){const m=t.oc.get(d);o=o.unionWith(m.view.Wu)}return o}}function ZE(n,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,ie.Z)(function*(n,e){const t=_t(n),r=yield kd(t.localStore,e.query,!0),o=e.view.nc(r);return t.isPrimaryClient&&C_(t,e.targetId,o.tc),o}),Xg.apply(this,arguments)}function QE(n,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,ie.Z)(function*(n,e){const t=_t(n);return Rg(t.localStore,e).then(r=>Za(t,r))}),Jg.apply(this,arguments)}function UC(n,e,t,r){return em.apply(this,arguments)}function em(){return em=(0,ie.Z)(function*(n,e,t,r){const o=_t(n),u=yield function(d,m){const _=_t(d),T=_t(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",R=>T.An(R,m).next($=>$?_.localDocuments.getDocuments(R,$):Ee.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield dc(o.remoteStore):"acknowledged"===t||"rejected"===t?(Wu(o,e,r||null),Qg(o,e),m=e,_t(_t(o.localStore).mutationQueue).Pn(m)):At(),yield Za(o,u)):nt("SyncEngine","Cannot apply mutation batch with id: "+e)}),em.apply(this,arguments)}function S_(){return S_=(0,ie.Z)(function*(n,e){const t=_t(n);if(rm(t),im(t),!0===e&&!0!==t.wc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield tm(t,r.toArray());t.wc=!0,yield u_(t.remoteStore,!0);for(const u of o)Vg(t.remoteStore,u)}else if(!1===e&&!1!==t.wc){const r=[];let o=Promise.resolve();t.uc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(fc(t,d),oc(t.localStore,d,!0))),Sf(t.remoteStore,d)}),yield o,yield tm(t,r),function(u){const d=_t(u);d.hc.forEach((m,_)=>{Sf(d.remoteStore,_)}),d.lc._s(),d.hc=new Map,d.ac=new zr(yt.comparator)}(t),t.wc=!1,yield u_(t.remoteStore,!1)}}),S_.apply(this,arguments)}function tm(n,e,t){return YE.apply(this,arguments)}function YE(){return YE=(0,ie.Z)(function*(n,e,t){const r=_t(n),o=[],u=[];for(const d of e){let m;const _=r.uc.get(d);if(_&&0!==_.length){m=yield sc(r.localStore,Yi(_[0]));for(const T of _){const R=r.oc.get(T),$=yield ZE(r,R);$.snapshot&&u.push($.snapshot)}}else{const T=yield xg(r.localStore,d);m=yield sc(r.localStore,T),yield m_(r,A_(T),d,!1,m.resumeToken)}o.push(m)}return r.rc.Ho(u),o}),YE.apply(this,arguments)}function A_(n){return Wl(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function BC(n){const e=_t(n);return _t(_t(e.localStore).persistence).Si()}function $C(n,e,t,r){return XE.apply(this,arguments)}function XE(){return XE=(0,ie.Z)(function*(n,e,t,r){const o=_t(n);if(o.wc)return void nt("SyncEngine","Ignoring unexpected query state notification.");const u=o.uc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Rg(o.localStore,Jh(u[0])),m=Ps.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ai.EMPTY_BYTE_STRING);yield Za(o,d,m);break}case"rejected":yield oc(o.localStore,e,!0),fc(o,e,r);break;default:At()}}),XE.apply(this,arguments)}function HC(n,e,t){return nm.apply(this,arguments)}function nm(){return nm=(0,ie.Z)(function*(n,e,t){const r=rm(n);if(r.wc){for(const o of e){if(r.uc.has(o)){nt("SyncEngine","Adding an already active target "+o);continue}const u=yield xg(r.localStore,o),d=yield sc(r.localStore,u);yield m_(r,A_(u),d.targetId,!1,d.resumeToken),Vg(r.remoteStore,d)}for(const o of t)r.uc.has(o)&&(yield oc(r.localStore,o,!1).then(()=>{Sf(r.remoteStore,o),fc(r,o)}).catch(Au))}}),nm.apply(this,arguments)}function rm(n){const e=_t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=v_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__.bind(null,e),e.rc.Ho=RC.bind(null,e.eventManager),e.rc.gc=BE.bind(null,e.eventManager),e}function im(n){const e=_t(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LC.bind(null,e),e}class M_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ie.Z)(function*(){t.Tt=Gu(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return Wv(this.persistence,new Gv,e.initialUser,this.Tt)}Tc(e){return new Dg(Od.qs,this.Tt)}Ic(e){return new AE}terminate(){var e=this;return(0,ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class x_ extends M_{constructor(e,t,r){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ie.Z)(function*(){yield t().call(r,e),yield r.Pc.initialize(r,e),yield im(r.Pc.syncEngine),yield dc(r.Pc.remoteStore),yield r.persistence.di(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return Wv(this.persistence,new Gv,e.initialUser,this.Tt)}Ac(e,t){return new Mo(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const r=new qD(t,this.persistence);return new Wh(e.asyncQueue,r)}Tc(e){const t=Tg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new bg(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,xE(),uc(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new AE}}class ew extends x_{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ie.Z)(function*(){yield t().call(r,e);const o=r.Pc.syncEngine;r.sharedClientState instanceof bf&&(r.sharedClientState.syncEngine={Br:UC.bind(null,o),Lr:$C.bind(null,o),qr:HC.bind(null,o),Si:BC.bind(null,o),Fr:QE.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.di(function(){var u=(0,ie.Z)(function*(d){yield function jC(n,e){return S_.apply(this,arguments)}(r.Pc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}Ic(e){const t=xE();if(!bf.C(t))throw new Ye(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Tg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bf(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sm{initialize(e,t){var r=this;return(0,ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>qE(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=VC.bind(null,r.syncEngine),yield u_(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jE}createDatastore(e){const t=Gu(e.databaseInfo.databaseId),r=new ac(e.databaseInfo);return new DC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>qE(this.syncEngine,m,0),d=Jv.C()?new Jv:new ME,new PE(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,_,T){const R=new kC(r,o,u,d,m,_);return T&&(R.wc=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ie.Z)(function*(t){const r=_t(t);nt("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Fd(r),r.yu.shutdown(),r.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function R_(n,e=10240){let t=0;return{read:()=>(0,ie.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ie.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Vf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tw{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new oi,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,ie.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,ie.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,ie.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const r=e.Sc.decode(t),o=Number(r);isNaN(o)&&e.xc(`length string (${r}) is not valid number`);const u=yield e.Nc(o);return new NC(JSON.parse(u),t.length+o)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,ie.Z)(function*(){for(;e.kc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Nc(e){var t=this;return(0,ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.xc("Reached the end of bundle when more is expected.");const r=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,ie.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Uf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ye(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ie.Z)(function*(u,d){const m=_t(u),_=rf(m.Tt)+"/documents",T={documents:d.map(Me=>Id(m.Tt,Me))},R=yield m.mo("BatchGetDocuments",_,T,d.length),$=new Map;R.forEach(Me=>{const ze=function cC(n,e){return"found"in e?function(t,r){Vt(!!r.found);const o=so(t,r.found.name),u=Xr(r.found.updateTime),d=r.found.createTime?Xr(r.found.createTime):Wt.min(),m=new ui({mapValue:{fields:r.found.fields}});return br.newFoundDocument(o,u,d,m)}(n,e):"missing"in e?function(t,r){Vt(!!r.missing),Vt(!!r.readTime);const o=so(t,r.missing),u=Xr(r.readTime);return br.newNoDocument(o,u)}(n,e):At()}(m.Tt,Me);$.set(ze.key.toString(),ze)});const te=[];return d.forEach(Me=>{const ze=$.get(Me.toString());Vt(!!ze),te.push(ze)}),te}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=yt.fromPath(o);e.mutations.push(new rv(u,e.precondition(u)))}),yield(r=(0,ie.Z)(function*(o,u){const d=_t(o),m=rf(d.Tt)+"/documents",_={writes:u.map(T=>Ed(d.Tt,T))};yield d.lo("Commit",m,_)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw At();t=Wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ye(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wt.min())?Rr.exists(!1):Rr.updateTime(t):Rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wt.min()))throw new Ye(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(t)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nw{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Mc=r.maxAttempts,this.ko=new Nr(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var e=this;this.ko.vo((0,ie.Z)(function*(){const t=new Uf(e.datastore),r=e.Fc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Bc(u)}))}).catch(o=>{e.Bc(o)})}))}Fc(e){try{const t=this.updateFunction(e);return!jl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!q0(t)}return!1}}class rw{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=pi.UNAUTHENTICATED,this.clientId=Ay.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ie.Z)(function*(m){nt("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(nt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Vd(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function N_(n,e){return om.apply(this,arguments)}function om(){return om=(0,ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ie.Z)(function*(u){r.isEqual(u)||(yield qv(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),om.apply(this,arguments)}function O_(n,e){return am.apply(this,arguments)}function am(){return am=(0,ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield P_(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>LE(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>LE(e.remoteStore,u)),n.onlineComponents=e}),am.apply(this,arguments)}function P_(n){return iw.apply(this,arguments)}function iw(){return iw=(0,ie.Z)(function*(n){return n.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield N_(n,new M_)),n.offlineComponents}),iw.apply(this,arguments)}function jf(n){return um.apply(this,arguments)}function um(){return um=(0,ie.Z)(function*(n){return n.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield O_(n,new sm)),n.onlineComponents}),um.apply(this,arguments)}function k_(n){return P_(n).then(e=>e.persistence)}function Bf(n){return P_(n).then(e=>e.localStore)}function lm(n){return jf(n).then(e=>e.remoteStore)}function pc(n){return jf(n).then(e=>e.syncEngine)}function qu(n){return uo.apply(this,arguments)}function uo(){return uo=(0,ie.Z)(function*(n){const e=yield jf(n),t=e.eventManager;return t.onListen=FC.bind(null,e.syncEngine),t.onUnlisten=y_.bind(null,e.syncEngine),t}),uo.apply(this,arguments)}function ow(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(o,u,d,m,_){const T=new Vf({next:$=>{u.enqueueAndForget(()=>d_(o,R));const te=$.docs.has(d);!te&&$.fromCache?_.reject(new Ye(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):te&&$.fromCache&&m&&"server"===m.source?_.reject(new Ye(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve($)},error:$=>_.reject($)}),R=new h_(fd(d.path),T,{includeMetadataChanges:!0,$u:!0});return c_(o,R)}(yield qu(n),n.asyncQueue,e,t,r)})),r.promise}function aw(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(o,u,d,m,_){const T=new Vf({next:$=>{u.enqueueAndForget(()=>d_(o,R)),$.fromCache&&"server"===m.source?_.reject(new Ye(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve($)},error:$=>_.reject($)}),R=new h_(d,T,{includeMetadataChanges:!0,$u:!0});return c_(o,R)}(yield qu(n),n.asyncQueue,e,t,r)})),r.promise}const uw=new Map;function fm(n,e,t){if(!t)throw new Ye(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function F_(n,e,t,r){if(!0===e&&!0===r)throw new Ye(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pm(n){if(!yt.isDocumentKey(n))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L_(n){if(yt.isDocumentKey(n))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jd(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":At()}function Mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jd(n);throw new Ye(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function V_(n,e){if(e<=0)throw new Ye(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class gm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,F_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ye(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new BT;switch(t.type){case"gapi":return new Ty(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ye(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uw.get(e);t&&(nt("ComponentProvider","Removing Datastore"),uw.delete(e),t.terminate())}(this),Promise.resolve()}}function lw(n,e,t,r={}){var o;const u=(n=Mn(n,gc))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&gr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=pi.MOCK_USER;else{d=(0,dn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ye(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new pi(_)}n._authCredentials=new $T(new Cy(d,m))}}class Tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class bi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class ra extends bi{constructor(e,t,r){super(e,t,fd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new yt(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function mm(n,e,...t){if(n=(0,dn.m9)(n),fm("collection","path",e),n instanceof gc){const r=Un.fromString(e,...t);return L_(r),new ra(n,null,r)}{if(!(n instanceof Tr||n instanceof ra))throw new Ye(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return L_(r),new ra(n.firestore,null,r)}}function Qa(n,e,...t){if(n=(0,dn.m9)(n),1===arguments.length&&(e=Ay.R()),fm("doc","path",e),n instanceof gc){const r=Un.fromString(e,...t);return pm(r),new Tr(n,null,new yt(r))}{if(!(n instanceof Tr||n instanceof ra))throw new Ye(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return pm(r),new Tr(n.firestore,n instanceof ra?n.converter:null,new yt(r))}}function j_(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),(n instanceof Tr||n instanceof ra)&&(e instanceof Tr||e instanceof ra)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ym(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),n instanceof bi&&e instanceof bi&&n.firestore===e.firestore&&Zo(n._query,e._query)&&n.converter===e.converter}class cw{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Nr(this,"async_queue_retry"),this.Hc=()=>{const t=uc();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=uc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=uc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new oi;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,ie.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Ul(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,Qr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const o=l_.createAndSchedule(this,e,t,r,u=>this.Xc(u));return this.Gc.push(o),o}Jc(){this.Qc&&At()}verifyOperationInProgress(){}ta(){var e=this;return(0,ie.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function B_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class dw{constructor(){this._progressObserver={},this._taskCompletionResolver=new oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends gc{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new cw,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mc(this),this._firestoreClient.terminate()}}function Hf(n,e){const t="object"==typeof n?n:(0,Nn.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Nn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,dn.P0)("firestore");u&&lw(o,...u)}return o}function jn(n){return n._firestoreClient||mc(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mc(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new b0(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new rw(n._authCredentials,n._appCheckCredentials,n._queue,r)}function fw(n,e,t){const r=new oi;return n.asyncQueue.enqueue((0,ie.Z)(function*(){try{yield N_(n,t),yield O_(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===Ce.FAILED_PRECONDITION||d.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;gr("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function z_(n){if(n._initialized||n._terminated)throw new Ye(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(ai.fromBase64String(e))}catch(t){throw new Ye(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ia(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class No{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ku{constructor(e){this._methodName=e}}class yc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}const G_=/^__.*__$/;class YC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new md(e,this.data,t,this.fieldTransforms)}}class W_{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class $d{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ia(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new $d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.oa({path:r,ca:!1});return o.aa(e),o}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.oa({path:r,ca:!1});return o.ia(),o}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Kf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(yw(this.ra)&&G_.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class vc{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||Gu(e)}wa(e,t,r,o=!1){return new $d({ra:e,methodName:t,_a:r,path:cr.emptyPath(),ca:!1,da:o},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function _c(n){const e=n._freezeSettings(),t=Gu(n._databaseId);return new vc(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gf(n,e,t,r,o,u={}){const d=n.wa(u.merge||u.mergeFields?2:0,e,t,o);X_("Data must be an object, but it was:",d,r);const m=Q_(r,d);let _,T;if(u.merge)_=new ps(d.fieldMask),T=d.fieldTransforms;else if(u.mergeFields){const R=[];for(const $ of u.mergeFields){const te=qf(e,$,t);if(!d.contains(te))throw new Ye(Ce.INVALID_ARGUMENT,`Field '${te}' is specified in your field mask but missing from your input data.`);J_(R,te)||R.push(te)}_=new ps(R),T=d.fieldTransforms.filter($=>_.covers($.field))}else _=null,T=d.fieldTransforms;return new YC(new ui(m),_,T)}class Ic extends Ku{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}function q_(n,e,t){return new $d({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class K_ extends Ku{_toFieldTransform(e){return new rg(e.path,new gd)}isEqual(e){return e instanceof K_}}class QT extends Ku{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=q_(this,e,!0),r=this.ma.map(u=>Ec(u,t)),o=new Pu(r);return new rg(e.path,o)}isEqual(e){return this===e}}class XC extends Ku{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=q_(this,e,!0),r=this.ma.map(u=>Ec(u,t)),o=new Ql(r);return new rg(e.path,o)}isEqual(e){return this===e}}class JC extends Ku{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new gi(e.Tt,Qy(e.Tt,this.ga));return new rg(e.path,t)}isEqual(e){return this===e}}function Wf(n,e,t,r){const o=n.wa(1,e,t);X_("Data must be an object, but it was:",o,r);const u=[],d=ui.empty();Oa(r,(_,T)=>{const R=_m(e,_,t);T=(0,dn.m9)(T);const $=o.ha(R);if(T instanceof Ic)u.push(R);else{const te=Ec(T,$);null!=te&&(u.push(R),d.set(R,te))}});const m=new ps(u);return new W_(d,m,o.fieldTransforms)}function vm(n,e,t,r,o,u){const d=n.wa(1,e,t),m=[qf(e,r,t)],_=[o];if(u.length%2!=0)throw new Ye(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let te=0;te<u.length;te+=2)m.push(qf(e,u[te])),_.push(u[te+1]);const T=[],R=ui.empty();for(let te=m.length-1;te>=0;--te)if(!J_(T,m[te])){const Me=m[te];let ze=_[te];ze=(0,dn.m9)(ze);const st=d.ha(Me);if(ze instanceof Ic)T.push(Me);else{const It=Ec(ze,st);null!=It&&(T.push(Me),R.set(Me,It))}}const $=new ps(T);return new W_(R,$,d.fieldTransforms)}function Z_(n,e,t,r=!1){return Ec(t,n.wa(r?4:3,e))}function Ec(n,e){if(Y_(n=(0,dn.m9)(n)))return X_("Unsupported field value:",e,n),Q_(n,e);if(n instanceof Ku)return function(t,r){if(!yw(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Ec(d,r.la(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,dn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qy(r.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=_r.fromDate(t);return{timestampValue:_d(r.Tt,o)}}if(t instanceof _r){const o=new _r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_d(r.Tt,o)}}if(t instanceof yc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ia)return{bytesValue:rE(r.Tt,t._byteString)};if(t instanceof Tr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.fa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${jd(t)}`)}(n,e)}function Q_(n,e){const t={};return T0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(n,(r,o)=>{const u=Ec(o,e.ua(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Y_(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof yc||n instanceof ia||n instanceof Tr||n instanceof Ku)}function X_(n,e,t){if(!Y_(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=jd(t);throw e.fa("an object"===r?n+" a custom object":n+" "+r)}var r}function qf(n,e,t){if((e=(0,dn.m9)(e))instanceof No)return e._internalPath;if("string"==typeof e)return _m(n,e);throw Kf("Field path arguments must be of type string or ",n,!1,void 0,t)}const vw=new RegExp("[~\\*/\\[\\]]");function _m(n,e,t){if(e.search(vw)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new No(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kf(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new Ye(Ce.INVALID_ARGUMENT,m+n+_)}function J_(n,e){return n.some(t=>t.isEqual(e))}class Hd{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Im("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _w extends Hd{data(){return super.data()}}function Im(n,e){return"string"==typeof e?_m(n,e):e instanceof No?e._internalPath:e._delegate._internalPath}function Iw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ye(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Em{}class zd extends Em{}function Ya(n,e,...t){let r=[];e instanceof Em&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof Gd).length,d=o.filter(m=>m instanceof Zf).length;if(u>1||u>0&&d>0)throw new Ye(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Zf extends zd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Zf(e,t,r)}_apply(e){const t=this._parse(e);return Aw(e._query,t),new bi(e.firestore,e.converter,qy(e._query,t))}_parse(e){const t=_c(e.firestore);return function(o,u,d,m,_,T,R){let $;if(_.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){Sw(R,T);const te=[];for(const Me of R)te.push(Tw(m,o,Me));$={arrayValue:{values:te}}}else $=Tw(m,o,R)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||Sw(R,T),$=Z_(d,"where",R,"in"===T||"not-in"===T);return Pn.create(_,T,$)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Gd extends Em{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gd(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const d=o.getFlattenedFilters();for(const m of d)Aw(u,m),u=qy(u,m)}(e._query,t),new bi(e.firestore,e.converter,qy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eI extends zd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eI(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ye(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ye(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new dd(o,u);return function(m,_){if(null===Nu(m)){const T=Xh(m);null!==T&&Mw(0,T,_.field)}}(r,d),d}(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Os(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class wc extends zd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new wc(e,t,r)}_apply(e){return new bi(e.firestore,e.converter,ql(e._query,this._limit,this._limitType))}}class Dc extends zd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Dc(e,t,r)}_apply(e){const t=bw(e,this.type,this._docOrFields,this._inclusive);return new bi(e.firestore,e.converter,(o=t,new Os((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class wm extends zd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wm(e,t,r)}_apply(e){const t=bw(e,this.type,this._docOrFields,this._inclusive);return new bi(e.firestore,e.converter,(o=t,new Os((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function bw(n,e,t,r){if(t[0]=(0,dn.m9)(t[0]),t[0]instanceof Hd)return function(o,u,d,m,_){if(!m)throw new Ye(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const T=[];for(const R of Ou(o))if(R.field.isKeyField())T.push(Hl(u,m.key));else{const $=m.data.field(R.field);if(So($))throw new Ye(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===$){const te=R.field.canonicalString();throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${te}' (used as the orderBy) does not exist.`)}T.push($)}return new en(T,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=_c(n.firestore);return function(u,d,m,_,T,R){const $=u.explicitOrderBy;if(T.length>$.length)throw new Ye(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const te=[];for(let Me=0;Me<T.length;Me++){const ze=T[Me];if($[Me].field.isKeyField()){if("string"!=typeof ze)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ze}`);if(!Wy(u)&&-1!==ze.indexOf("/"))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ze}' contains a slash.`);const st=u.path.child(Un.fromString(ze));if(!yt.isDocumentKey(st))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${st}' is not because it contains an odd number of segments.`);const It=new yt(st);te.push(Hl(d,It))}else{const st=Z_(m,_,ze);te.push(st)}}return new en(te,R)}(n._query,n.firestore._databaseId,o,e,t,r)}}function Tw(n,e,t){if("string"==typeof(t=(0,dn.m9)(t))){if(""===t)throw new Ye(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wy(e)&&-1!==t.indexOf("/"))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Un.fromString(t));if(!yt.isDocumentKey(r))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hl(n,new yt(r))}if(t instanceof Tr)return Hl(n,t._key);throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(t)}.`)}function Sw(n,e){if(!Array.isArray(n)||0===n.length)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aw(n,e){if(e.isInequality()){const r=Xh(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=Nu(n);null!==u&&Mw(0,o,u)}const t=function(r,o){for(const u of r)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ye(Ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Mw(n,e,t){if(!t.isEqual(e))throw new Ye(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class nI{convertValue(e,t="none"){switch(xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw At()}}convertObject(e,t){const r={};return Oa(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new yc(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=M0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kh(e));default:return null}}convertTimestamp(e){const t=ka(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Un.fromString(e);Vt(Lu(r));const o=new Na(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(t)||Qr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Dm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nb extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends Hd{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Im("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wd extends sa{data(e={}){return super.data(e)}}class Zu{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wd(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Wd(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cc(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new Wd(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cc(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,T=-1;return 0!==d.type&&(_=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),T=u.indexOf(d.doc.key)),{type:lo(d.type),doc:m,oldIndex:_,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lo(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function xw(n,e){return n instanceof sa&&e instanceof sa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zu&&e instanceof Zu&&n._firestore===e._firestore&&ym(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Cm(n){n=Mn(n,Tr);const e=Mn(n.firestore,Sr);return ow(jn(e),n._key).then(t=>oI(e,n,t))}class Qu extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}function Rw(n,e,t){n=Mn(n,Tr);const r=Mn(n.firestore,Sr),o=Dm(n.converter,e,t);return bc(r,[Gf(_c(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Rr.none())])}function Yf(n,e,t,...r){n=Mn(n,Tr);const o=Mn(n.firestore,Sr),u=_c(o);let d;return d="string"==typeof(e=(0,dn.m9)(e))||e instanceof No?vm(u,"updateDoc",n._key,e,t,r):Wf(u,"updateDoc",n._key,e),bc(o,[d.toMutation(n._key,Rr.exists(!0))])}function iI(n){return bc(Mn(n.firestore,Sr),[new ku(n._key,Rr.none())])}function sI(n,e){const t=Mn(n.firestore,Sr),r=Qa(n),o=Dm(n.converter,e);return bc(t,[Gf(_c(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}function bm(n,...e){var t,r,o;n=(0,dn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||B_(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(B_(e[d])){const $=e[d];e[d]=null===(t=$.next)||void 0===t?void 0:t.bind($),e[d+1]=null===(r=$.error)||void 0===r?void 0:r.bind($),e[d+2]=null===(o=$.complete)||void 0===o?void 0:o.bind($)}let _,T,R;if(n instanceof Tr)T=Mn(n.firestore,Sr),R=fd(n._key.path),_={next:$=>{e[d]&&e[d](oI(T,n,$))},error:e[d+1],complete:e[d+2]};else{const $=Mn(n,bi);T=Mn($.firestore,Sr),R=$._query;const te=new Qu(T);_={next:Me=>{e[d]&&e[d](new Zu(T,te,$,Me))},error:e[d+1],complete:e[d+2]},Iw(n._query)}return function($,te,Me,ze){const st=new Vf(ze),It=new h_(te,st,Me);return $.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return c_(yield qu($),It)})),()=>{st.bc(),$.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return d_(yield qu($),It)}))}}(jn(T),R,m,_)}function bc(n,e){return function(t,r){const o=new oi;return t.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function WE(n,e,t){return Pf.apply(this,arguments)}(yield pc(t),r,o)})),o.promise}(jn(n),e)}function oI(n,e,t){const r=t.docs.get(e._key),o=new Qu(n);return new sa(n,o,e._key,r,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}const aI={maxAttempts:5};class oa{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_c(e)}set(e,t,r){this._verifyNotCommitted();const o=ts(e,this._firestore),u=Dm(o.converter,t,r),d=Gf(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Rr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=ts(e,this._firestore);let d;return d="string"==typeof(t=(0,dn.m9)(t))||t instanceof No?vm(this._dataReader,"WriteBatch.update",u._key,t,r,o):Wf(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ts(e,this._firestore);return this._mutations=this._mutations.concat(new ku(t._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ts(n,e){if((n=(0,dn.m9)(n)).firestore!==e)throw new Ye(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class uI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_c(e)}get(e){const t=ts(e,this._firestore),r=new nb(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return At();const u=o[0];if(u.isFoundDocument())return new Hd(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Hd(this._firestore,r,t._key,null,t.converter);throw At()})}set(e,t,r){const o=ts(e,this._firestore),u=Dm(o.converter,t,r),d=Gf(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=ts(e,this._firestore);let d;return d="string"==typeof(t=(0,dn.m9)(t))||t instanceof No?vm(this._dataReader,"Transaction.update",u._key,t,r,o):Wf(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=ts(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ts(e,this._firestore),r=new Qu(this._firestore);return super.get(e).then(o=>new sa(this._firestore,r,t._key,o._document,new Cc(!1,!1),t.converter))}}!function(n,e=!0){id=Nn.SDK_VERSION,(0,Nn._registerComponent)(new Mr.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Sr(new zh(t.getProvider("auth-internal")),new v0(t.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ye(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(m.options.projectId,_)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Nn.registerVersion)(m0,"3.9.0",n),(0,Nn.registerVersion)(m0,"3.9.0","esm2017")}();var aa=L(9751),Jt=L(4004),Lw={includeMetadataChanges:!1};function Bw(n,e){return void 0===e&&(e={}),function fb(n){return function Tm(n,e){return void 0===e&&(e=Lw),new aa.y(function(t){return{unsubscribe:bm(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,Jt.U)(function(e){return e.docs}))}(n).pipe((0,Jt.U)(function(t){return t.map(function(r){return function Sm(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Jf{constructor(e){return e}}const fI="firestore",pI=new h.InjectionToken("angularfire2.firestore-instances");function mb(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Jf(r)}}const yb={provide:class pb{constructor(){return(0,vt.vb)(fI)}},deps:[[new h.Optional,pI]]},gI={provide:Jf,useFactory:function oS(n,e){const t=(0,vt.JM)(fI,n,e);return t&&new Jf(t)},deps:[[new h.Optional,pI],jt]};let ep=(()=>{class n{constructor(){(0,X.KN)("angularfire",vt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[gI,yb]}),n})();function vb(n,...e){return{ngModule:ep,providers:[{provide:pI,useFactory:mb(n),multi:!0,deps:[h.NgZone,h.Injector,vt.HU,An,[new h.Optional,Js],[new h.Optional,Bo],...e]}]}}const Rm=(0,vt.u3)(Bw,!0),mI=(0,vt.u3)(mm,!0),Gw=(0,vt.u3)(iI,!0),Sb=(0,vt.u3)(Hf,!0),y=(0,vt.u3)(Yf,!0);var P=L(8996);const{isArray:H}=Array,{getPrototypeOf:J,prototype:de,keys:Ue}=Object;function it(n){if(1===n.length){const e=n[0];if(H(e))return{args:e,keys:null};if(function Et(n){return n&&"object"==typeof n&&J(n)===de}(e)){const t=Ue(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Rt=L(8421),Kt=L(7669),He=L(5403);const{isArray:fn}=Array;function Gr(n){return(0,Jt.U)(e=>function Or(n,e){return fn(e)?n(...e):n(e)}(n,e))}function Ab(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let NS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n}),n})(),np=(()=>{class n extends NS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,features:[h.\u0275\u0275InheritDefinitionFeature]}),n})();const Yu=new h.InjectionToken("NgValueAccessor"),gx={provide:Yu,useExisting:(0,h.forwardRef)(()=>Mb),multi:!0};let Mb=(()=>{class n extends np{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("change",function(u){return r.onChange(u.target.checked)})("blur",function(){return r.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([gx]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const mx={provide:Yu,useExisting:(0,h.forwardRef)(()=>rp),multi:!0},vx=new h.InjectionToken("CompositionEventMode");let rp=(()=>{class n extends NS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yx(){const n=(0,E.\u0275getDOM)()?(0,E.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(vx,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h.\u0275\u0275ProvidersFeature([mx]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const _x=!1;function Kd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ms=new h.InjectionToken("NgValidators"),Zd=new h.InjectionToken("NgAsyncValidators");function FS(n){return Kd(n.value)?{required:!0}:null}function Kw(n){return null}function $S(n){return null!=n}function HS(n){const e=(0,h.\u0275isPromise)(n)?(0,P.D)(n):n;if(_x&&!(0,h.\u0275isObservable)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.\u0275RuntimeError(-1101,t)}return e}function zS(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function GS(n,e){return e.map(t=>t(n))}function WS(n){return n.map(e=>function Ex(n){return!n.validate}(e)?e:t=>e.validate(t))}function xb(n){return null!=n?function qS(n){if(!n)return null;const e=n.filter($S);return 0==e.length?null:function(t){return zS(GS(t,e))}}(WS(n)):null}function Rb(n){return null!=n?function KS(n){if(!n)return null;const e=n.filter($S);return 0==e.length?null:function(t){return function px(...n){const e=(0,Kt.jO)(n),{args:t,keys:r}=it(n),o=new aa.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let _=d,T=d;for(let R=0;R<d;R++){let $=!1;(0,Rt.Xf)(t[R]).subscribe((0,He.x)(u,te=>{$||($=!0,T--),m[R]=te},()=>_--,void 0,()=>{(!_||!$)&&(T||u.next(r?Ab(r,m):m),u.complete())}))}});return e?o.pipe(Gr(e)):o}(GS(t,e).map(HS)).pipe((0,Jt.U)(zS))}}(WS(n)):null}function ZS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Nb(n){return n?Array.isArray(n)?n:[n]:[]}function Zw(n,e){return Array.isArray(n)?n.includes(e):n===e}function XS(n,e){const t=Nb(e);return Nb(n).forEach(o=>{Zw(t,o)||t.push(o)}),t}function JS(n,e){return Nb(e).filter(t=>!Zw(n,t))}class eA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ks extends eA{get formDirective(){return null}get path(){return null}}class Qd extends eA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tA{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nm=(()=>{class n extends tA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Qd,2))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.\u0275\u0275InheritDefinitionFeature]}),n})(),yI=(()=>{class n extends tA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(ks,10))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.\u0275\u0275InheritDefinitionFeature]}),n})();function nA(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const kb=!1,vI="VALID",Yw="INVALID",Om="PENDING",_I="DISABLED";function Fb(n){return(Xw(n)?n.validators:n)||null}function Lb(n,e){return(Xw(e)?e.asyncValidators:n)||null}function Xw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vI}get invalid(){return this.status===Yw}get pending(){return this.status==Om}get disabled(){return this.status===_I}get enabled(){return this.status!==_I}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JS(e,this._rawAsyncValidators))}hasValidator(e){return Zw(this._rawValidators,e)}hasAsyncValidator(e){return Zw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Om,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_I,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vI,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vI||this.status===Om)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_I:vI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Om,this._hasOwnPendingAsyncValidator=!0;const t=HS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.EventEmitter,this.statusChanges=new h.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?_I:this.errors?Yw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Om)?Om:this._anyControlsHaveStatus(Yw)?Yw:vI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ax(n){return Array.isArray(n)?xb(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Mx(n){return Array.isArray(n)?Rb(n):n||null}(this._rawAsyncValidators)}}class Vb extends sA{constructor(e,t,r){super(Fb(t),Lb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function iA(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.\u0275RuntimeError(1002,kb?function Sx(n,e){return`Must supply a value for form control ${nA(n,e)}`}(e,o):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function rA(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.\u0275RuntimeError(1e3,kb?function bx(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new h.\u0275RuntimeError(1001,kb?function Tx(n,e){return`Cannot find form control ${nA(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Pm=new h.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>Jw}),Jw="always";function II(n,e,t=Jw){Ub(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Nx(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oA(n,e)})}(n,e),function Px(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ox(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oA(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Rx(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ub(n,e){const t=function QS(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ZS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function YS(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ZS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();nD(e._rawValidators,o),nD(e._rawAsyncValidators,o)}function oA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ux={provide:ks,useExisting:(0,h.forwardRef)(()=>ip)},EI=(()=>Promise.resolve())();let ip=(()=>{class n extends ks{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.EventEmitter,this.form=new Vb({},xb(t),Rb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){EI.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),II(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){EI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){EI.then(()=>{const r=this._findContainer(t.path),o=new Vb({});(function aA(n,e){Ub(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){EI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){EI.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function uA(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(ms,10),h.\u0275\u0275directiveInject(Zd,10),h.\u0275\u0275directiveInject(Pm,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([Ux]),h.\u0275\u0275InheritDefinitionFeature]}),n})();function lA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function cA(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dA=class extends sA{constructor(e=null,t,r){super(Fb(t),Lb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=cA(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$x={provide:Qd,useExisting:(0,h.forwardRef)(()=>sp)},pA=(()=>Promise.resolve())();let sp=(()=>{class n extends Qd{constructor(t,r,o,u,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new dA,this._registered=!1,this.update=new h.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function $b(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===rp?t=u:function Lx(n){return Object.getPrototypeOf(n.constructor)===np}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Bb(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){II(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,h.\u0275coerceToBoolean)(r);pA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function eD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(ks,9),h.\u0275\u0275directiveInject(ms,10),h.\u0275\u0275directiveInject(Zd,10),h.\u0275\u0275directiveInject(Yu,10),h.\u0275\u0275directiveInject(h.ChangeDetectorRef,8),h.\u0275\u0275directiveInject(Pm,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.\u0275\u0275ProvidersFeature([$x]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),n})(),wI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Hx={provide:Yu,useExisting:(0,h.forwardRef)(()=>iD),multi:!0};let iD=(()=>{class n extends np{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([Hx]),h.\u0275\u0275InheritDefinitionFeature]}),n})(),gA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({}),n})();let op=(()=>{class n{constructor(){this._validator=Kw}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Kw,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,features:[h.\u0275\u0275NgOnChangesFeature]}),n})();const oR={provide:ms,useExisting:(0,h.forwardRef)(()=>ap),multi:!0};let ap=(()=>{class n extends op{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.\u0275coerceToBoolean,this.createValidator=t=>FS}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[h.\u0275\u0275ProvidersFeature([oR]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const lR={provide:ms,useExisting:(0,h.forwardRef)(()=>sD),multi:!0};let sD=(()=>{class n extends op{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function CA(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function US(n){return e=>Kd(e.value)||!function OS(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h.\u0275\u0275ProvidersFeature([lR]),h.\u0275\u0275InheritDefinitionFeature]}),n})();const dR={provide:ms,useExisting:(0,h.forwardRef)(()=>oD),multi:!0};let oD=(()=>{class n extends op{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function BS(n){if(!n)return Kw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Kd(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.\u0275\u0275attribute("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[h.\u0275\u0275ProvidersFeature([dR]),h.\u0275\u0275InheritDefinitionFeature]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[gA]}),n})(),pR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pm,useValue:t.callSetDisabledState??Jw}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[hR]}),n})();var Yd=L(7579);function Qt(...n){const e=(0,Kt.yG)(n);return(0,P.D)(n,e)}var gR=L(6451),aD=L(5363),Fs=L(4482);function Fi(n,e){return(0,Fs.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,He.x)(r,_=>{o?.unsubscribe();let T=0;const R=u++;(0,Rt.Xf)(n(_,R)).subscribe(o=(0,He.x)(r,$=>r.next(e?e(_,$,R,T++):$),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var mR=L(6063);class yR extends Yd.x{constructor(e=1/0,t=1/0,r=mR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)m=_;m&&r.splice(0,m+1)}}}var vR=L(3099);function RA(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,vR.B)({connector:()=>new yR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const uD=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ja(n,e){return(0,Fs.e)((t,r)=>{let o=0;t.subscribe((0,He.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Xd=L(515);function DI(n){return n<=0?()=>Xd.E:(0,Fs.e)((e,t)=>{let r=0;e.subscribe((0,He.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function lD(n){return(0,Fs.e)((e,t)=>{let r=!1;e.subscribe((0,He.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function NA(n=IR){return(0,Fs.e)((e,t)=>{let r=!1;e.subscribe((0,He.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function IR(){return new uD}var CI=L(4671);function Tc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ja((o,u)=>n(o,u,r)):CI.y,DI(1),t?lD(e):NA(()=>new uD))}var Kb=L(576);function OA(n,e){return(0,Kb.m)(e)?Fi(()=>n,e):Fi(()=>n)}var Zb=L(9468),eu=L(2011),ER=L(9260);const PA=new h.InjectionToken("angularfire2.auth.use-emulator"),Qb=new h.InjectionToken("angularfire2.auth.settings"),kA=new h.InjectionToken("angularfire2.auth.tenant-id"),FA=new h.InjectionToken("angularfire2.auth.langugage-code"),LA=new h.InjectionToken("angularfire2.auth.use-device-language"),VA=new h.InjectionToken("angularfire.auth.persistence"),UA=(n,e,t,r,o,u,d,m)=>(0,eu.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,u&&_.useDeviceLanguage(),d)for(const[T,R]of Object.entries(d))_.settings[T]=R;return m&&_.setPersistence(m),_},[t,r,o,u,d,m]);let bI=(()=>{class n{constructor(t,r,o,u,d,m,_,T,R,$,te,Me){const ze=new Yd.x,st=Qt(void 0).pipe((0,aD.Q)(d.outsideAngular),Fi(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Jt.U)(()=>(0,eu.on)(t,u,r)),(0,Jt.U)(It=>UA(It,u,m,T,R,$,_,te)),RA({bufferSize:1,refCount:!1}));if((0,E.isPlatformServer)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qt(null);else{st.pipe(Tc()).subscribe();const zn=st.pipe(Fi(xn=>xn.getRedirectResult().then(In=>In,()=>null)),vt.iC,RA({bufferSize:1,refCount:!1})),mr=st.pipe(Fi(xn=>new aa.y(In=>({unsubscribe:u.runOutsideAngular(()=>xn.onAuthStateChanged(Sn=>In.next(Sn),Sn=>In.error(Sn),()=>In.complete()))})))),vn=st.pipe(Fi(xn=>new aa.y(In=>({unsubscribe:u.runOutsideAngular(()=>xn.onIdTokenChanged(Sn=>In.next(Sn),Sn=>In.error(Sn),()=>In.complete()))}))));this.authState=zn.pipe(OA(mr),(0,Zb.R)(d.outsideAngular),(0,aD.Q)(d.insideAngular)),this.user=zn.pipe(OA(vn),(0,Zb.R)(d.outsideAngular),(0,aD.Q)(d.insideAngular)),this.idToken=this.user.pipe(Fi(xn=>xn?(0,P.D)(xn.getIdToken()):Qt(null))),this.idTokenResult=this.user.pipe(Fi(xn=>xn?(0,P.D)(xn.getIdTokenResult()):Qt(null))),this.credential=(0,gR.T)(zn,ze,this.authState.pipe(Ja(xn=>!xn))).pipe((0,Jt.U)(xn=>xn?.user?xn:null),(0,Zb.R)(d.outsideAngular),(0,aD.Q)(d.insideAngular))}return(0,eu.pX)(this,st,u,{spy:{apply:(It,zn,mr)=>{(It.startsWith("signIn")||It.startsWith("createUser"))&&mr.then(vn=>ze.next(vn))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(eu.Dh),h.\u0275\u0275inject(eu.xv,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(vt.HU),h.\u0275\u0275inject(PA,8),h.\u0275\u0275inject(Qb,8),h.\u0275\u0275inject(kA,8),h.\u0275\u0275inject(FA,8),h.\u0275\u0275inject(LA,8),h.\u0275\u0275inject(VA,8),h.\u0275\u0275inject(Bo,8))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DR=(()=>{class n{constructor(){ER.Z.registerVersion("angularfire",vt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[bI]}),n})();class tu extends Yd.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var CR=L(9672);function jA(...n){const e=(0,Kt.yG)(n),t=(0,Kt.jO)(n),{args:r,keys:o}=it(n);if(0===r.length)return(0,P.D)([],e);const u=new aa.y(function bR(n,e,t=CI.y){return r=>{BA(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let _=0;_<o;_++)BA(e,()=>{const T=(0,P.D)(n[_],e);let R=!1;T.subscribe((0,He.x)(r,$=>{u[_]=$,R||(R=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Ab(o,d):CI.y));return t?u.pipe(Gr(t)):u}function BA(n,e,t){n?(0,CR.f)(t,n,e):e()}var TI=L(8189);function Yb(...n){return function TR(){return(0,TI.J)(1)}()((0,P.D)(n,(0,Kt.yG)(n)))}function $A(n){return new aa.y(e=>{(0,Rt.Xf)(n()).subscribe(e)})}var SR=L(9635);function SI(n,e){const t=(0,Kb.m)(n)?n:()=>n,r=o=>o.error(t());return new aa.y(e?o=>e.schedule(r,0,o):r)}var HA=L(727);function Xb(){return(0,Fs.e)((n,e)=>{let t=null;n._refCount++;const r=(0,He.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class zA extends aa.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fs.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new HA.w0;const t=this.getSubject();e.add(this.source.subscribe((0,He.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=HA.w0.EMPTY)}return e}refCount(){return Xb()(this)}}function cD(...n){const e=(0,Kt.yG)(n);return(0,Fs.e)((t,r)=>{(e?Yb(n,t,e):Yb(n,t)).subscribe(r)})}var Ls=L(5577);function up(n,e){return(0,Kb.m)(e)?(0,Ls.z)(n,e,1):(0,Ls.z)(n,1)}var ys=L(8505);function Jd(n){return(0,Fs.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,He.x)(t,void 0,void 0,d=>{u=(0,Rt.Xf)(n(d,Jd(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function AI(n,e){return(0,Fs.e)(function AR(n,e,t,r,o){return(u,d)=>{let m=t,_=e,T=0;u.subscribe((0,He.x)(d,R=>{const $=T++;_=m?n(_,R,$):(m=!0,R),r&&d.next(_)},o&&(()=>{m&&d.next(_),d.complete()})))}}(n,e,arguments.length>=2,!0))}function Jb(n){return n<=0?()=>Xd.E:(0,Fs.e)((e,t)=>{let r=[];e.subscribe((0,He.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function GA(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ja((o,u)=>n(o,u,r)):CI.y,Jb(1),t?lD(e):NA(()=>new uD))}function eT(n){return(0,Fs.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const wn="primary",MI=Symbol("RouteTitle");class RR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function km(n){return new RR(n)}function NR(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Xu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!WA(n[o],e[o]))return!1;return!0}function WA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function qA(n){return Array.prototype.concat.apply([],n)}function KA(n){return n.length>0?n[n.length-1]:null}function ns(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function eh(n){return(0,h.\u0275isObservable)(n)?n:(0,h.\u0275isPromise)(n)?(0,P.D)(Promise.resolve(n)):Qt(n)}const dD=!1,PR={exact:function YA(n,e,t){if(!lp(n.segments,e.segments)||!hD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!YA(n.children[r],e.children[r],t))return!1;return!0},subset:XA},ZA={exact:function kR(n,e){return Xu(n,e)},subset:function FR(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>WA(n[t],e[t]))},ignored:()=>!0};function QA(n,e,t){return PR[t.paths](n.root,e.root,t.matrixParams)&&ZA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function XA(n,e,t){return JA(n,e,e.segments,t)}function JA(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!lp(o,t)||e.hasChildren()||!hD(o,t,r))}if(n.segments.length===t.length){if(!lp(n.segments,t)||!hD(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!XA(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(lp(n.segments,o)&&hD(n.segments,o,r)&&n.children[wn])&&JA(n.children[wn],e,u,r)}}function hD(n,e,t){return e.every((r,o)=>ZA[t](n[o].parameters,r.parameters))}class th{constructor(e=new kn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return UR.serialize(this)}}class kn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ns(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fD(this)}}class xI{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=km(this.parameters)),this._parameterMap}toString(){return nM(this)}}function lp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let RI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:function(){return new tT},providedIn:"root"}),n})();class tT{parse(e){const t=new KR(e);return new th(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${NI(e.root,!0)}`,r=function $R(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${pD(t)}=${pD(o)}`).join("&"):`${pD(t)}=${pD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function jR(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const UR=new tT;function fD(n){return n.segments.map(e=>nM(e)).join("/")}function NI(n,e){if(!n.hasChildren())return fD(n);if(e){const t=n.children[wn]?NI(n.children[wn],!1):"",r=[];return ns(n.children,(o,u)=>{u!==wn&&r.push(`${u}:${NI(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function VR(n,e){let t=[];return ns(n.children,(r,o)=>{o===wn&&(t=t.concat(e(r,o)))}),ns(n.children,(r,o)=>{o!==wn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===wn?[NI(n.children[wn],!1)]:[`${o}:${NI(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wn]?`${fD(n)}/${t[0]}`:`${fD(n)}/(${t.join("//")})`}}function eM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pD(n){return eM(n).replace(/%3B/gi,";")}function nT(n){return eM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gD(n){return decodeURIComponent(n)}function tM(n){return gD(n.replace(/\+/g,"%20"))}function nM(n){return`${nT(n.path)}${function BR(n){return Object.keys(n).map(e=>`;${nT(e)}=${nT(n[e])}`).join("")}(n.parameters)}`}const HR=/^[^\/()?;=#]+/;function mD(n){const e=n.match(HR);return e?e[0]:""}const zR=/^[^=?&#]+/,WR=/^[^&#]+/;class KR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[wn]=new kn(e,t)),r}parseSegment(){const e=mD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.\u0275RuntimeError(4009,dD);return this.capture(e),new xI(gD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=mD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=mD(this.remaining);o&&(r=o,this.capture(r))}e[gD(t)]=gD(r)}parseQueryParam(e){const t=function GR(n){const e=n.match(zR);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function qR(n){const e=n.match(WR);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=tM(t),u=tM(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mD(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new h.\u0275RuntimeError(4010,dD);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=wn);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[wn]:new kn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.\u0275RuntimeError(4011,dD)}}function rT(n){return n.segments.length>0?new kn([],{[wn]:n}):n}function yD(n){const e={};for(const r of Object.keys(n.children)){const u=yD(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ZR(n){if(1===n.numberOfChildren&&n.children[wn]){const e=n.children[wn];return new kn(n.segments.concat(e.segments),e.children)}return n}(new kn(n.segments,e))}function cp(n){return n instanceof th}const iT=!1;function QR(n,e,t,r,o){if(0===t.length)return Fm(e.root,e.root,e.root,r,o);const u=function aM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oM(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return ns(u.outlets,(_,T)=>{m[T]="string"==typeof _?_.split("/"):_}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new oM(t,e,r)}(t);return u.toRoot()?Fm(e.root,e.root,new kn([],{}),r,o):function d(_){const T=function XR(n,e,t,r){if(n.isAbsolute)return new Lm(e.root,!0,0);if(-1===r)return new Lm(t,t===e.root,0);return function uM(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new h.\u0275RuntimeError(4005,iT&&"Invalid number of '../'");o=r.segments.length}return new Lm(r,!1,o-u)}(t,r+(OI(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),R=T.processChildren?Vm(T.segmentGroup,T.index,u.commands):sT(T.segmentGroup,T.index,u.commands);return Fm(e.root,T.segmentGroup,R,r,o)}(n.snapshot?._lastPathIndex)}function OI(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function PI(n){return"object"==typeof n&&null!=n&&n.outlets}function Fm(n,e,t,r,o){let d,u={};r&&ns(r,(_,T)=>{u[T]=Array.isArray(_)?_.map(R=>`${R}`):`${_}`}),d=n===e?t:sM(n,e,t);const m=rT(yD(d));return new th(m,u,o)}function sM(n,e,t){const r={};return ns(n.children,(o,u)=>{r[u]=o===e?t:sM(o,e,t)}),new kn(n.segments,r)}class oM{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&OI(r[0]))throw new h.\u0275RuntimeError(4003,iT&&"Root segment cannot have matrix parameters");const o=r.find(PI);if(o&&o!==KA(r))throw new h.\u0275RuntimeError(4004,iT&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lm{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function sT(n,e,t){if(n||(n=new kn([],{})),0===n.segments.length&&n.hasChildren())return Vm(n,e,t);const r=function e1(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(PI(m))break;const _=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&T&&"object"==typeof T&&void 0===T.outlets){if(!cM(_,T,d))return u;r+=2}else{if(!cM(_,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new kn(n.segments.slice(0,r.pathIndex),{});return u.children[wn]=new kn(n.segments.slice(r.pathIndex),n.children),Vm(u,0,o)}return r.match&&0===o.length?new kn(n.segments,{}):r.match&&!n.hasChildren()?oT(n,e,t):r.match?Vm(n,0,o):oT(n,e,t)}function Vm(n,e,t){if(0===t.length)return new kn(n.segments,{});{const r=function JR(n){return PI(n[0])?n[0].outlets:{[wn]:n}}(t),o={};return!r[wn]&&n.children[wn]&&1===n.numberOfChildren&&0===n.children[wn].segments.length?Vm(n.children[wn],e,t):(ns(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=sT(n.children[d],e,u))}),ns(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new kn(n.segments,o))}}function oT(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(PI(u)){const _=t1(u.outlets);return new kn(r,_)}if(0===o&&OI(t[0])){r.push(new xI(n.segments[e].path,lM(t[0]))),o++;continue}const d=PI(u)?u.outlets[wn]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&OI(m)?(r.push(new xI(d,lM(m))),o+=2):(r.push(new xI(d,{})),o++)}return new kn(r,{})}function t1(n){const e={};return ns(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=oT(new kn([],{}),0,t))}),e}function lM(n){const e={};return ns(n,(t,r)=>e[r]=`${t}`),e}function cM(n,e,t){return n==t.path&&Xu(e,t.parameters)}const kI="imperative";class Ju{constructor(e,t){this.id=e,this.url=t}}class aT extends Ju{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dp extends Ju{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vD extends Ju{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _D extends Ju{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class uT extends Ju{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n1 extends Ju{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r1 extends Ju{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i1 extends Ju{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s1 extends Ju{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o1 extends Ju{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a1{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class u1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l1{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c1{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d1{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dM{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let g1=(()=>{class n{createUrlTree(t,r,o,u,d,m){return QR(t||r.root,o,u,d,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),y1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:function(e){return g1.\u0275fac(e)},providedIn:"root"}),n})();class hM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=lT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return cT(e,this._root).map(t=>t.value)}}function lT(n,e){if(n===e.value)return e;for(const t of e.children){const r=lT(n,t);if(r)return r}return null}function cT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cT(n,t);if(r.length)return r.unshift(e),r}return[]}class Sc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Um(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fM extends hM{constructor(e,t){super(e),this.snapshot=t,dT(this,e)}toString(){return this.snapshot.toString()}}function pM(n,e){const t=function v1(n,e){const d=new ID([],{},{},"",{},wn,e,null,n.root,-1,{});return new mM("",new Sc(d,[]))}(n,e),r=new tu([new xI("",{})]),o=new tu({}),u=new tu({}),d=new tu({}),m=new tu(""),_=new hp(r,o,d,m,u,wn,e,t.root);return _.snapshot=t.root,new fM(new Sc(_,[]),t)}class hp{constructor(e,t,r,o,u,d,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,Jt.U)(T=>T[MI]))??Qt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Jt.U)(e=>km(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Jt.U)(e=>km(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gM(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function _1(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ID{get title(){return this.data?.[MI]}constructor(e,t,r,o,u,d,m,_,T,R,$){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=_,this._urlSegment=T,this._lastPathIndex=R,this._resolve=$}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=km(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=km(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mM extends hM{constructor(e,t){super(t),this.url=e,dT(this,t)}toString(){return yM(this._root)}}function dT(n,e){e.value._routerState=n,e.children.forEach(t=>dT(n,t))}function yM(n){const e=n.children.length>0?` { ${n.children.map(yM).join(", ")} } `:"";return`${n.value}${e}`}function hT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xu(e.params,t.params)||n.params.next(t.params),function OR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fT(n,e){const t=Xu(n.params,e.params)&&function LR(n,e){return lp(n,e)&&n.every((t,r)=>Xu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fT(n.parent,e.parent))}function FI(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function E1(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return FI(n,r,o);return FI(n,r)})}(n,e,t);return new Sc(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>FI(n,m)),d}}const r=function w1(n){return new hp(new tu(n.url),new tu(n.params),new tu(n.queryParams),new tu(n.fragment),new tu(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>FI(n,u));return new Sc(r,o)}}const pT="ngNavigationCancelingError";function vM(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=_M(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function _M(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function IM(n){return EM(n)&&cp(n.url)}function EM(n){return n&&n[pT]}class D1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new LI,this.attachRef=null}}let LI=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new D1,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ED=!1;let gT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=wn,this.activateEvents=new h.EventEmitter,this.deactivateEvents=new h.EventEmitter,this.attachEvents=new h.EventEmitter,this.detachEvents=new h.EventEmitter,this.parentContexts=(0,h.inject)(LI),this.location=(0,h.inject)(h.ViewContainerRef),this.changeDetector=(0,h.inject)(h.ChangeDetectorRef),this.environmentInjector=(0,h.inject)(h.EnvironmentInjector)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.\u0275RuntimeError(4012,ED);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.\u0275RuntimeError(4012,ED);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.\u0275RuntimeError(4012,ED);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.\u0275RuntimeError(4013,ED);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new C1(t,m,o.injector);if(r&&function b1(n){return!!n.resolveComponentFactory}(r)){const T=r.resolveComponentFactory(d);this.activated=o.createComponent(T,o.length,_)}else this.activated=o.createComponent(d,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.\u0275\u0275NgOnChangesFeature]}),n})();class C1{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hp?this.route:e===LI?this.childContexts:this.parent.get(e,t)}}let mT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(t,r){1&t&&h.\u0275\u0275element(0,"router-outlet")},dependencies:[gT],encapsulation:2}),n})();function wM(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vT(n){const e=n.children&&n.children.map(vT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==wn&&(t.component=mT),t}function ua(n){return n.outlet||wn}function DM(n,e){const t=n.filter(r=>ua(r)===e);return t.push(...n.filter(r=>ua(r)!==e)),t}function VI(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class x1{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Um(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),ns(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Um(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Um(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Um(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new h1(u.value.snapshot))}),e.children.length&&this.forwardEvent(new c1(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(hT(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),hT(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=VI(o.snapshot),_=m?.get(h.ComponentFactoryResolver)??null;d.attachRef=null,d.route=o,d.resolver=_,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class CM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wD{constructor(e,t){this.component=e,this.route=t}}function R1(n,e,t){const r=n._root;return UI(r,e?e._root:null,t,[r.value])}function jm(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.\u0275isInjectable)(n)?e.get(n):n:r}function UI(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Um(e);return n.children.forEach(d=>{(function O1(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const _=function P1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!lp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lp(n.url,e.url)||!Xu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fT(n,e)||!Xu(n.queryParams,e.queryParams);default:return!fT(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new CM(r)):(u.data=d.data,u._resolvedData=d._resolvedData),UI(n,e,u.component?m?m.children:null:t,r,o),_&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new wD(m.outlet.component,d))}else d&&jI(e,m,o),o.canActivateChecks.push(new CM(r)),UI(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),ns(u,(d,m)=>jI(d,t.getContext(m),o)),o}function jI(n,e,t){const r=Um(n),o=n.value;ns(r,(u,d)=>{jI(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new wD(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function BI(n){return"function"==typeof n}function _T(n){return n instanceof uD||"EmptyError"===n?.name}const DD=Symbol("INITIAL_VALUE");function Bm(){return Fi(n=>jA(n.map(e=>e.pipe(DI(1),cD(DD)))).pipe((0,Jt.U)(e=>{for(const t of e)if(!0!==t){if(t===DD)return DD;if(!1===t||t instanceof th)return t}return!0}),Ja(e=>e!==DD),DI(1)))}function bM(n){return(0,SR.z)((0,ys.b)(e=>{if(cp(e))throw vM(0,e)}),(0,Jt.U)(e=>!0===e))}const IT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TM(n,e,t,r,o){const u=ET(n,e,t);return u.matched?function Y1(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?Qt(o.map(d=>{const m=jm(d,n);return eh(function j1(n){return n&&BI(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Bm(),bM()):Qt(!0)}(r=wM(e,r),e,t).pipe((0,Jt.U)(d=>!0===d?u:{...IT})):Qt(u)}function ET(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...IT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||NR)(t,n,e);if(!o)return{...IT};const u={};ns(o.posParams,(m,_)=>{u[_]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function CD(n,e,t,r){if(t.length>0&&function eN(n,e,t){return t.some(r=>bD(n,e,r)&&ua(r)!==wn)}(n,t,r)){const u=new kn(e,function J1(n,e,t,r){const o={};o[wn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ua(u)!==wn){const d=new kn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[ua(u)]=d}return o}(n,e,r,new kn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function tN(n,e,t){return t.some(r=>bD(n,e,r))}(n,t,r)){const u=new kn(n.segments,function X1(n,e,t,r,o){const u={};for(const d of r)if(bD(n,t,d)&&!o[ua(d)]){const m=new kn([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[ua(d)]=m}return{...o,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const o=new kn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function bD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function SM(n,e,t,r){return!!(ua(n)===r||r!==wn&&bD(e,t,n))&&("**"===n.path||ET(e,n,t).matched)}function AM(n,e,t){return 0===e.length&&!n.children[t]}const TD=!1;class SD{constructor(e){this.segmentGroup=e||null}}class MM{constructor(e){this.urlTree=e}}function $I(n){return SI(new SD(n))}function xM(n){return SI(new MM(n))}function nN(n){return SI(new h.\u0275RuntimeError(4e3,TD&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class sN{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=CD(this.urlTree.root,[],[],this.config).segmentGroup,t=new kn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,wn).pipe((0,Jt.U)(u=>this.createUrlTree(yD(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jd(u=>{if(u instanceof MM)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof SD?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,wn).pipe((0,Jt.U)(o=>this.createUrlTree(yD(o),e.queryParams,e.fragment))).pipe(Jd(o=>{throw o instanceof SD?this.noMatchError(o):o}))}noMatchError(e){return new h.\u0275RuntimeError(4002,TD&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=rT(e);return new th(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Jt.U)(u=>new kn([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,P.D)(o).pipe(up(u=>{const d=r.children[u],m=DM(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,Jt.U)(_=>({segment:_,outlet:u})))}),AI((u,d)=>(u[d.outlet]=d.segment,u),{}),GA())}expandSegment(e,t,r,o,u,d){return(0,P.D)(r).pipe(up(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(Jd(T=>{if(T instanceof SD)return Qt(null);throw T}))),Tc(m=>!!m),Jd((m,_)=>{if(_T(m))return AM(t,o,u)?Qt(new kn([],{})):$I(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return SM(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):$I(t):$I(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xM(u):this.lineralizeSegments(r,u).pipe((0,Ls.z)(d=>{const m=new kn(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:_,remainingSegments:T,positionalParamSegments:R}=ET(t,o,u);if(!m)return $I(t);const $=this.applyRedirectCommands(_,o.redirectTo,R);return o.redirectTo.startsWith("/")?xM($):this.lineralizeSegments(o,$).pipe((0,Ls.z)(te=>this.expandSegment(e,t,r,te.concat(T),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=wM(r,e),r.loadChildren?(r._loadedRoutes?Qt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Jt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new kn(o,{})))):Qt(new kn(o,{}))):TM(t,r,o,e).pipe(Fi(({matched:d,consumedSegments:m,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Ls.z)(R=>{const $=R.injector??e,te=R.routes,{segmentGroup:Me,slicedSegments:ze}=CD(t,m,_,te),st=new kn(Me.segments,Me.children);if(0===ze.length&&st.hasChildren())return this.expandChildren($,te,st).pipe((0,Jt.U)(vn=>new kn(m,vn)));if(0===te.length&&0===ze.length)return Qt(new kn(m,{}));const It=ua(r)===u;return this.expandSegment($,st,te,ze,It?wn:u,!0).pipe((0,Jt.U)(mr=>new kn(m.concat(mr.segments),mr.children)))})):$I(t)))}getChildConfig(e,t,r){return t.children?Qt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Q1(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?Qt(!0):Qt(o.map(d=>{const m=jm(d,n);return eh(function F1(n){return n&&BI(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Bm(),bM())}(e,t,r).pipe((0,Ls.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,ys.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function rN(n){return SI(_M(TD&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):Qt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Qt(r);if(o.numberOfChildren>1||!o.children[wn])return nN(e.redirectTo);o=o.children[wn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new th(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ns(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return ns(t.children,(m,_)=>{d[_]=this.createSegmentGroup(e,m,r,o)}),new kn(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new h.\u0275RuntimeError(4001,TD&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class aN{}class cN{constructor(e,t,r,o,u,d,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const e=CD(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,wn).pipe((0,Jt.U)(t=>{if(null===t)return null;const r=new ID([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Sc(r,t),u=new mM(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=gM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,P.D)(Object.keys(r.children)).pipe(up(o=>{const u=r.children[o],d=DM(t,o);return this.processSegmentGroup(e,d,u,o)}),AI((o,u)=>o&&u?(o.push(...u),o):null),function MR(n,e=!1){return(0,Fs.e)((t,r)=>{let o=0;t.subscribe((0,He.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),lD(null),GA(),(0,Jt.U)(o=>{if(null===o)return null;const u=NM(o);return function dN(n){n.sort((e,t)=>e.value.outlet===wn?-1:t.value.outlet===wn?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,P.D)(t).pipe(up(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),Tc(d=>!!d),Jd(d=>{if(_T(d))return AM(r,o,u)?Qt([]):Qt(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!SM(t,r,o,u))return Qt(null);let d;if("**"===t.path){const m=o.length>0?KA(o).parameters:{},_=PM(r)+o.length;d=Qt({snapshot:new ID(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kM(t),ua(t),t.component??t._loadedComponent??null,t,OM(r),_,FM(t)),consumedSegments:[],remainingSegments:[]})}else d=TM(r,t,o,e).pipe((0,Jt.U)(({matched:m,consumedSegments:_,remainingSegments:T,parameters:R})=>{if(!m)return null;const $=PM(r)+_.length;return{snapshot:new ID(_,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kM(t),ua(t),t.component??t._loadedComponent??null,t,OM(r),$,FM(t)),consumedSegments:_,remainingSegments:T}}));return d.pipe(Fi(m=>{if(null===m)return Qt(null);const{snapshot:_,consumedSegments:T,remainingSegments:R}=m;e=t._injector??e;const $=t._loadedInjector??e,te=function hN(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Me,slicedSegments:ze}=CD(r,T,R,te.filter(It=>void 0===It.redirectTo));if(0===ze.length&&Me.hasChildren())return this.processChildren($,te,Me).pipe((0,Jt.U)(It=>null===It?null:[new Sc(_,It)]));if(0===te.length&&0===ze.length)return Qt([new Sc(_,[])]);const st=ua(t)===u;return this.processSegment($,te,Me,ze,st?wn:u).pipe((0,Jt.U)(It=>null===It?null:[new Sc(_,It)]))}))}}function fN(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function NM(n){const e=[],t=new Set;for(const r of n){if(!fN(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=NM(r.children);e.push(new Sc(r.value,o))}return e.filter(r=>!t.has(r))}function OM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function PM(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function kM(n){return n.data||{}}function FM(n){return n.resolve||{}}function LM(n){return"string"==typeof n.title||null===n.title}function wT(n){return Fi(e=>{const t=n(e);return t?(0,P.D)(t).pipe((0,Jt.U)(()=>e)):Qt(e)})}const $m=new h.InjectionToken("ROUTES");let DT=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=eh(t.loadComponent()).pipe((0,Jt.U)(UM),(0,ys.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),eT(()=>{this.componentLoaders.delete(t)})),o=new zA(r,()=>new Yd.x).pipe(Xb());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Jt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,T,R=!1;Array.isArray(m)?T=m:(_=m.create(t).injector,T=qA(_.get($m,[],h.InjectFlags.Self|h.InjectFlags.Optional)));return{routes:T.map(vT),injector:_}}),eT(()=>{this.childrenLoaders.delete(r)})),d=new zA(u,()=>new Yd.x).pipe(Xb());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return eh(t()).pipe((0,Jt.U)(UM),(0,Ls.z)(o=>o instanceof h.NgModuleFactory||Array.isArray(o)?Qt(o):(0,P.D)(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(h.Injector),h.\u0275\u0275inject(h.Compiler))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UM(n){return function wN(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let MD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yd.x,this.configLoader=(0,h.inject)(DT),this.environmentInjector=(0,h.inject)(h.EnvironmentInjector),this.urlSerializer=(0,h.inject)(RI),this.rootContexts=(0,h.inject)(LI),this.navigationId=0,this.afterPreactivation=()=>Qt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new u1(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new a1(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new tu({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kI,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ja(r=>0!==r.id),(0,Jt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Fi(r=>{let o=!1,u=!1;return Qt(r).pipe((0,ys.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fi(d=>{const m=t.browserUrlTree.toString(),_=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const R="";return this.events.next(new _D(d.id,t.serializeUrl(r.rawUrl),R,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Xd.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return jM(d.source)&&(t.browserUrlTree=d.extractedUrl),Qt(d).pipe(Fi(R=>{const $=this.transitions?.getValue();return this.events.next(new aT(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),$!==this.transitions?.getValue()?Xd.E:Promise.resolve(R)}),function oN(n,e,t,r){return Fi(o=>function iN(n,e,t,r,o){return new sN(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Jt.U)(u=>({...o,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ys.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},r.urlAfterRedirects=R.urlAfterRedirects}),function gN(n,e,t,r,o){return(0,Ls.z)(u=>function lN(n,e,t,r,o,u,d="emptyOnly"){return new cN(n,e,t,r,o,d,u).recognize().pipe(Fi(m=>null===m?function uN(n){return new aa.y(e=>e.error(n))}(new aN):Qt(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,o).pipe((0,Jt.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ys.b)(R=>{if(r.targetSnapshot=R.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!R.extras.skipLocationChange){const te=t.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);t.setBrowserUrl(te,R)}t.browserUrlTree=R.urlAfterRedirects}const $=new n1(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next($)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:R,extractedUrl:$,source:te,restoredState:Me,extras:ze}=d,st=new aT(R,this.urlSerializer.serialize($),te,Me);this.events.next(st);const It=pM($,this.rootComponentType).snapshot;return Qt(r={...d,targetSnapshot:It,urlAfterRedirects:$,extras:{...ze,skipLocationChange:!1,replaceUrl:!1}})}{const R="";return this.events.next(new _D(d.id,t.serializeUrl(r.extractedUrl),R,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Xd.E}}),(0,ys.b)(d=>{const m=new r1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,Jt.U)(d=>r={...d,guards:R1(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function $1(n,e){return(0,Ls.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Qt({...t,guardsResult:!0}):function H1(n,e,t,r){return(0,P.D)(n).pipe((0,Ls.z)(o=>function Z1(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Qt(u.map(m=>{const _=VI(e)??o,T=jm(m,_);return eh(function U1(n){return n&&BI(n.canDeactivate)}(T)?T.canDeactivate(n,e,t,r):_.runInContext(()=>T(n,e,t,r))).pipe(Tc())})).pipe(Bm()):Qt(!0)}(o.component,o.route,t,e,r)),Tc(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Ls.z)(m=>m&&function k1(n){return"boolean"==typeof n}(m)?function z1(n,e,t,r){return(0,P.D)(e).pipe(up(o=>Yb(function W1(n,e){return null!==n&&e&&e(new l1(n)),Qt(!0)}(o.route.parent,r),function G1(n,e){return null!==n&&e&&e(new d1(n)),Qt(!0)}(o.route,r),function K1(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function N1(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>$A(()=>Qt(d.guards.map(_=>{const T=VI(d.node)??t,R=jm(_,T);return eh(function V1(n){return n&&BI(n.canActivateChild)}(R)?R.canActivateChild(r,n):T.runInContext(()=>R(r,n))).pipe(Tc())})).pipe(Bm())));return Qt(u).pipe(Bm())}(n,o.path,t),function q1(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qt(!0);const o=r.map(u=>$A(()=>{const d=VI(e)??t,m=jm(u,d);return eh(function L1(n){return n&&BI(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Tc())}));return Qt(o).pipe(Bm())}(n,o.route,t))),Tc(o=>!0!==o,!0))}(r,u,n,e):Qt(m)),(0,Jt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,ys.b)(d=>{if(r.guardsResult=d.guardsResult,cp(d.guardsResult))throw vM(0,d.guardsResult);const m=new i1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Ja(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),wT(d=>{if(d.guards.canActivateChecks.length)return Qt(d).pipe((0,ys.b)(m=>{const _=new s1(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),Fi(m=>{let _=!1;return Qt(m).pipe(function mN(n,e){return(0,Ls.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Qt(t);let u=0;return(0,P.D)(o).pipe(up(d=>function yN(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!LM(o)&&(u[MI]=o.title),function vN(n,e,t,r){const o=function _N(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Qt({});const u={};return(0,P.D)(o).pipe((0,Ls.z)(d=>function IN(n,e,t,r){const o=VI(e)??r,u=jm(n,o);return eh(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(Tc(),(0,ys.b)(m=>{u[d]=m}))),Jb(1),function xR(n){return(0,Jt.U)(()=>n)}(u),Jd(d=>_T(d)?Xd.E:SI(d)))}(u,n,e,r).pipe((0,Jt.U)(d=>(n._resolvedData=d,n.data=gM(n,t).resolve,o&&LM(o)&&(n.data[MI]=o.title),null)))}(d.route,r,n,e)),(0,ys.b)(()=>u++),Jb(1),(0,Ls.z)(d=>u===o.length?Qt(t):Xd.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ys.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,ys.b)(m=>{const _=new o1(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),wT(d=>{const m=_=>{const T=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,ys.b)(R=>{_.component=R}),(0,Jt.U)(()=>{})));for(const R of _.children)T.push(...m(R));return T};return jA(m(d.targetSnapshot.root)).pipe(lD(),DI(1))}),wT(()=>this.afterPreactivation()),(0,Jt.U)(d=>{const m=function I1(n,e,t){const r=FI(n,e._root,t?t._root:void 0);return new fM(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,ys.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Jt.U)(r=>(new x1(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),(0,ys.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new dp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),eT(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Jd(d=>{if(u=!0,EM(d)){IM(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new vD(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),IM(d)){const _=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||jM(r.source)};t.scheduleNavigation(_,kI,null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new uT(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(_){r.reject(_)}}return Xd.E}))}))}cancelNavigationTransition(t,r,o){const u=new vD(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jM(n){return n!==kI}let BM=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===wn);return r}getResolvedTitleForRoute(t){return t.data[MI]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,h.inject)(DN)},providedIn:"root"}),n})(),DN=(()=>{class n extends BM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(St))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,h.inject)(TN)},providedIn:"root"}),n})();class bN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TN=(()=>{class n extends bN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xD=new h.InjectionToken("",{providedIn:"root",factory:()=>({})});let AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,h.inject)(MN)},providedIn:"root"}),n})(),MN=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xN(n){throw n}function RN(n,e,t){return e.parse("/")}const NN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ON={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.inject)(h.\u0275Console),this.isNgZoneEnabled=!1,this.options=(0,h.inject)(xD,{optional:!0})||{},this.errorHandler=this.options.errorHandler||xN,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RN,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.inject)(AN),this.routeReuseStrategy=(0,h.inject)(CN),this.urlCreationStrategy=(0,h.inject)(y1),this.titleStrategy=(0,h.inject)(BM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=qA((0,h.inject)($m,{optional:!0})??[]),this.navigationTransitions=(0,h.inject)(MD),this.urlSerializer=(0,h.inject)(RI),this.location=(0,h.inject)(E.Location),this.isNgZoneEnabled=(0,h.inject)(h.NgZone)instanceof h.NgZone&&h.NgZone.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new th,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pM(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kI,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(vT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:_}=r,T=_?this.currentUrlTree.fragment:d;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...u};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,R,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=cp(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,kI,null,r)}navigate(t,r={skipLocationChange:!1}){return function PN(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...NN}:!1===r?{...ON}:r,cp(t))return QA(this.currentUrlTree,t,o);const u=this.parseUrl(t);return QA(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,_,T,R;return d?(m=d.resolve,_=d.reject,T=d.promise):T=new Promise(($,te)=>{m=$,_=te}),R="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:R,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:_,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch($=>Promise.reject($))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fp=(()=>{class n{constructor(t,r,o,u,d,m){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Yd.x;const _=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(T=>{T instanceof dp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.\u0275\u0275sanitizeUrlOrResourceUrl)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(hp),h.\u0275\u0275injectAttribute("tabindex"),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(E.LocationStrategy))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.\u0275\u0275listener("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.\u0275\u0275attribute("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.\u0275\u0275NgOnChangesFeature]}),n})(),$M=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,o,u,d){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=d,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.EventEmitter,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof dp&&this.update()})}ngAfterContentInit(){Qt(this.links.changes,Qt(null)).pipe((0,TI.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,P.D)(t).pipe((0,TI.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function kN(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(fp,8))},n.\u0275dir=h.\u0275\u0275defineDirective({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&h.\u0275\u0275contentQuery(o,fp,5),2&t){let u;h.\u0275\u0275queryRefresh(u=h.\u0275\u0275loadQuery())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.\u0275\u0275NgOnChangesFeature]}),n})();class HM{}let FN=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Ja(t=>t instanceof dp),up(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.createEnvironmentInjector)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,P.D)(o).pipe((0,TI.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qt(null);const u=o.pipe((0,Ls.z)(d=>null===d?Qt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,P.D)([u,d]).pipe((0,TI.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Ti),h.\u0275\u0275inject(h.Compiler),h.\u0275\u0275inject(h.EnvironmentInjector),h.\u0275\u0275inject(HM),h.\u0275\u0275inject(DT))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bT=new h.InjectionToken("");let zM=(()=>{class n{constructor(t,r,o,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof aT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof dp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.\u0275\u0275invalidFactory()},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var Oo=(()=>((Oo=Oo||{})[Oo.COMPLETE=0]="COMPLETE",Oo[Oo.FAILED=1]="FAILED",Oo[Oo.REDIRECTING=2]="REDIRECTING",Oo))();const Hm=!1;function nh(n,e){return{\u0275kind:n,\u0275providers:e}}const TT=new h.InjectionToken("",{providedIn:"root",factory:()=>!1});function WM(){const n=(0,h.inject)(h.Injector);return e=>{const t=n.get(h.ApplicationRef);if(e!==t.components[0])return;const r=n.get(Ti),o=n.get(qM);1===n.get(ST)&&r.initialNavigation(),n.get(KM,null,h.InjectFlags.Optional)?.setUpPreloading(),n.get(bT,null,h.InjectFlags.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const qM=new h.InjectionToken(Hm?"bootstrap done indicator":"",{factory:()=>new Yd.x}),ST=new h.InjectionToken(Hm?"initial navigation":"",{providedIn:"root",factory:()=>1});function BN(){let n=[];return n=Hm?[{provide:h.ENVIRONMENT_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,h.inject)(Ti);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function f1(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],nh(1,n)}const KM=new h.InjectionToken(Hm?"router preloader":"");function $N(n){return nh(0,[{provide:KM,useExisting:FN},{provide:HM,useExisting:n}])}const HI=!1,ZM=new h.InjectionToken(HI?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),HN=[E.Location,{provide:RI,useClass:tT},Ti,LI,{provide:hp,useFactory:function GM(n){return n.routerState.root},deps:[Ti]},DT,HI?{provide:TT,useValue:!0}:[]];function zN(){return new h.NgProbeToken("Router",Ti)}let QM=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[HN,HI&&r?.enableTracing?BN().\u0275providers:[],{provide:$m,multi:!0,useValue:t},{provide:ZM,useFactory:KN,deps:[[Ti,new h.Optional,new h.SkipSelf]]},{provide:xD,useValue:r||{}},r?.useHash?{provide:E.LocationStrategy,useClass:E.HashLocationStrategy}:{provide:E.LocationStrategy,useClass:E.PathLocationStrategy},{provide:bT,useFactory:()=>{const n=(0,h.inject)(E.ViewportScroller),e=(0,h.inject)(h.NgZone),t=(0,h.inject)(xD),r=(0,h.inject)(MD),o=(0,h.inject)(RI);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zM(o,r,n,e,t)}},r?.preloadingStrategy?$N(r.preloadingStrategy).\u0275providers:[],{provide:h.NgProbeToken,multi:!0,useFactory:zN},r?.initialNavigation?ZN(r):[],[{provide:YM,useFactory:WM},{provide:h.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:YM}]]}}static forChild(t){return{ngModule:n,providers:[{provide:$m,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(ZM,8))},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[mT]}),n})();function KN(n){if(HI&&n)throw new h.\u0275RuntimeError(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ZN(n){return["disabled"===n.initialNavigation?nh(3,[{provide:h.APP_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,h.inject)(Ti);return()=>{e.setUpLocationChangeListener()}}},{provide:ST,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?nh(2,[{provide:ST,useValue:0},{provide:h.APP_INITIALIZER,multi:!0,deps:[h.Injector],useFactory:e=>{const t=e.get(E.LOCATION_INITIALIZED,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Ti),u=e.get(qM);(function LN(n,e){n.events.pipe(Ja(t=>t instanceof dp||t instanceof vD||t instanceof uT||t instanceof _D),(0,Jt.U)(t=>t instanceof dp||t instanceof _D?Oo.COMPLETE:t instanceof vD&&(0===t.code||1===t.code)?Oo.REDIRECTING:Oo.FAILED),Ja(t=>t!==Oo.REDIRECTING),DI(1)).subscribe(()=>{e()})})(o,()=>{r(!0)}),e.get(MD).afterPreactivation=()=>(r(!0),u.closed?Qt(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const YM=new h.InjectionToken(HI?"Router Initializer":"");var YN=L(4986);function AT(){return(0,Fs.e)((n,e)=>{let t,r=!1;n.subscribe((0,He.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function JN(n,e){return n===e}L(9568);var eO=L(3942);function MT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ye("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function XM(){if(typeof Uint8Array>"u")throw new Ye("unimplemented","Uint8Arrays are not available in this environment.")}function JM(){if(!function QD(){return typeof atob<"u"}())throw new Ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}class zI{constructor(e){this._delegate=e}static fromBase64String(e){return JM(),new zI(ia.fromBase64String(e))}static fromUint8Array(e){return XM(),new zI(ia.fromUint8Array(e))}toBase64(){return JM(),this._delegate.toBase64()}toUint8Array(){return XM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xT(n){return function rO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class iO{enableIndexedDbPersistence(e,t){return function KC(n,e){z_(n=Mn(n,Sr));const t=jn(n),r=n._freezeSettings(),o=new sm;return fw(t,o,new x_(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ZC(n){z_(n=Mn(n,Sr));const e=jn(n),t=n._freezeSettings(),r=new sm;return fw(e,r,new ew(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function KT(n){if(n._initialized&&!n._terminated)throw new Ye(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new oi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{yield(t=(0,ie.Z)(function*(r){if(!hs.C())return Promise.resolve();const o=r+"main";yield hs.delete(o)}),function(r){return t.apply(this,arguments)})(Tg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ex{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Na||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){lw(this._delegate,e,t,r)}enableNetwork(){return function $_(n){return function zC(n){return n.asyncQueue.enqueue((0,ie.Z)(function*(){const e=yield k_(n),t=yield lm(n);return e.setNetworkEnabled(!0),function(r){const o=_t(r);return o.mu.delete(0),Tf(o)}(t)}))}(jn(n=Mn(n,Sr)))}(this._delegate)}disableNetwork(){return function zf(n){return function cm(n){return n.asyncQueue.enqueue((0,ie.Z)(function*(){const e=yield k_(n),t=yield lm(n);return e.setNetworkEnabled(!1),(r=(0,ie.Z)(function*(o){const u=_t(o);u.mu.add(0),yield Fd(u),u.pu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(jn(n=Mn(n,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,F_("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pw(n){return function(e){const t=new oi;return e.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function E_(n,e){return w_.apply(this,arguments)}(yield pc(e),t)})),t.promise}(jn(n=Mn(n,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function Nw(n,e){return function dm(n,e){const t=new Vf(e);return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return r=yield qu(n),o=t,_t(r).vu.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return r=yield qu(n),o=t,void _t(r).vu.delete(o);var r,o}))}}(jn(n=Mn(n,Sr)),B_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zm(this,mm(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,Qa(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function U_(n,e){if(n=Mn(n,gc),fm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ye(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bi(n,null,(t=e,new Os(Un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lI(n,e,t){n=Mn(n,Sr);const r=Object.assign(Object.assign({},aI),t);return function(o){if(o.maxAttempts<1)throw new Ye(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new oi;return o.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){const _=yield function sw(n){return jf(n).then(e=>e.datastore)}(o);new nw(o.asyncQueue,_,d,u,m).run()})),m.promise}(jn(n),o=>e(new uI(n,o)),r)}(this._delegate,t=>e(new tx(this,t)))}batch(){return jn(this._delegate),new nx(new oa(this._delegate,e=>bc(this._delegate,e)))}loadBundle(e){return function H_(n,e){const t=jn(n=Mn(n,Sr)),r=new dw;return function hm(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,_=function(_,T){if(_ instanceof Uint8Array)return R_(_,T);if(_ instanceof ArrayBuffer)return R_(new Uint8Array(_),T);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new tw(_,d);var _}(t,Gu(e));n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){!function JE(n,e,t){const r=_t(n);var o;(o=(0,ie.Z)(function*(u,d,m){try{const _=yield d.getMetadata();if(yield function(te,Me){const ze=_t(te),st=Xr(Me.createTime);return ze.persistence.runTransaction("hasNewerBundle","readonly",It=>ze.$s.getBundleMetadata(It,Me.id)).then(It=>!!It&&It.createTime.compareTo(st)>=0)}(u.localStore,_))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(te=_).totalDocuments,bytesLoaded:te.totalBytes,totalDocuments:te.totalDocuments,totalBytes:te.totalBytes}),Promise.resolve(new Set);m._updateProgress(HE(_));const T=new f_(_,u.localStore,d.Tt);let R=yield d.yc();for(;R;){const te=yield T.Bu(R);te&&m._updateProgress(te),R=yield d.yc()}const $=yield T.complete();return yield Za(u,$.Uu,void 0),yield function(te,Me){const ze=_t(te);return ze.persistence.runTransaction("Save bundle","readwrite",st=>ze.$s.saveBundleMetadata(st,Me))}(u.localStore,_),m._completeWith($.progress),Promise.resolve($.qu)}catch(_){return gr("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_),Promise.resolve(new Set)}var te}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield pc(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function gw(n,e){return function WC(n,e){return n.asyncQueue.enqueue((0,ie.Z)(function*(){return function(t,r){const o=_t(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.$s.getNamedQuery(u,r))}(yield Bf(n),e)}))}(jn(n=Mn(n,Sr)),e).then(t=>t?new bi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class RD extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zI(new ia(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class tx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}get(e){const t=gp(e);return this._delegate.get(t).then(r=>new GI(this._firestore,new sa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=gp(e);return r?(MT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=gp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=gp(e);return this._delegate.delete(t),this}}class nx{constructor(e){this._delegate=e}set(e,t,r){const o=gp(e);return r?(MT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=gp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=gp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Wd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new WI(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=pp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new pp(e,new RD(e),t),o.set(t,u)),u}}pp.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new Tr(t._delegate,r,new yt(e)))}static forKey(e,t,r){return new la(t,new Tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new zm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zm(this.firestore,mm(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,dn.m9)(e))instanceof Tr&&j_(this._delegate,e)}set(e,t){t=MT("DocumentReference.set",t);try{return t?Rw(this._delegate,e,t):Rw(this._delegate,e)}catch(r){throw Vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Yf(this._delegate,e):Yf(this._delegate,e,t,...r)}catch(o){throw Vs(o,"updateDoc()","DocumentReference.update()")}}delete(){return iI(this._delegate)}onSnapshot(...e){const t=rx(e),r=ix(e,o=>new GI(this.firestore,new sa(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return bm(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function tS(n){n=Mn(n,Tr);const e=Mn(n.firestore,Sr),t=jn(e),r=new Qu(e);return function $f(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(r=(0,ie.Z)(function*(o,u,d){try{const m=yield function(_,T){const R=_t(_);return R.persistence.runTransaction("read document","readonly",$=>R.localDocuments.getDocument($,T))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ye(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=Vd(m,`Failed to get document '${u} from cache`);d.reject(_)}}),function(o,u,d){return r.apply(this,arguments)})(yield Bf(n),e,t);var r})),t.promise}(t,n._key).then(o=>new sa(e,r,n._key,o,new Cc(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function co(n){n=Mn(n,Tr);const e=Mn(n.firestore,Sr);return ow(jn(e),n._key,{source:"server"}).then(t=>oI(e,n,t))}(this._delegate):Cm(this._delegate),t.then(r=>new GI(this.firestore,new sa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?pp.getInstance(this.firestore,e):null))}}function Vs(n,e,t){return n.message=n.message.replace(e,t),n}function rx(n){for(const e of n)if("object"==typeof e&&!xT(e))return e;return{}}function ix(n,e){var t,r;let o;return o=xT(n[0])?n[0]:xT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class GI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xw(this._delegate,e._delegate)}}class WI extends GI{data(e){const t=this._delegate.data(e);return function Dy(n,e){n||At()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}where(e,t,r){try{return new Us(this.firestore,Ya(this._delegate,function eb(n,e,t){const r=e,o=Im("where",n);return Zf._create(o,r,t)}(e,t,r)))}catch(o){throw Vs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,Ya(this._delegate,function tb(n,e="asc"){const t=e,r=Im("orderBy",n);return eI._create(r,t)}(e,t)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,Ya(this._delegate,function JT(n){return V_("limit",n),wc._create("limit",n,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,Ya(this._delegate,function Ew(n){return V_("limitToLast",n),wc._create("limitToLast",n,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,Ya(this._delegate,function ww(...n){return Dc._create("startAt",n,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,Ya(this._delegate,function Dw(...n){return Dc._create("startAfter",n,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,Ya(this._delegate,function tI(...n){return wm._create("endBefore",n,!1)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,Ya(this._delegate,function Cw(...n){return wm._create("endAt",n,!0)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return ym(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function rI(n){n=Mn(n,bi);const e=Mn(n.firestore,Sr),t=jn(e),r=new Qu(e);return function GC(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(r=(0,ie.Z)(function*(o,u,d){try{const m=yield kd(o,u,!0),_=new GE(u,m.Yi),T=_.Hu(m.documents),R=_.applyChanges(T,!1);d.resolve(R.snapshot)}catch(m){const _=Vd(m,`Failed to execute query '${u} against cache`);d.reject(_)}}),function(o,u,d){return r.apply(this,arguments)})(yield Bf(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Zu(e,r,n,o))}(this._delegate):"server"===e?.source?function ab(n){n=Mn(n,bi);const e=Mn(n.firestore,Sr),t=jn(e),r=new Qu(e);return aw(t,n._query,{source:"server"}).then(o=>new Zu(e,r,n,o))}(this._delegate):function ob(n){n=Mn(n,bi);const e=Mn(n.firestore,Sr),t=jn(e),r=new Qu(e);return Iw(n._query),aw(t,n._query).then(o=>new Zu(e,r,n,o))}(this._delegate),t.then(r=>new RT(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=rx(e),r=ix(e,o=>new RT(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return bm(this._delegate,t,r)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?pp.getInstance(this.firestore,e):null))}}class oO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new WI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new WI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new oO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new WI(this._firestore,r))})}isEqual(e){return xw(this._delegate,e._delegate)}}class zm extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?Qa(this._delegate):Qa(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return sI(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return j_(this._delegate,e._delegate)}withConverter(e){return new zm(this.firestore,this._delegate.withConverter(e?pp.getInstance(this.firestore,e):null))}}function gp(n){return Mn(n,Tr)}class NT{constructor(...e){this._delegate=new No(...e)}static documentId(){return new NT(cr.keyField().canonicalString())}isEqual(e){return(e=(0,dn.m9)(e))instanceof No&&this._delegate._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kw(){return new K_("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new mp(e)}static delete(){const e=function Pw(){return new Ic("deleteField")}();return e._methodName="FieldValue.delete",new mp(e)}static arrayUnion(...e){const t=function nS(...n){return new QT("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mp(t)}static arrayRemove(...e){const t=function Fw(...n){return new XC("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mp(t)}static increment(e){const t=function lb(n){return new JC("increment",n)}(e);return t._methodName="FieldValue.increment",new mp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const aO={Firestore:ex,GeoPoint:yc,Timestamp:_r,Blob:zI,Transaction:tx,WriteBatch:nx,DocumentReference:la,DocumentSnapshot:GI,Query:Us,QueryDocumentSnapshot:WI,QuerySnapshot:RT,CollectionReference:zm,FieldPath:NT,FieldValue:mp,setLogLevel:function sO(n){!function y0(n){Ra.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function sx(n,e){return function cO(n,e=YN.z){return new aa.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function OT(n,e){return sx(n,e).pipe((0,Jt.U)(t=>({payload:t,type:"query"})))}function ND(n,e){return OT(n,e).pipe(cD(void 0),AT(),(0,Jt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const _=o.find(R=>R.doc.ref.isEqual(d.ref)),T=t?.payload.docs.find(R=>R.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&T&&JSON.stringify(T.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function ox(n,e,t){return ND(n,t).pipe(AI((r,o)=>function hO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function fO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return PT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return PT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return PT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function XN(n,e=CI.y){return n=n??JN,(0,Fs.e)((t,r)=>{let o,u=!0;t.subscribe((0,He.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,Jt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function PT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function ax(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function lO(n){(function uO(n,e){n.INTERNAL.registerComponent(new Mr.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},aO)))})(n,(e,t)=>new ex(e,t,new iO)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(eO.Z);class ux{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ND(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Jt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(cD(void 0),AT(),Ja(([r,o])=>o.length>0||!r),(0,Jt.U)(([r,o])=>o),vt.iC)}auditTrail(e){return this.stateChanges(e).pipe(AI((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ax(e);return ox(this.query,t,this.afs.schedulers.outsideAngular).pipe(vt.iC)}valueChanges(e={}){return OT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),vt.iC)}get(e){return(0,P.D)(this.query.get(e)).pipe(vt.iC)}add(e){return this.ref.add(e)}doc(e){return new lx(this.ref.doc(e),this.afs)}}class lx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=cx(r,t);return new ux(o,u,this.afs)}snapshotChanges(){return function dO(n,e){return sx(n,e).pipe(cD(void 0),AT(),(0,Jt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Jt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,P.D)(this.ref.get(e)).pipe(vt.iC)}}class pO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ND(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ja(t=>t.length>0),vt.iC):ND(this.query,this.afs.schedulers.outsideAngular).pipe(vt.iC)}auditTrail(e){return this.stateChanges(e).pipe(AI((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ax(e);return ox(this.query,t,this.afs.schedulers.outsideAngular).pipe(vt.iC)}valueChanges(e={}){return OT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Jt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),vt.iC)}get(e){return(0,P.D)(this.query.get(e)).pipe(vt.iC)}}const gO=new h.InjectionToken("angularfire2.enableFirestorePersistence"),mO=new h.InjectionToken("angularfire2.firestore.persistenceSettings"),yO=new h.InjectionToken("angularfire2.firestore.settings"),vO=new h.InjectionToken("angularfire2.firestore.use-emulator");function cx(n,e=(t=>t)){return{query:e(n),ref:n}}let _O=(()=>{class n{constructor(t,r,o,u,d,m,_,T,R,$,te,Me,ze,st,It,zn,mr){this.schedulers=_;const vn=(0,eu.on)(t,m,r),xn=R;$&&UA(vn,m,te,ze,st,It,Me,zn),[this.firestore,this.persistenceEnabled$]=(0,eu.cc)(`${vn.name}.firestore`,"AngularFirestore",vn.name,()=>{const In=m.runOutsideAngular(()=>vn.firestore());if(u&&In.settings(u),xn&&In.useEmulator(...xn),o&&!(0,E.isPlatformServer)(d)){const Sn=()=>{try{return(0,P.D)(In.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Li){return typeof console<"u"&&console.warn(Li),Qt(!1)}};return[In,m.runOutsideAngular(Sn)]}return[In,Qt(!1)]},[u,xn,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=cx(o,r),m=this.schedulers.ngZone.run(()=>u);return new ux(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new pO(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new lx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(eu.Dh),h.\u0275\u0275inject(eu.xv,8),h.\u0275\u0275inject(gO,8),h.\u0275\u0275inject(yO,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(vt.HU),h.\u0275\u0275inject(mO,8),h.\u0275\u0275inject(vO,8),h.\u0275\u0275inject(bI,8),h.\u0275\u0275inject(PA,8),h.\u0275\u0275inject(Qb,8),h.\u0275\u0275inject(kA,8),h.\u0275\u0275inject(FA,8),h.\u0275\u0275inject(LA,8),h.\u0275\u0275inject(VA,8),h.\u0275\u0275inject(Bo,8))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kT=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfig(){return this.configDoc=this.db.doc(`configs/ ${this.id}`),this.config=this.configDoc.valueChanges(),this.config}modifyConfig(t){this.configDoc=this.db.doc(`configs/${this.id}`),this.configDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(_O))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),IO=(()=>{class n{constructor(t,r){this.router=t,this.configService=r,this.allowRegister=!1}ngOnInit(){this.configService.getConfig().subscribe(t=>{this.allowRegister=t.allowRegister})}save(){this.configService.modifyConfig({allowRegister:this.allowRegister}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(kT))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-configuracion"]],decls:33,vars:3,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","bg-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block",3,"click"],[1,"fas","fa-check"],["id","configuracion"],[1,"col"],[1,"card"],[1,"card-header"],[1,"form-group"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","allowRegister",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6," Configuracion "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(7,"section",5)(8,"div",1)(9,"div",2)(10,"div",6)(11,"a",7),h.\u0275\u0275element(12,"i",8),h.\u0275\u0275text(13,"Regresar al Inicio "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(14,"div",6)(15,"button",9),h.\u0275\u0275listener("click",function(){return r.save()}),h.\u0275\u0275element(16,"i",10),h.\u0275\u0275text(17,"Guardar Cambios "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(18,"section",11)(19,"div",1)(20,"div",2)(21,"div",12)(22,"div",13)(23,"div",14)(24,"h4"),h.\u0275\u0275text(25,"Editar Configuracion"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(26,"fieldset",15)(27,"legend"),h.\u0275\u0275text(28,"Permitir registro de usuarios"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(29,"div",16)(30,"label",17)(31,"input",18),h.\u0275\u0275listener("ngModelChange",function(u){return r.allowRegister=u}),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(32),h.\u0275\u0275elementEnd()()()()()()()()),2&t&&(h.\u0275\u0275advance(31),h.\u0275\u0275property("ngModel",r.allowRegister)("checked",r.allowRegister),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",r.allowRegister?"Si":"No"," "))},dependencies:[fp,Mb,Nm,sp]}),n})(),FT=(()=>{class n{constructor(t){this.firestore=t,this.selection="";const r=mI(this.firestore,"clients");this.cliente$=Rm(r)}getClients(){let t=mI(this.firestore,"clients");return Rm(t,{idField:"id"})}addClient(t){return t.id=Qa(mI(this.firestore,"id")).id,sI(mI(this.firestore,"clients"),t)}getClient(t){return(0,ie.Z)(function*(){const o=Qa(Hf(),"clients",t),u=yield Cm(o);return console.log(u.data()),u.data()})()}modifyClient(t){return(0,ie.Z)(function*(){const o=Qa(Hf(),"clients",t.id);return(0,P.D)(y(o,{...t}))})()}deleteClient(t){return(0,ie.Z)(function*(){const o=Qa(Hf(),"clients",t.id);Gw(o).then(u=>{console.log("deleted",u)}).catch(u=>{console.error(`error ${u}`)})})()}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(Jf))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var el=L(3241);const OD=function(n){return{"is-invalid":n}};let EO=(()=>{class n{constructor(t,r,o,u){this.clientService=t,this.flashMessages=r,this.router=o,this.route=u,this.client={name:"",surname:"",email:"",balance:0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).then(t=>{this.client=t}).catch(t=>{console.log(t)})}saveClient({value:t,valid:r}){r?(t.id=this.id,this.clientService.modifyClient(t).then(o=>{this.client=o}).catch(o=>console.log("Error en el mod",o)),this.router.navigate(["/"])):this.flashMessages.show("Por Favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}deleteClient(t){var r=this;return(0,ie.Z)(function*(){confirm("Desea eliminar el cliente")&&(yield r.clientService.deleteClient(t).then(o=>{r.client=o}).catch(o=>{console.error(`err ${o}`)}),r.router.navigate(["/"]))})()}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(FT),h.\u0275\u0275directiveInject(el.GQ),h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(hp))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-editar-clientes"]],decls:68,vars:23,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],[3,"ngSubmit"],["clientForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fa","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fa","fa-trash"],["id","details"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","nombre"],["type","text","name","name","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","surname","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["surname","ngModel"],["for","email"],["type","email","name","email","pattern","^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["for","saldo"],["type","number","name","balance","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["balance","ngModel"]],template:function(t,r){if(1&t){const o=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Editar Cliente "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(7,"form",5,6),h.\u0275\u0275listener("ngSubmit",function(){h.\u0275\u0275restoreView(o);const d=h.\u0275\u0275reference(8);return h.\u0275\u0275resetView(r.saveClient(d))}),h.\u0275\u0275element(9,"flash-messages"),h.\u0275\u0275elementStart(10,"section",7)(11,"div",1)(12,"div",2)(13,"div",8)(14,"a",9),h.\u0275\u0275element(15,"i",10),h.\u0275\u0275text(16,"Regresar a inicio "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(17,"div",8)(18,"button",11),h.\u0275\u0275element(19,"i",12),h.\u0275\u0275text(20," Guardar Cliente "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(21,"div",8)(22,"a",13),h.\u0275\u0275listener("click",function(){return r.deleteClient(r.client)}),h.\u0275\u0275element(23,"i",14),h.\u0275\u0275text(24,"Eliminar Cliente "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(25,"section",15)(26,"div",1)(27,"div",2)(28,"div",16)(29,"div",17)(30,"div",18)(31,"h4"),h.\u0275\u0275text(32,"Editar Cliente"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(33,"div",19)(34,"div",20)(35,"label",21),h.\u0275\u0275text(36,"Nombre"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(37,"input",22,23),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.name=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(39,"div",24),h.\u0275\u0275text(40," Nombre Requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(41,"div",24),h.\u0275\u0275text(42," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(43,"div",20)(44,"label",25),h.\u0275\u0275text(45,"Apellido"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(46,"input",26,27),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.surname=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(48,"div",24),h.\u0275\u0275text(49," Apellido Requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(50,"div",24),h.\u0275\u0275text(51," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(52,"div",20)(53,"label",28),h.\u0275\u0275text(54,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(55,"input",29,30),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.email=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(57,"div",24),h.\u0275\u0275text(58," Email Requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(59,"div",24),h.\u0275\u0275text(60," Email no valido "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(61,"div",20)(62,"label",31),h.\u0275\u0275text(63,"Saldo"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(64,"input",32,33),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.balance=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(66,"div",24),h.\u0275\u0275text(67," Balance Requerido "),h.\u0275\u0275elementEnd()()()()()()()()()}if(2&t){const o=h.\u0275\u0275reference(38),u=h.\u0275\u0275reference(47),d=h.\u0275\u0275reference(56),m=h.\u0275\u0275reference(65);h.\u0275\u0275advance(37),h.\u0275\u0275property("ngModel",r.client.name)("ngClass",h.\u0275\u0275pureFunction1(15,OD,o.errors&&o.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.surname)("ngClass",h.\u0275\u0275pureFunction1(17,OD,u.errors&&u.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.email)("ngClass",h.\u0275\u0275pureFunction1(19,OD,d.errors&&d.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.pattern)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.balance)("ngClass",h.\u0275\u0275pureFunction1(21,OD,m.errors&&m.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.required))}},dependencies:[E.NgClass,fp,wI,rp,iD,Nm,yI,ap,sD,oD,sp,ip,el.cS]}),n})(),PD=(()=>{class n{constructor(t,r){this.authService=t,this.flashMessages=r}login(t,r){var o=this;return(0,ie.Z)(function*(){try{return yield o.authService.signInWithEmailAndPassword(t,r)}catch(u){throw console.error("Error logging in:",u),new Error("Could not log in")}})()}getAuth(){return this.authService.authState.pipe((0,Jt.U)(t=>t))}logout(){this.authService.signOut()}register(t,r){return new Promise((o,u)=>{this.authService.createUserWithEmailAndPassword(t,r).then(d=>o(d),d=>{this.flashMessages.show(d.message,{cssClass:"alert-danger",timeout:4e3})})})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275inject(bI),h.\u0275\u0275inject(el.GQ))},n.\u0275prov=h.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),wO=(()=>{class n{constructor(t,r,o){this.router=t,this.logginService=r,this.flashMessages=o}ngOnInit(){this.logginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){var t=this;return(0,ie.Z)(function*(){try{const r=yield t.logginService.login(t.email,t.password);console.log("Logged in user:\u{1f975}\u{1f525}",r.user),t.router.navigate(["/"])}catch(r){console.error("Error logging in:",r)}})()}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(PD),h.\u0275\u0275directiveInject(el.GQ))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","login"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Login "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(7,"section",5)(8,"div",1),h.\u0275\u0275element(9,"div",2),h.\u0275\u0275elementEnd()(),h.\u0275\u0275element(10,"flash-messages"),h.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),h.\u0275\u0275text(18,"Login"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(19,"div",10)(20,"form",11),h.\u0275\u0275listener("submit",function(){return r.login()}),h.\u0275\u0275elementStart(21,"div",12)(22,"label",13),h.\u0275\u0275text(23,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"input",14),h.\u0275\u0275listener("ngModelChange",function(u){return r.email=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(25,"div",12)(26,"label",15),h.\u0275\u0275text(27,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"input",16),h.\u0275\u0275listener("ngModelChange",function(u){return r.password=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275element(29,"input",17),h.\u0275\u0275elementEnd()()()()()()()),2&t&&(h.\u0275\u0275advance(24),h.\u0275\u0275property("ngModel",r.email),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",r.password))},dependencies:[wI,rp,Nm,yI,ap,sp,ip,el.cS]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"p"),h.\u0275\u0275text(1,"no-encontrado works!"),h.\u0275\u0275elementEnd())}}),n})(),CO=(()=>{class n{constructor(t,r,o){this.router=t,this.logginService=r,this.flashMessages=o}ngOnInit(){this.logginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}register(){this.logginService.register(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(PD),h.\u0275\u0275directiveInject(el.GQ))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-register"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","register"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","register",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Register "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(7,"section",5)(8,"div",1),h.\u0275\u0275element(9,"div",2),h.\u0275\u0275elementEnd()(),h.\u0275\u0275element(10,"flash-messages"),h.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),h.\u0275\u0275text(18,"Register"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(19,"div",10)(20,"form",11),h.\u0275\u0275listener("submit",function(){return r.register()}),h.\u0275\u0275elementStart(21,"div",12)(22,"label",13),h.\u0275\u0275text(23,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"input",14),h.\u0275\u0275listener("ngModelChange",function(u){return r.email=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(25,"div",12)(26,"label",15),h.\u0275\u0275text(27,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"input",16),h.\u0275\u0275listener("ngModelChange",function(u){return r.password=u}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275element(29,"input",17),h.\u0275\u0275elementEnd()()()()()()()),2&t&&(h.\u0275\u0275advance(24),h.\u0275\u0275property("ngModel",r.email),h.\u0275\u0275advance(4),h.\u0275\u0275property("ngModel",r.password))},dependencies:[wI,rp,Nm,yI,ap,sp,ip,el.cS]}),n})();const bO=["clientForm"],TO=["botonCerrar"];function SO(n,e){if(1&n&&(h.\u0275\u0275elementStart(0,"tr")(1,"td"),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"td"),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"td"),h.\u0275\u0275text(6),h.\u0275\u0275pipe(7,"currency"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"td")(9,"a",44),h.\u0275\u0275element(10,"i",45),h.\u0275\u0275text(11,"Editar "),h.\u0275\u0275elementEnd()()()),2&n){const t=e.$implicit,r=e.index;h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(r+1),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate2("",t.name," ",t.surname,""),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind3(7,5,t.balance,"USD","\u20ac")),h.\u0275\u0275advance(3),h.\u0275\u0275propertyInterpolate1("routerLink","/cliente/editar/",t.id,"")}}const kD=function(n){return{"is-invalid":n}};let AO=(()=>{class n{constructor(t,r){this.clientService=t,this.flashMessages=r,this.client={name:"",surname:"",email:"",balance:0}}ngOnInit(){this.clientService.getClients().subscribe(t=>{this.clients=t})}getSaldoTotal(){let t=0;return this.clients&&this.clients.forEach(r=>{t+=r.balance}),t}add({value:t,valid:r}){r?(this.clientService.addClient(t),this.clientForm.resetForm(),this.cerrarModal()):this.flashMessages.show("Rellena el formulario")}cerrarModal(){this.botonCerrar.nativeElement.click()}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(FT),h.\u0275\u0275directiveInject(el.GQ))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-clientes"]],viewQuery:function(t,r){if(1&t&&(h.\u0275\u0275viewQuery(bO,5),h.\u0275\u0275viewQuery(TO,5)),2&t){let o;h.\u0275\u0275queryRefresh(o=h.\u0275\u0275loadQuery())&&(r.clientForm=o.first),h.\u0275\u0275queryRefresh(o=h.\u0275\u0275loadQuery())&&(r.botonCerrar=o.first)}},decls:91,vars:30,consts:[["id","action",1,"py-4","mb-4","bg-light"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","data-bs-toggle","modal","data-bs-target","#agregarClienteModal",1,"btn","btn-primary","btn-block"],[1,"fas","fa-plus"],["id","clientes"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"table","table-dark","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"card","text-center","bg-danger","text-white","mb-e"],[1,"card-body"],[1,"display-4"],[1,"card","text-center","bg-success","text-white","mb-e"],[1,"fas","fa-users"],["id","agregarClienteModal",1,"modal","fade"],[1,"modal-dialog","modl-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["botonCerrar",""],[3,"ngSubmit"],["clientForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","nombre"],["type","text","name","name","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","apellido"],["type","text","name","surname","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["surname","ngModel"],["for","email"],["type","email","name","email","pattern","^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["email","ngModel"],["for","saldo"],["type","number","name","balance","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["balance","ngModel"],[1,"modal-footer"],["type","submit","aria-label","Close",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fas","fa-angle-double-right"]],template:function(t,r){if(1&t){const o=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),h.\u0275\u0275element(5,"i",5),h.\u0275\u0275text(6,"Add Client "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(7,"section",6)(8,"div",1)(9,"div",2)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h4"),h.\u0275\u0275text(14,"Control de Clientes"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(15,"table",10)(16,"thead",11)(17,"tr")(18,"th"),h.\u0275\u0275text(19,"#"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"th"),h.\u0275\u0275text(21,"Nombre"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(22,"th"),h.\u0275\u0275text(23,"Saldo"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(24,"th"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(25,"tbody"),h.\u0275\u0275template(26,SO,12,9,"tr",12),h.\u0275\u0275elementEnd()()()(),h.\u0275\u0275elementStart(27,"div",3)(28,"div",13)(29,"div",14)(30,"h3"),h.\u0275\u0275text(31,"Saldo Total"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(32,"h4",15),h.\u0275\u0275text(33),h.\u0275\u0275pipe(34,"currency"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(35,"div",16)(36,"div",14)(37,"h3"),h.\u0275\u0275text(38,"Total Clientes"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(39,"h4",15),h.\u0275\u0275element(40,"i",17),h.\u0275\u0275text(41),h.\u0275\u0275elementEnd()()()()()()(),h.\u0275\u0275elementStart(42,"div",18)(43,"div",19)(44,"div",20)(45,"div",21)(46,"h5",22),h.\u0275\u0275text(47,"Agregar Cliente"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(48,"button",23,24),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(50,"flash-messages"),h.\u0275\u0275elementStart(51,"form",25,26),h.\u0275\u0275listener("ngSubmit",function(){h.\u0275\u0275restoreView(o);const d=h.\u0275\u0275reference(52);return h.\u0275\u0275resetView(r.add(d))}),h.\u0275\u0275elementStart(53,"div",27)(54,"div",28)(55,"label",29),h.\u0275\u0275text(56,"Nombre"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(57,"input",30,31),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.name=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(59,"div",32),h.\u0275\u0275text(60," Nombre Requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(61,"div",32),h.\u0275\u0275text(62," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(63,"div",28)(64,"label",33),h.\u0275\u0275text(65,"Apellido"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(66,"input",34,35),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.surname=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(68,"div",32),h.\u0275\u0275text(69," Apellido Requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(70,"div",32),h.\u0275\u0275text(71," Debe contener al menos 2 caracteres "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(72,"div",28)(73,"label",36),h.\u0275\u0275text(74,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(75,"input",37,38),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.email=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(77,"div",32),h.\u0275\u0275text(78," Email Requerido "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(79,"div",32),h.\u0275\u0275text(80," Email no valido "),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(81,"div",28)(82,"label",39),h.\u0275\u0275text(83,"Saldo"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(84,"input",40,41),h.\u0275\u0275listener("ngModelChange",function(d){return r.client.balance=d}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(86,"div",32),h.\u0275\u0275text(87," Balance Requerido "),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(88,"div",42)(89,"button",43),h.\u0275\u0275text(90," Save "),h.\u0275\u0275elementEnd()()()()()()}if(2&t){const o=h.\u0275\u0275reference(58),u=h.\u0275\u0275reference(67),d=h.\u0275\u0275reference(76),m=h.\u0275\u0275reference(85);h.\u0275\u0275advance(26),h.\u0275\u0275property("ngForOf",r.clients),h.\u0275\u0275advance(7),h.\u0275\u0275textInterpolate1(" ",h.\u0275\u0275pipeBind3(34,18,r.getSaldoTotal(),"USD","$")," "),h.\u0275\u0275advance(8),h.\u0275\u0275textInterpolate1(" ",null==r.clients?null:r.clients.length," "),h.\u0275\u0275advance(16),h.\u0275\u0275property("ngModel",r.client.name)("ngClass",h.\u0275\u0275pureFunction1(22,kD,o.errors&&o.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.surname)("ngClass",h.\u0275\u0275pureFunction1(24,kD,u.errors&&u.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=u.errors&&u.errors.minlength)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.email)("ngClass",h.\u0275\u0275pureFunction1(26,kD,d.errors&&d.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.pattern)),h.\u0275\u0275advance(5),h.\u0275\u0275property("ngModel",r.client.balance)("ngClass",h.\u0275\u0275pureFunction1(28,kD,m.errors&&m.touched)),h.\u0275\u0275advance(2),h.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.required))}},dependencies:[E.NgClass,E.NgForOf,fp,wI,rp,iD,Nm,yI,ap,sD,oD,sp,ip,el.cS,E.CurrencyPipe]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-tablero"]],decls:8,vars:0,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-cog"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),h.\u0275\u0275element(5,"i",4),h.\u0275\u0275text(6,"Client Control "),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275element(7,"app-clientes"))},dependencies:[AO]}),n})();var Ac,xO=L(655);let qI=((Ac=class{constructor(e,t){this.router=e,this.afAuth=t}canActivate(){return this.afAuth.authState.pipe((0,Jt.U)(e=>!!e||(this.router.navigate(["/login"]),!1)))}}).\u0275fac=function(e){return new(e||Ac)(h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(bI))},Ac.\u0275cmp=h.\u0275\u0275defineComponent({type:Ac,selectors:[["app-guardian"]],decls:2,vars:0,template:function(e,t){1&e&&(h.\u0275\u0275elementStart(0,"p"),h.\u0275\u0275text(1,"guardian works!"),h.\u0275\u0275elementEnd())}}),Ac.\u0275prov=h.\u0275\u0275defineInjectable({token:Ac,factory:Ac.\u0275fac,providedIn:"root"}),Ac);qI=(0,xO.gn)([(0,h.Injectable)({providedIn:"root"})],qI);const RO=[{path:"",component:MO,canActivate:[qI]},{path:"login",component:wO},{path:"registrarse",component:CO},{path:"configuracion",component:IO,canActivate:[qI]},{path:"cliente/editar/:id",component:EO},{path:"**",component:DO}];let NO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=h.\u0275\u0275defineInjector({imports:[QM.forRoot(RO),QM]}),n})();function OO(n,e){1&n&&(h.\u0275\u0275elementStart(0,"ul",10)(1,"li",11)(2,"a",12),h.\u0275\u0275text(3,"Inicio"),h.\u0275\u0275elementEnd()()())}function PO(n,e){if(1&n&&(h.\u0275\u0275elementStart(0,"li",13)(1,"a",14),h.\u0275\u0275element(2,"i",15),h.\u0275\u0275text(3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"div",16)(5,"a",17),h.\u0275\u0275element(6,"i",18),h.\u0275\u0275text(7,"Configuracion "),h.\u0275\u0275elementEnd()()()),2&n){const t=h.\u0275\u0275nextContext();h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate1("Bienvenido ",t.loggedInUser," ")}}function kO(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",19)(1,"a",20),h.\u0275\u0275element(2,"i",15),h.\u0275\u0275text(3,"Login "),h.\u0275\u0275elementEnd()())}function FO(n,e){1&n&&(h.\u0275\u0275elementStart(0,"li",19)(1,"a",21),h.\u0275\u0275element(2,"i",15),h.\u0275\u0275text(3,"Register "),h.\u0275\u0275elementEnd()())}function LO(n,e){if(1&n){const t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"li",19)(1,"a",22),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(t);const o=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(o.logout())}),h.\u0275\u0275element(2,"i",23),h.\u0275\u0275text(3,"Salir "),h.\u0275\u0275elementEnd()()}}let VO=(()=>{class n{constructor(t,r,o){this.logginService=t,this.router=r,this.configService=o}ngOnInit(){this.logginService.getAuth().subscribe(t=>{t?(this.isLoggedIn=!0,this.loggedInUser=t.email):this.isLoggedIn=!1}),this.configService.getConfig().subscribe(t=>{this.allowRegister=t.allowRegister})}logout(){this.logginService.logout(),this.isLoggedIn=!1,this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(h.\u0275\u0275directiveInject(PD),h.\u0275\u0275directiveInject(Ti),h.\u0275\u0275directiveInject(kT))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-cabecero"]],decls:13,vars:5,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],["class","navbar-nav",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item dropdown mr-3",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-3"],["href","#","data-bs-toggle","dropdown","data-bs-target","#navbarCollapse",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user"],[1,"dropdown-menu"],["routerLink","/configuracion",1,"dropdown-item"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login","routerLinkActive","active",1,"nav-link"],["routerLink","/registrarse","routerLinkActive","active",1,"nav-link",2,"cursor","pointer"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"fas","fa-user-times"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),h.\u0275\u0275text(3,"Client Control"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"button",3),h.\u0275\u0275element(5,"span",4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(6,"div",5),h.\u0275\u0275template(7,OO,4,0,"ul",6),h.\u0275\u0275elementStart(8,"ul",7),h.\u0275\u0275template(9,PO,8,1,"li",8),h.\u0275\u0275template(10,kO,4,0,"li",9),h.\u0275\u0275template(11,FO,4,0,"li",9),h.\u0275\u0275template(12,LO,4,0,"li",9),h.\u0275\u0275elementEnd()()()()),2&t&&(h.\u0275\u0275advance(7),h.\u0275\u0275property("ngIf",r.isLoggedIn),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",r.isLoggedIn),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",r.isLoggedIn&&r.showRegister),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!r.isLoggedIn),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",r.isLoggedIn))},dependencies:[E.NgIf,fp,$M]}),n})(),UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-pie-pagina"]],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-warning","text-white","mt-5","p-5"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center"]],template:function(t,r){1&t&&(h.\u0275\u0275elementStart(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),h.\u0275\u0275text(5," Copyright \xa9 Jose-Campos1 "),h.\u0275\u0275elementEnd()()()()())}}),n})(),jO=(()=>{class n{constructor(){this.title="clients-control"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&h.\u0275\u0275element(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},dependencies:[gT,VO,UO]}),n})(),BO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.\u0275\u0275defineNgModule({type:n,bootstrap:[jO]}),n.\u0275inj=h.\u0275\u0275defineInjector({providers:[FT,PD,qI,{provide:Qb,useValue:{}},kT],imports:[at,NO,eu.hO.initializeApp(dt_firebase),et(()=>Qn(dt_firebase)),uh(()=>sl()),vb(()=>Sb()),pR,el.qz.forRoot(),DR]}),n})();ee().bootstrapModule(BO).catch(n=>console.error(n))},4497:(Dt,Te)=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});var L=function(){function E(h,V,ne,ae){this.id=E.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,h&&(this.text=h),V&&(this.cssClass=V),ne&&(this.closeOnClick=ne),ae&&(this.showCloseBtn=ae)}return E.nextId=0,E}();Te.FlashMessage=L},2570:function(Dt,Te,L){"use strict";var E=L(4650),h=L(5673),V=L(6895);function ne(ue,Se){1&ue&&E.\u0275\u0275element(0,"div",3)}function ae(ue,Se){if(1&ue){var We=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"button",7),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(We);var we=E.\u0275\u0275nextContext().$implicit,Ae=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(Ae.close(we))}),E.\u0275\u0275elementStart(1,"span",8),E.\u0275\u0275text(2,"\xd7"),E.\u0275\u0275elementEnd()()}}var fe=function(ue){return{"alert-dismissible":ue}};function ge(ue,Se){if(1&ue){var We=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",4),E.\u0275\u0275listener("click",function(){var Re=E.\u0275\u0275restoreView(We).$implicit,Fe=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(Fe.alertClicked(Re))}),E.\u0275\u0275template(1,ae,3,0,"button",5),E.\u0275\u0275element(2,"div",6),E.\u0275\u0275elementEnd()}if(2&ue){var he=Se.$implicit;E.\u0275\u0275classMapInterpolate1("alert flash-message ",he.cssClass,""),E.\u0275\u0275styleProp("cursor",he.closeOnClick?"pointer":"inherit"),E.\u0275\u0275property("ngClass",E.\u0275\u0275pureFunction1(8,fe,he.showCloseBtn)),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",he.showCloseBtn),E.\u0275\u0275advance(1),E.\u0275\u0275property("innerHTML",he.text,E.\u0275\u0275sanitizeHtml)}}var ve=this&&this.__decorate||function(ue,Se,We,he){var Re,we=arguments.length,Ae=we<3?Se:null===he?he=Object.getOwnPropertyDescriptor(Se,We):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(ue,Se,We,he);else for(var Fe=ue.length-1;Fe>=0;Fe--)(Re=ue[Fe])&&(Ae=(we<3?Re(Ae):we>3?Re(Se,We,Ae):Re(Se,We))||Ae);return we>3&&Ae&&Object.defineProperty(Se,We,Ae),Ae},_e=this&&this.__metadata||function(ue,Se){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ue,Se)};Object.defineProperty(Te,"__esModule",{value:!0});var G=L(4650),q=L(4497),Z=L(5673),Le=function(){function ue(Se,We){this._flashMessagesService=Se,this._cdRef=We,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return ue.prototype.ngOnInit=function(){},ue.prototype.show=function(Se,We){var he=this;void 0===We&&(We={});var we={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Ae in We)we[Ae]=We[Ae];var Re=new q.FlashMessage(Se,we.cssClass,we.closeOnClick,we.showCloseBtn);Re.timer=window.setTimeout(function(){he._remove(Re),he._cdRef.detectChanges()},we.timeout),this.messages.push(Re),this._cdRef.detectChanges()},ue.prototype.close=function(Se){clearTimeout(Se.timer),this._remove(Se),this._cdRef.detectChanges()},ue.prototype.alertClicked=function(Se){Se.closeOnClick&&this.close(Se)},ue.prototype.grayOut=function(Se){void 0===Se&&(Se=!1),this._grayOut=Se},ue.prototype._remove=function(Se){this.messages=this.messages.filter(function(We){return We.id!==Se.id})},(ue=ve([_e("design:paramtypes",[Z.FlashMessagesService,G.ChangeDetectorRef])],ue)).\u0275fac=function(We){return new(We||ue)(E.\u0275\u0275directiveInject(h.FlashMessagesService),E.\u0275\u0275directiveInject(E.ChangeDetectorRef))},ue.\u0275cmp=E.\u0275\u0275defineComponent({type:ue,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(We,he){1&We&&(E.\u0275\u0275elementStart(0,"div",0),E.\u0275\u0275template(1,ne,1,0,"div",1),E.\u0275\u0275template(2,ge,3,10,"div",2),E.\u0275\u0275elementEnd()),2&We&&(E.\u0275\u0275advance(1),E.\u0275\u0275property("ngIf",he._grayOut&&he.messages.length),E.\u0275\u0275advance(1),E.\u0275\u0275property("ngForOf",he.messages))},dependencies:[V.NgClass,V.NgForOf,V.NgIf],encapsulation:2}),ue}();Te.FlashMessagesComponent=Le},5673:function(Dt,Te,L){"use strict";var E=L(4650);Object.defineProperty(Te,"__esModule",{value:!0}),L(4650);var ne=function(){function ae(){}return ae.\u0275fac=function(ge){return new(ge||ae)},ae.\u0275prov=E.\u0275\u0275defineInjectable({token:ae,factory:function(fe){return ae.\u0275fac(fe)}}),ae}();Te.FlashMessagesService=ne},3241:(Dt,Te,L)=>{var h=L(2570),V=L(8533);Te.qz=V.FlashMessagesModule;var ne=L(5673);Te.GQ=ne.FlashMessagesService,Te.cS=h.FlashMessagesComponent},8533:function(Dt,Te,L){"use strict";var E=L(4650);L(2570),L(6895),Object.defineProperty(Te,"__esModule",{value:!0}),L(4650);var fe=L(6895),ve=(L(2570),L(5673)),_e=function(){function G(){}var q;return q=G,G.forRoot=function(){return{ngModule:q,providers:[ve.FlashMessagesService]}},G.\u0275fac=function(Le){return new(Le||G)},G.\u0275mod=E.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=E.\u0275\u0275defineInjector({imports:[fe.CommonModule]}),G}();Te.FlashMessagesModule=_e},9751:(Dt,Te,L)=>{"use strict";L.d(Te,{y:()=>ve});var E=L(2961),h=L(727),V=L(8822),ne=L(9635),ae=L(2416),fe=L(576),ge=L(2806);let ve=(()=>{class Z{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Se=new Z;return Se.source=this,Se.operator=ue,Se}subscribe(ue,Se,We){const he=function q(Z){return Z&&Z instanceof E.Lv||function G(Z){return Z&&(0,fe.m)(Z.next)&&(0,fe.m)(Z.error)&&(0,fe.m)(Z.complete)}(Z)&&(0,h.Nn)(Z)}(ue)?ue:new E.Hp(ue,Se,We);return(0,ge.x)(()=>{const{operator:we,source:Ae}=this;he.add(we?we.call(he,Ae):Ae?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Se){ue.error(Se)}}forEach(ue,Se){return new(Se=_e(Se))((We,he)=>{const we=new E.Hp({next:Ae=>{try{ue(Ae)}catch(Re){he(Re),we.unsubscribe()}},error:he,complete:We});this.subscribe(we)})}_subscribe(ue){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(ue)}[V.L](){return this}pipe(...ue){return(0,ne.U)(ue)(this)}toPromise(ue){return new(ue=_e(ue))((Se,We)=>{let he;this.subscribe(we=>he=we,we=>We(we),()=>Se(he))})}}return Z.create=Le=>new Z(Le),Z})();function _e(Z){var Le;return null!==(Le=Z??ae.v.Promise)&&void 0!==Le?Le:Promise}},7579:(Dt,Te,L)=>{"use strict";L.d(Te,{x:()=>ge});var E=L(9751),h=L(727);const ne=(0,L(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=L(8737),fe=L(2806);let ge=(()=>{class _e extends E.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Z=new ve(this,this);return Z.operator=q,Z}_throwIfClosed(){if(this.closed)throw new ne}next(q){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(q)}})}error(q){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Z}=this;for(;Z.length;)Z.shift().error(q)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Z,isStopped:Le,observers:ue}=this;return Z||Le?h.Lc:(this.currentObservers=null,ue.push(q),new h.w0(()=>{this.currentObservers=null,(0,ae.P)(ue,q)}))}_checkFinalizedStatuses(q){const{hasError:Z,thrownError:Le,isStopped:ue}=this;Z?q.error(Le):ue&&q.complete()}asObservable(){const q=new E.y;return q.source=this,q}}return _e.create=(G,q)=>new ve(G,q),_e})();class ve extends ge{constructor(G,q){super(),this.destination=G,this.source=q}next(G){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Z||Z.call(q,G)}error(G){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Z||Z.call(q,G)}complete(){var G,q;null===(q=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===q||q.call(G)}_subscribe(G){var q,Z;return null!==(Z=null===(q=this.source)||void 0===q?void 0:q.subscribe(G))&&void 0!==Z?Z:h.Lc}}},2961:(Dt,Te,L)=>{"use strict";L.d(Te,{Hp:()=>We,Lv:()=>Z});var E=L(576),h=L(727),V=L(2416),ne=L(7849);function ae(){}const fe=_e("C",void 0,void 0);function _e(Fe,je,Ve){return{kind:Fe,value:je,error:Ve}}var G=L(3410),q=L(2806);class Z extends h.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,h.Nn)(je)&&je.add(this)):this.destination=Re}static create(je,Ve,rt){return new We(je,Ve,rt)}next(je){this.isStopped?Ae(function ve(Fe){return _e("N",Fe,void 0)}(je),this):this._next(je)}error(je){this.isStopped?Ae(function ge(Fe){return _e("E",void 0,Fe)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?Ae(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function ue(Fe,je){return Le.call(Fe,je)}class Se{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(je)}catch(rt){he(rt)}}error(je){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(je)}catch(rt){he(rt)}else he(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Ve){he(Ve)}}}class We extends Z{constructor(je,Ve,rt){let Y;if(super(),(0,E.m)(je)||!je)Y={next:je??void 0,error:Ve??void 0,complete:rt??void 0};else{let pe;this&&V.v.useDeprecatedNextContext?(pe=Object.create(je),pe.unsubscribe=()=>this.unsubscribe(),Y={next:je.next&&ue(je.next,pe),error:je.error&&ue(je.error,pe),complete:je.complete&&ue(je.complete,pe)}):Y=je}this.destination=new Se(Y)}}function he(Fe){V.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Fe):(0,ne.h)(Fe)}function Ae(Fe,je){const{onStoppedNotification:Ve}=V.v;Ve&&G.z.setTimeout(()=>Ve(Fe,je))}const Re={closed:!0,next:ae,error:function we(Fe){throw Fe},complete:ae}},727:(Dt,Te,L)=>{"use strict";L.d(Te,{Lc:()=>fe,w0:()=>ae,Nn:()=>ge});var E=L(576);const V=(0,L(3888).d)(_e=>function(q){_e(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Z,Le)=>`${Le+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ne=L(8737);class ae{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const ue of q)ue.remove(this);else q.remove(this);const{initialTeardown:Z}=this;if((0,E.m)(Z))try{Z()}catch(ue){G=ue instanceof V?ue.errors:[ue]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const ue of Le)try{ve(ue)}catch(Se){G=G??[],Se instanceof V?G=[...G,...Se.errors]:G.push(Se)}}if(G)throw new V(G)}}add(G){var q;if(G&&G!==this)if(this.closed)ve(G);else{if(G instanceof ae){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(G)}}_hasParent(G){const{_parentage:q}=this;return q===G||Array.isArray(q)&&q.includes(G)}_addParent(G){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(G),q):q?[q,G]:G}_removeParent(G){const{_parentage:q}=this;q===G?this._parentage=null:Array.isArray(q)&&(0,ne.P)(q,G)}remove(G){const{_finalizers:q}=this;q&&(0,ne.P)(q,G),G instanceof ae&&G._removeParent(this)}}ae.EMPTY=(()=>{const _e=new ae;return _e.closed=!0,_e})();const fe=ae.EMPTY;function ge(_e){return _e instanceof ae||_e&&"closed"in _e&&(0,E.m)(_e.remove)&&(0,E.m)(_e.add)&&(0,E.m)(_e.unsubscribe)}function ve(_e){(0,E.m)(_e)?_e():_e.unsubscribe()}},2416:(Dt,Te,L)=>{"use strict";L.d(Te,{v:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,Te,L)=>{"use strict";L.d(Te,{E:()=>h});const h=new(L(9751).y)(ae=>ae.complete())},8996:(Dt,Te,L)=>{"use strict";L.d(Te,{D:()=>je});var E=L(8421),h=L(5363),V=L(9468),fe=L(9751),ve=L(2202),_e=L(576),G=L(9672);function Z(Ve,rt){if(!Ve)throw new Error("Iterable cannot be null");return new fe.y(Y=>{(0,G.f)(Y,rt,()=>{const pe=Ve[Symbol.asyncIterator]();(0,G.f)(Y,rt,()=>{pe.next().then(Ne=>{Ne.done?Y.complete():Y.next(Ne.value)})},0,!0)})})}var Le=L(3670),ue=L(8239),Se=L(1144),We=L(6495),he=L(2206),we=L(4532),Ae=L(3260);function je(Ve,rt){return rt?function Fe(Ve,rt){if(null!=Ve){if((0,Le.c)(Ve))return function ne(Ve,rt){return(0,E.Xf)(Ve).pipe((0,V.R)(rt),(0,h.Q)(rt))}(Ve,rt);if((0,Se.z)(Ve))return function ge(Ve,rt){return new fe.y(Y=>{let pe=0;return rt.schedule(function(){pe===Ve.length?Y.complete():(Y.next(Ve[pe++]),Y.closed||this.schedule())})})}(Ve,rt);if((0,ue.t)(Ve))return function ae(Ve,rt){return(0,E.Xf)(Ve).pipe((0,V.R)(rt),(0,h.Q)(rt))}(Ve,rt);if((0,he.D)(Ve))return Z(Ve,rt);if((0,We.T)(Ve))return function q(Ve,rt){return new fe.y(Y=>{let pe;return(0,G.f)(Y,rt,()=>{pe=Ve[ve.h](),(0,G.f)(Y,rt,()=>{let Ne,ut;try{({value:Ne,done:ut}=pe.next())}catch(Xe){return void Y.error(Xe)}ut?Y.complete():Y.next(Ne)},0,!0)}),()=>(0,_e.m)(pe?.return)&&pe.return()})}(Ve,rt);if((0,Ae.L)(Ve))return function Re(Ve,rt){return Z((0,Ae.Q)(Ve),rt)}(Ve,rt)}throw(0,we.z)(Ve)}(Ve,rt):(0,E.Xf)(Ve)}},8421:(Dt,Te,L)=>{"use strict";L.d(Te,{Xf:()=>Le});var E=L(655),h=L(1144),V=L(8239),ne=L(9751),ae=L(3670),fe=L(2206),ge=L(4532),ve=L(6495),_e=L(3260),G=L(576),q=L(7849),Z=L(8822);function Le(Fe){if(Fe instanceof ne.y)return Fe;if(null!=Fe){if((0,ae.c)(Fe))return function ue(Fe){return new ne.y(je=>{const Ve=Fe[Z.L]();if((0,G.m)(Ve.subscribe))return Ve.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,h.z)(Fe))return function Se(Fe){return new ne.y(je=>{for(let Ve=0;Ve<Fe.length&&!je.closed;Ve++)je.next(Fe[Ve]);je.complete()})}(Fe);if((0,V.t)(Fe))return function We(Fe){return new ne.y(je=>{Fe.then(Ve=>{je.closed||(je.next(Ve),je.complete())},Ve=>je.error(Ve)).then(null,q.h)})}(Fe);if((0,fe.D)(Fe))return we(Fe);if((0,ve.T)(Fe))return function he(Fe){return new ne.y(je=>{for(const Ve of Fe)if(je.next(Ve),je.closed)return;je.complete()})}(Fe);if((0,_e.L)(Fe))return function Ae(Fe){return we((0,_e.Q)(Fe))}(Fe)}throw(0,ge.z)(Fe)}function we(Fe){return new ne.y(je=>{(function Re(Fe,je){var Ve,rt,Y,pe;return(0,E.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,E.KL)(Fe);!(rt=yield Ve.next()).done;)if(je.next(rt.value),je.closed)return}catch(Ne){Y={error:Ne}}finally{try{rt&&!rt.done&&(pe=Ve.return)&&(yield pe.call(Ve))}finally{if(Y)throw Y.error}}je.complete()})})(Fe,je).catch(Ve=>je.error(Ve))})}},6451:(Dt,Te,L)=>{"use strict";L.d(Te,{T:()=>fe});var E=L(8189),h=L(8421),V=L(515),ne=L(7669),ae=L(8996);function fe(...ge){const ve=(0,ne.yG)(ge),_e=(0,ne._6)(ge,1/0),G=ge;return G.length?1===G.length?(0,h.Xf)(G[0]):(0,E.J)(_e)((0,ae.D)(G,ve)):V.E}},5403:(Dt,Te,L)=>{"use strict";L.d(Te,{x:()=>h});var E=L(2961);function h(ne,ae,fe,ge,ve){return new V(ne,ae,fe,ge,ve)}class V extends E.Lv{constructor(ae,fe,ge,ve,_e,G){super(ae),this.onFinalize=_e,this.shouldUnsubscribe=G,this._next=fe?function(q){try{fe(q)}catch(Z){ae.error(Z)}}:super._next,this._error=ve?function(q){try{ve(q)}catch(Z){ae.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(q){ae.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(Dt,Te,L)=>{"use strict";L.d(Te,{U:()=>V});var E=L(4482),h=L(5403);function V(ne,ae){return(0,E.e)((fe,ge)=>{let ve=0;fe.subscribe((0,h.x)(ge,_e=>{ge.next(ne.call(ae,_e,ve++))}))})}},8189:(Dt,Te,L)=>{"use strict";L.d(Te,{J:()=>V});var E=L(5577),h=L(4671);function V(ne=1/0){return(0,E.z)(h.y,ne)}},5577:(Dt,Te,L)=>{"use strict";L.d(Te,{z:()=>ve});var E=L(4004),h=L(8421),V=L(4482),ne=L(9672),ae=L(5403),ge=L(576);function ve(_e,G,q=1/0){return(0,ge.m)(G)?ve((Z,Le)=>(0,E.U)((ue,Se)=>G(Z,ue,Le,Se))((0,h.Xf)(_e(Z,Le))),q):("number"==typeof G&&(q=G),(0,V.e)((Z,Le)=>function fe(_e,G,q,Z,Le,ue,Se,We){const he=[];let we=0,Ae=0,Re=!1;const Fe=()=>{Re&&!he.length&&!we&&G.complete()},je=rt=>we<Z?Ve(rt):he.push(rt),Ve=rt=>{ue&&G.next(rt),we++;let Y=!1;(0,h.Xf)(q(rt,Ae++)).subscribe((0,ae.x)(G,pe=>{Le?.(pe),ue?je(pe):G.next(pe)},()=>{Y=!0},void 0,()=>{if(Y)try{for(we--;he.length&&we<Z;){const pe=he.shift();Se?(0,ne.f)(G,Se,()=>Ve(pe)):Ve(pe)}Fe()}catch(pe){G.error(pe)}}))};return _e.subscribe((0,ae.x)(G,je,()=>{Re=!0,Fe()})),()=>{We?.()}}(Z,Le,_e,q)))}},5363:(Dt,Te,L)=>{"use strict";L.d(Te,{Q:()=>ne});var E=L(9672),h=L(4482),V=L(5403);function ne(ae,fe=0){return(0,h.e)((ge,ve)=>{ge.subscribe((0,V.x)(ve,_e=>(0,E.f)(ve,ae,()=>ve.next(_e),fe),()=>(0,E.f)(ve,ae,()=>ve.complete(),fe),_e=>(0,E.f)(ve,ae,()=>ve.error(_e),fe)))})}},3099:(Dt,Te,L)=>{"use strict";L.d(Te,{B:()=>ae});var E=L(8421),h=L(7579),V=L(2961),ne=L(4482);function ae(ge={}){const{connector:ve=(()=>new h.x),resetOnError:_e=!0,resetOnComplete:G=!0,resetOnRefCountZero:q=!0}=ge;return Z=>{let Le,ue,Se,We=0,he=!1,we=!1;const Ae=()=>{ue?.unsubscribe(),ue=void 0},Re=()=>{Ae(),Le=Se=void 0,he=we=!1},Fe=()=>{const je=Le;Re(),je?.unsubscribe()};return(0,ne.e)((je,Ve)=>{We++,!we&&!he&&Ae();const rt=Se=Se??ve();Ve.add(()=>{We--,0===We&&!we&&!he&&(ue=fe(Fe,q))}),rt.subscribe(Ve),!Le&&We>0&&(Le=new V.Hp({next:Y=>rt.next(Y),error:Y=>{we=!0,Ae(),ue=fe(Re,_e,Y),rt.error(Y)},complete:()=>{he=!0,Ae(),ue=fe(Re,G),rt.complete()}}),(0,E.Xf)(je).subscribe(Le))})(Z)}}function fe(ge,ve,..._e){if(!0===ve)return void ge();if(!1===ve)return;const G=new V.Hp({next:()=>{G.unsubscribe(),ge()}});return(0,E.Xf)(ve(..._e)).subscribe(G)}},9468:(Dt,Te,L)=>{"use strict";L.d(Te,{R:()=>h});var E=L(4482);function h(V,ne=0){return(0,E.e)((ae,fe)=>{fe.add(V.schedule(()=>ae.subscribe(fe),ne))})}},8505:(Dt,Te,L)=>{"use strict";L.d(Te,{b:()=>ae});var E=L(576),h=L(4482),V=L(5403),ne=L(4671);function ae(fe,ge,ve){const _e=(0,E.m)(fe)||ge||ve?{next:fe,error:ge,complete:ve}:fe;return _e?(0,h.e)((G,q)=>{var Z;null===(Z=_e.subscribe)||void 0===Z||Z.call(_e);let Le=!0;G.subscribe((0,V.x)(q,ue=>{var Se;null===(Se=_e.next)||void 0===Se||Se.call(_e,ue),q.next(ue)},()=>{var ue;Le=!1,null===(ue=_e.complete)||void 0===ue||ue.call(_e),q.complete()},ue=>{var Se;Le=!1,null===(Se=_e.error)||void 0===Se||Se.call(_e,ue),q.error(ue)},()=>{var ue,Se;Le&&(null===(ue=_e.unsubscribe)||void 0===ue||ue.call(_e)),null===(Se=_e.finalize)||void 0===Se||Se.call(_e)}))}):ne.y}},4408:(Dt,Te,L)=>{"use strict";L.d(Te,{o:()=>ae});var E=L(727);class h extends E.w0{constructor(ge,ve){super()}schedule(ge,ve=0){return this}}const V={setInterval(fe,ge,...ve){const{delegate:_e}=V;return _e?.setInterval?_e.setInterval(fe,ge,...ve):setInterval(fe,ge,...ve)},clearInterval(fe){const{delegate:ge}=V;return(ge?.clearInterval||clearInterval)(fe)},delegate:void 0};var ne=L(8737);class ae extends h{constructor(ge,ve){super(ge,ve),this.scheduler=ge,this.work=ve,this.pending=!1}schedule(ge,ve=0){var _e;if(this.closed)return this;this.state=ge;const G=this.id,q=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(q,G,ve)),this.pending=!0,this.delay=ve,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(q,this.id,ve),this}requestAsyncId(ge,ve,_e=0){return V.setInterval(ge.flush.bind(ge,this),_e)}recycleAsyncId(ge,ve,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return ve;null!=ve&&V.clearInterval(ve)}execute(ge,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ge,ve);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,ve){let G,_e=!1;try{this.work(ge)}catch(q){_e=!0,G=q||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ge,scheduler:ve}=this,{actions:_e}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(_e,this),null!=ge&&(this.id=this.recycleAsyncId(ve,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Te,L)=>{"use strict";L.d(Te,{v:()=>V});var E=L(6063);class h{constructor(ae,fe=h.now){this.schedulerActionCtor=ae,this.now=fe}schedule(ae,fe=0,ge){return new this.schedulerActionCtor(this,ae).schedule(ge,fe)}}h.now=E.l.now;class V extends h{constructor(ae,fe=h.now){super(ae,fe),this.actions=[],this._active=!1}flush(ae){const{actions:fe}=this;if(this._active)return void fe.push(ae);let ge;this._active=!0;do{if(ge=ae.execute(ae.state,ae.delay))break}while(ae=fe.shift());if(this._active=!1,ge){for(;ae=fe.shift();)ae.unsubscribe();throw ge}}}},4986:(Dt,Te,L)=>{"use strict";L.d(Te,{z:()=>V});var E=L(4408);const V=new(L(7565).v)(E.o)},6063:(Dt,Te,L)=>{"use strict";L.d(Te,{l:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},3410:(Dt,Te,L)=>{"use strict";L.d(Te,{z:()=>E});const E={setTimeout(h,V,...ne){const{delegate:ae}=E;return ae?.setTimeout?ae.setTimeout(h,V,...ne):setTimeout(h,V,...ne)},clearTimeout(h){const{delegate:V}=E;return(V?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(Dt,Te,L)=>{"use strict";L.d(Te,{h:()=>h});const h=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Te,L)=>{"use strict";L.d(Te,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dt,Te,L)=>{"use strict";L.d(Te,{_6:()=>fe,jO:()=>ne,yG:()=>ae});var E=L(576);function V(ge){return ge[ge.length-1]}function ne(ge){return(0,E.m)(V(ge))?ge.pop():void 0}function ae(ge){return function h(ge){return ge&&(0,E.m)(ge.schedule)}(V(ge))?ge.pop():void 0}function fe(ge,ve){return"number"==typeof V(ge)?ge.pop():ve}},8737:(Dt,Te,L)=>{"use strict";function E(h,V){if(h){const ne=h.indexOf(V);0<=ne&&h.splice(ne,1)}}L.d(Te,{P:()=>E})},3888:(Dt,Te,L)=>{"use strict";function E(h){const ne=h(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}L.d(Te,{d:()=>E})},2806:(Dt,Te,L)=>{"use strict";L.d(Te,{O:()=>ne,x:()=>V});var E=L(2416);let h=null;function V(ae){if(E.v.useDeprecatedSynchronousErrorHandling){const fe=!h;if(fe&&(h={errorThrown:!1,error:null}),ae(),fe){const{errorThrown:ge,error:ve}=h;if(h=null,ge)throw ve}}else ae()}function ne(ae){E.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=ae)}},9672:(Dt,Te,L)=>{"use strict";function E(h,V,ne,ae=0,fe=!1){const ge=V.schedule(function(){ne(),fe?h.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(h.add(ge),!fe)return ge}L.d(Te,{f:()=>E})},4671:(Dt,Te,L)=>{"use strict";function E(h){return h}L.d(Te,{y:()=>E})},1144:(Dt,Te,L)=>{"use strict";L.d(Te,{z:()=>E});const E=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(Dt,Te,L)=>{"use strict";L.d(Te,{D:()=>h});var E=L(576);function h(V){return Symbol.asyncIterator&&(0,E.m)(V?.[Symbol.asyncIterator])}},576:(Dt,Te,L)=>{"use strict";function E(h){return"function"==typeof h}L.d(Te,{m:()=>E})},3670:(Dt,Te,L)=>{"use strict";L.d(Te,{c:()=>V});var E=L(8822),h=L(576);function V(ne){return(0,h.m)(ne[E.L])}},6495:(Dt,Te,L)=>{"use strict";L.d(Te,{T:()=>V});var E=L(2202),h=L(576);function V(ne){return(0,h.m)(ne?.[E.h])}},8239:(Dt,Te,L)=>{"use strict";L.d(Te,{t:()=>h});var E=L(576);function h(V){return(0,E.m)(V?.then)}},3260:(Dt,Te,L)=>{"use strict";L.d(Te,{L:()=>ne,Q:()=>V});var E=L(655),h=L(576);function V(ae){return(0,E.FC)(this,arguments,function*(){const ge=ae.getReader();try{for(;;){const{value:ve,done:_e}=yield(0,E.qq)(ge.read());if(_e)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(ve)}}finally{ge.releaseLock()}})}function ne(ae){return(0,h.m)(ae?.getReader)}},4482:(Dt,Te,L)=>{"use strict";L.d(Te,{A:()=>h,e:()=>V});var E=L(576);function h(ne){return(0,E.m)(ne?.lift)}function V(ne){return ae=>{if(h(ae))return ae.lift(function(fe){try{return ne(fe,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Dt,Te,L)=>{"use strict";L.d(Te,{U:()=>V,z:()=>h});var E=L(4671);function h(...ne){return V(ne)}function V(ne){return 0===ne.length?E.y:1===ne.length?ne[0]:function(fe){return ne.reduce((ge,ve)=>ve(ge),fe)}}},7849:(Dt,Te,L)=>{"use strict";L.d(Te,{h:()=>V});var E=L(2416),h=L(3410);function V(ne){h.z.setTimeout(()=>{const{onUnhandledError:ae}=E.v;if(!ae)throw ne;ae(ne)})}},4532:(Dt,Te,L)=>{"use strict";function E(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Te,{z:()=>E})},655:(Dt,Te,L)=>{"use strict";function ne(oe,De){var xe={};for(var Be in oe)Object.prototype.hasOwnProperty.call(oe,Be)&&De.indexOf(Be)<0&&(xe[Be]=oe[Be]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Be=Object.getOwnPropertySymbols(oe);Ze<Be.length;Ze++)De.indexOf(Be[Ze])<0&&Object.prototype.propertyIsEnumerable.call(oe,Be[Ze])&&(xe[Be[Ze]]=oe[Be[Ze]])}return xe}function ae(oe,De,xe,Be){var ht,Ze=arguments.length,Ke=Ze<3?De:null===Be?Be=Object.getOwnPropertyDescriptor(De,xe):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(oe,De,xe,Be);else for(var mt=oe.length-1;mt>=0;mt--)(ht=oe[mt])&&(Ke=(Ze<3?ht(Ke):Ze>3?ht(De,xe,Ke):ht(De,xe))||Ke);return Ze>3&&Ke&&Object.defineProperty(De,xe,Ke),Ke}function Z(oe,De,xe,Be){return new(xe||(xe=Promise))(function(Ke,ht){function mt(Tt){try{Nt(Be.next(Tt))}catch(ot){ht(ot)}}function _n(Tt){try{Nt(Be.throw(Tt))}catch(ot){ht(ot)}}function Nt(Tt){Tt.done?Ke(Tt.value):function Ze(Ke){return Ke instanceof xe?Ke:new xe(function(ht){ht(Ke)})}(Tt.value).then(mt,_n)}Nt((Be=Be.apply(oe,De||[])).next())})}function Fe(oe){return this instanceof Fe?(this.v=oe,this):new Fe(oe)}function je(oe,De,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Be=xe.apply(oe,De||[]),Ke=[];return Ze={},ht("next"),ht("throw"),ht("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function ht(Bt){Be[Bt]&&(Ze[Bt]=function(qn){return new Promise(function(Rn,pn){Ke.push([Bt,qn,Rn,pn])>1||mt(Bt,qn)})})}function mt(Bt,qn){try{!function _n(Bt){Bt.value instanceof Fe?Promise.resolve(Bt.value.v).then(Nt,Tt):ot(Ke[0][2],Bt)}(Be[Bt](qn))}catch(Rn){ot(Ke[0][3],Rn)}}function Nt(Bt){mt("next",Bt)}function Tt(Bt){mt("throw",Bt)}function ot(Bt,qn){Bt(qn),Ke.shift(),Ke.length&&mt(Ke[0][0],Ke[0][1])}}function rt(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,De=oe[Symbol.asyncIterator];return De?De.call(oe):(oe=function We(oe){var De="function"==typeof Symbol&&Symbol.iterator,xe=De&&oe[De],Be=0;if(xe)return xe.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Be>=oe.length&&(oe=void 0),{value:oe&&oe[Be++],done:!oe}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),xe={},Be("next"),Be("throw"),Be("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Be(Ke){xe[Ke]=oe[Ke]&&function(ht){return new Promise(function(mt,_n){!function Ze(Ke,ht,mt,_n){Promise.resolve(_n).then(function(Nt){Ke({value:Nt,done:mt})},ht)}(mt,_n,(ht=oe[Ke](ht)).done,ht.value)})}}}L.d(Te,{FC:()=>je,KL:()=>rt,_T:()=>ne,gn:()=>ae,mG:()=>Z,qq:()=>Fe})},6895:(Dt,Te,L)=>{"use strict";L.r(Te),L.d(Te,{APP_BASE_HREF:()=>he,AsyncPipe:()=>tl,BrowserPlatformLocation:()=>G,CommonModule:()=>Es,CurrencyPipe:()=>Ws,DATE_PIPE_DEFAULT_OPTIONS:()=>da,DATE_PIPE_DEFAULT_TIMEZONE:()=>qr,DOCUMENT:()=>fe,DatePipe:()=>ho,DecimalPipe:()=>pa,FormStyle:()=>ut,FormatWidth:()=>Ft,HashLocationStrategy:()=>Ae,I18nPluralPipe:()=>Po,I18nSelectPipe:()=>Hi,IMAGE_CONFIG:()=>uu,IMAGE_LOADER:()=>Q,JsonPipe:()=>Hs,KeyValuePipe:()=>ha,LOCATION_INITIALIZED:()=>_e,Location:()=>Re,LocationStrategy:()=>We,LowerCasePipe:()=>Wr,NgClass:()=>Mr,NgComponentOutlet:()=>dn,NgFor:()=>rs,NgForOf:()=>rs,NgForOfContext:()=>Yn,NgIf:()=>Ui,NgIfContext:()=>Si,NgLocaleLocalization:()=>Fn,NgLocalization:()=>rn,NgOptimizedImage:()=>Oc,NgPlural:()=>vi,NgPluralCase:()=>is,NgStyle:()=>Zt,NgSwitch:()=>fr,NgSwitchCase:()=>ji,NgSwitchDefault:()=>Bi,NgTemplateOutlet:()=>Bs,NumberFormatStyle:()=>pe,NumberSymbol:()=>lt,PRECONNECT_CHECK_BLOCKLIST:()=>Ei,PathLocationStrategy:()=>we,PercentPipe:()=>Gs,PlatformLocation:()=>ge,Plural:()=>Ne,SlicePipe:()=>ga,TitleCasePipe:()=>$s,TranslationWidth:()=>Xe,UpperCasePipe:()=>_i,VERSION:()=>Qs,ViewportScroller:()=>Fo,WeekDay:()=>oe,XhrFactory:()=>ru,formatCurrency:()=>Vi,formatDate:()=>tn,formatNumber:()=>ar,formatPercent:()=>Is,getCurrencySymbol:()=>me,getLocaleCurrencyCode:()=>pn,getLocaleCurrencyName:()=>Rn,getLocaleCurrencySymbol:()=>qn,getLocaleDateFormat:()=>_n,getLocaleDateTimeFormat:()=>Tt,getLocaleDayNames:()=>Be,getLocaleDayPeriods:()=>xe,getLocaleDirection:()=>ee,getLocaleEraNames:()=>Ke,getLocaleExtraDayPeriodRules:()=>Kn,getLocaleExtraDayPeriods:()=>se,getLocaleFirstDayOfWeek:()=>ht,getLocaleId:()=>De,getLocaleMonthNames:()=>Ze,getLocaleNumberFormat:()=>Bt,getLocaleNumberSymbol:()=>ot,getLocalePluralCase:()=>er,getLocaleTimeFormat:()=>Nt,getLocaleWeekEndRange:()=>mt,getNumberOfCurrencyDigits:()=>mn,isPlatformBrowser:()=>Gi,isPlatformServer:()=>ws,isPlatformWorkerApp:()=>Zs,isPlatformWorkerUi:()=>Wi,provideCloudflareLoader:()=>Ut,provideCloudinaryLoader:()=>on,provideImageKitLoader:()=>Xs,provideImgixLoader:()=>qe,registerLocaleData:()=>Ar,\u0275DomAdapter:()=>ae,\u0275NullViewportScroller:()=>Ii,\u0275PLATFORM_BROWSER_ID:()=>Fr,\u0275PLATFORM_SERVER_ID:()=>Ks,\u0275PLATFORM_WORKER_APP_ID:()=>xc,\u0275PLATFORM_WORKER_UI_ID:()=>nu,\u0275getDOM:()=>V,\u0275parseCookieValue:()=>ft,\u0275setRootDomAdapter:()=>ne});var E=L(4650);let h=null;function V(){return h}function ne(D){h||(h=D)}class ae{}const fe=new E.InjectionToken("DocumentToken");let ge=(()=>{class D{historyGo(C){throw new Error("Not implemented")}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:function(){return function ve(){return(0,E.\u0275\u0275inject)(G)}()},providedIn:"platform"}),D})();const _e=new E.InjectionToken("Location Initialized");let G=(()=>{class D extends ge{constructor(C){super(),this._doc=C,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(C){const k=V().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",C,!1),()=>k.removeEventListener("popstate",C)}onHashChange(C){const k=V().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",C,!1),()=>k.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,k,z){q()?this._history.pushState(C,k,z):this._location.hash=z}replaceState(C,k,z){q()?this._history.replaceState(C,k,z):this._location.hash=z}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275inject(fe))},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:function(){return function Z(){return new G((0,E.\u0275\u0275inject)(fe))}()},providedIn:"platform"}),D})();function q(){return!!window.history.pushState}function Le(D,A){if(0==D.length)return A;if(0==A.length)return D;let C=0;return D.endsWith("/")&&C++,A.startsWith("/")&&C++,2==C?D+A.substring(1):1==C?D+A:D+"/"+A}function ue(D){const A=D.match(/#|\?|$/),C=A&&A.index||D.length;return D.slice(0,C-("/"===D[C-1]?1:0))+D.slice(C)}function Se(D){return D&&"?"!==D[0]?"?"+D:D}let We=(()=>{class D{historyGo(C){throw new Error("Not implemented")}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:function(){return(0,E.inject)(we)},providedIn:"root"}),D})();const he=new E.InjectionToken("appBaseHref");let we=(()=>{class D extends We{constructor(C,k){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,E.inject)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return Le(this._baseHref,C)}path(C=!1){const k=this._platformLocation.pathname+Se(this._platformLocation.search),z=this._platformLocation.hash;return z&&C?`${k}${z}`:k}pushState(C,k,z,ye){const Pe=this.prepareExternalUrl(z+Se(ye));this._platformLocation.pushState(C,k,Pe)}replaceState(C,k,z,ye){const Pe=this.prepareExternalUrl(z+Se(ye));this._platformLocation.replaceState(C,k,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275inject(ge),E.\u0275\u0275inject(he,8))},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ae=(()=>{class D extends We{constructor(C,k){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(C){const k=Le(this._baseHref,C);return k.length>0?"#"+k:k}pushState(C,k,z,ye){let Pe=this.prepareExternalUrl(z+Se(ye));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.pushState(C,k,Pe)}replaceState(C,k,z,ye){let Pe=this.prepareExternalUrl(z+Se(ye));0==Pe.length&&(Pe=this._platformLocation.pathname),this._platformLocation.replaceState(C,k,Pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275inject(ge),E.\u0275\u0275inject(he,8))},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})(),Re=(()=>{class D{constructor(C){this._subject=new E.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const k=this._locationStrategy.getBaseHref();this._basePath=function rt(D){if(new RegExp("^(https?:)?//").test(D)){const[,C]=D.split(/\/\/[^\/]+/);return C}return D}(ue(Ve(k))),this._locationStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,k=""){return this.path()==this.normalize(C+Se(k))}normalize(C){return D.stripTrailingSlash(function je(D,A){if(!D||!A.startsWith(D))return A;const C=A.substring(D.length);return""===C||["/",";","?","#"].includes(C[0])?C:A}(this._basePath,Ve(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,k="",z=null){this._locationStrategy.pushState(z,"",C,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Se(k)),z)}replaceState(C,k="",z=null){this._locationStrategy.replaceState(z,"",C,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+Se(k)),z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",k){this._urlChangeListeners.forEach(z=>z(C,k))}subscribe(C,k,z){return this._subject.subscribe({next:C,error:k,complete:z})}}return D.normalizeQueryParams=Se,D.joinWithSlash=Le,D.stripTrailingSlash=ue,D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275inject(We))},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:function(){return function Fe(){return new Re((0,E.\u0275\u0275inject)(We))}()},providedIn:"root"}),D})();function Ve(D){return D.replace(/\/index.html$/,"")}const Y={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Percent=1]="Percent",pe[pe.Currency=2]="Currency",pe[pe.Scientific=3]="Scientific",pe))(),Ne=(()=>((Ne=Ne||{})[Ne.Zero=0]="Zero",Ne[Ne.One=1]="One",Ne[Ne.Two=2]="Two",Ne[Ne.Few=3]="Few",Ne[Ne.Many=4]="Many",Ne[Ne.Other=5]="Other",Ne))(),ut=(()=>((ut=ut||{})[ut.Format=0]="Format",ut[ut.Standalone=1]="Standalone",ut))(),Xe=(()=>((Xe=Xe||{})[Xe.Narrow=0]="Narrow",Xe[Xe.Abbreviated=1]="Abbreviated",Xe[Xe.Wide=2]="Wide",Xe[Xe.Short=3]="Short",Xe))(),Ft=(()=>((Ft=Ft||{})[Ft.Short=0]="Short",Ft[Ft.Medium=1]="Medium",Ft[Ft.Long=2]="Long",Ft[Ft.Full=3]="Full",Ft))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))(),oe=(()=>((oe=oe||{})[oe.Sunday=0]="Sunday",oe[oe.Monday=1]="Monday",oe[oe.Tuesday=2]="Tuesday",oe[oe.Wednesday=3]="Wednesday",oe[oe.Thursday=4]="Thursday",oe[oe.Friday=5]="Friday",oe[oe.Saturday=6]="Saturday",oe))();function De(D){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.LocaleId]}function xe(D,A,C){const k=(0,E.\u0275findLocaleData)(D),ye=ce([k[E.\u0275LocaleDataIndex.DayPeriodsFormat],k[E.\u0275LocaleDataIndex.DayPeriodsStandalone]],A);return ce(ye,C)}function Be(D,A,C){const k=(0,E.\u0275findLocaleData)(D),ye=ce([k[E.\u0275LocaleDataIndex.DaysFormat],k[E.\u0275LocaleDataIndex.DaysStandalone]],A);return ce(ye,C)}function Ze(D,A,C){const k=(0,E.\u0275findLocaleData)(D),ye=ce([k[E.\u0275LocaleDataIndex.MonthsFormat],k[E.\u0275LocaleDataIndex.MonthsStandalone]],A);return ce(ye,C)}function Ke(D,A){return ce((0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.Eras],A)}function ht(D){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.FirstDayOfWeek]}function mt(D){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.WeekendRange]}function _n(D,A){return ce((0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.DateFormat],A)}function Nt(D,A){return ce((0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.TimeFormat],A)}function Tt(D,A){return ce((0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.DateTimeFormat],A)}function ot(D,A){const C=(0,E.\u0275findLocaleData)(D),k=C[E.\u0275LocaleDataIndex.NumberSymbols][A];if(typeof k>"u"){if(A===lt.CurrencyDecimal)return C[E.\u0275LocaleDataIndex.NumberSymbols][lt.Decimal];if(A===lt.CurrencyGroup)return C[E.\u0275LocaleDataIndex.NumberSymbols][lt.Group]}return k}function Bt(D,A){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.NumberFormats][A]}function qn(D){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.CurrencySymbol]||null}function Rn(D){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.CurrencyName]||null}function pn(D){return(0,E.\u0275getLocaleCurrencyCode)(D)}const er=E.\u0275getLocalePluralCase;function yr(D){if(!D[E.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[E.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Kn(D){const A=(0,E.\u0275findLocaleData)(D);return yr(A),(A[E.\u0275LocaleDataIndex.ExtraData][2]||[]).map(k=>"string"==typeof k?be(k):[be(k[0]),be(k[1])])}function se(D,A,C){const k=(0,E.\u0275findLocaleData)(D);yr(k);const ye=ce([k[E.\u0275LocaleDataIndex.ExtraData][0],k[E.\u0275LocaleDataIndex.ExtraData][1]],A)||[];return ce(ye,C)||[]}function ee(D){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.Directionality]}function ce(D,A){for(let C=A;C>-1;C--)if(typeof D[C]<"u")return D[C];throw new Error("Locale data API: locale data undefined")}function be(D){const[A,C]=D.split(":");return{hours:+A,minutes:+C}}function me(D,A,C="en"){const k=function On(D){return(0,E.\u0275findLocaleData)(D)[E.\u0275LocaleDataIndex.Currencies]}(C)[D]||Y[D]||[],z=k[1];return"narrow"===A&&"string"==typeof z?z:k[0]||D}const at=2;function mn(D){let A;const C=Y[D];return C&&(A=C[2]),"number"==typeof A?A:at}const Lt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ht={},Cn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var St=(()=>((St=St||{})[St.Short=0]="Short",St[St.ShortGMT=1]="ShortGMT",St[St.Long=2]="Long",St[St.Extended=3]="Extended",St))(),wt=(()=>((wt=wt||{})[wt.FullYear=0]="FullYear",wt[wt.Month=1]="Month",wt[wt.Date=2]="Date",wt[wt.Hours=3]="Hours",wt[wt.Minutes=4]="Minutes",wt[wt.Seconds=5]="Seconds",wt[wt.FractionalSeconds=6]="FractionalSeconds",wt[wt.Day=7]="Day",wt))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function tn(D,A,C,k){let z=function M(D){if(X(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[z,ye=1,Pe=1]=D.split("-").map(xt=>+xt);return zt(z,ye-1,Pe)}const C=parseFloat(D);if(!isNaN(D-C))return new Date(C);let k;if(k=D.match(Lt))return function W(D){const A=new Date(0);let C=0,k=0;const z=D[8]?A.setUTCFullYear:A.setFullYear,ye=D[8]?A.setUTCHours:A.setHours;D[9]&&(C=Number(D[9]+D[10]),k=Number(D[9]+D[11])),z.call(A,Number(D[1]),Number(D[2])-1,Number(D[3]));const Pe=Number(D[4]||0)-C,xt=Number(D[5]||0)-k,Wn=Number(D[6]||0),Jn=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return ye.call(A,Pe,xt,Wn,Jn),A}(k)}const A=new Date(D);if(!X(A))throw new Error(`Unable to convert "${D}" into a date`);return A}(D);A=Gn(C,A)||A;let xt,Pe=[];for(;A;){if(xt=Cn.exec(A),!xt){Pe.push(A);break}{Pe=Pe.concat(xt.slice(1));const Vn=Pe.pop();if(!Vn)break;A=Vn}}let Wn=z.getTimezoneOffset();k&&(Wn=F(k,Wn),z=function N(D,A,C){const k=C?-1:1,z=D.getTimezoneOffset();return function x(D,A){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+A),D}(D,k*(F(A,z)-z))}(z,k,!0));let Jn="";return Pe.forEach(Vn=>{const Dn=function K(D){if(Zn[D])return Zn[D];let A;switch(D){case"G":case"GG":case"GGG":A=nn(bt.Eras,Xe.Abbreviated);break;case"GGGG":A=nn(bt.Eras,Xe.Wide);break;case"GGGGG":A=nn(bt.Eras,Xe.Narrow);break;case"y":A=Yt(wt.FullYear,1,0,!1,!0);break;case"yy":A=Yt(wt.FullYear,2,0,!0,!0);break;case"yyy":A=Yt(wt.FullYear,3,0,!1,!0);break;case"yyyy":A=Yt(wt.FullYear,4,0,!1,!0);break;case"Y":A=ln(1);break;case"YY":A=ln(2,!0);break;case"YYY":A=ln(3);break;case"YYYY":A=ln(4);break;case"M":case"L":A=Yt(wt.Month,1,1);break;case"MM":case"LL":A=Yt(wt.Month,2,1);break;case"MMM":A=nn(bt.Months,Xe.Abbreviated);break;case"MMMM":A=nn(bt.Months,Xe.Wide);break;case"MMMMM":A=nn(bt.Months,Xe.Narrow);break;case"LLL":A=nn(bt.Months,Xe.Abbreviated,ut.Standalone);break;case"LLLL":A=nn(bt.Months,Xe.Wide,ut.Standalone);break;case"LLLLL":A=nn(bt.Months,Xe.Narrow,ut.Standalone);break;case"w":A=qt(1);break;case"ww":A=qt(2);break;case"W":A=qt(1,!0);break;case"d":A=Yt(wt.Date,1);break;case"dd":A=Yt(wt.Date,2);break;case"c":case"cc":A=Yt(wt.Day,1);break;case"ccc":A=nn(bt.Days,Xe.Abbreviated,ut.Standalone);break;case"cccc":A=nn(bt.Days,Xe.Wide,ut.Standalone);break;case"ccccc":A=nn(bt.Days,Xe.Narrow,ut.Standalone);break;case"cccccc":A=nn(bt.Days,Xe.Short,ut.Standalone);break;case"E":case"EE":case"EEE":A=nn(bt.Days,Xe.Abbreviated);break;case"EEEE":A=nn(bt.Days,Xe.Wide);break;case"EEEEE":A=nn(bt.Days,Xe.Narrow);break;case"EEEEEE":A=nn(bt.Days,Xe.Short);break;case"a":case"aa":case"aaa":A=nn(bt.DayPeriods,Xe.Abbreviated);break;case"aaaa":A=nn(bt.DayPeriods,Xe.Wide);break;case"aaaaa":A=nn(bt.DayPeriods,Xe.Narrow);break;case"b":case"bb":case"bbb":A=nn(bt.DayPeriods,Xe.Abbreviated,ut.Standalone,!0);break;case"bbbb":A=nn(bt.DayPeriods,Xe.Wide,ut.Standalone,!0);break;case"bbbbb":A=nn(bt.DayPeriods,Xe.Narrow,ut.Standalone,!0);break;case"B":case"BB":case"BBB":A=nn(bt.DayPeriods,Xe.Abbreviated,ut.Format,!0);break;case"BBBB":A=nn(bt.DayPeriods,Xe.Wide,ut.Format,!0);break;case"BBBBB":A=nn(bt.DayPeriods,Xe.Narrow,ut.Format,!0);break;case"h":A=Yt(wt.Hours,1,-12);break;case"hh":A=Yt(wt.Hours,2,-12);break;case"H":A=Yt(wt.Hours,1);break;case"HH":A=Yt(wt.Hours,2);break;case"m":A=Yt(wt.Minutes,1);break;case"mm":A=Yt(wt.Minutes,2);break;case"s":A=Yt(wt.Seconds,1);break;case"ss":A=Yt(wt.Seconds,2);break;case"S":A=Yt(wt.FractionalSeconds,1);break;case"SS":A=Yt(wt.FractionalSeconds,2);break;case"SSS":A=Yt(wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":A=hr(St.Short);break;case"ZZZZZ":A=hr(St.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":A=hr(St.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":A=hr(St.Long);break;default:return null}return Zn[D]=A,A}(Vn);Jn+=Dn?Dn(z,C,Wn):"''"===Vn?"'":Vn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Jn}function zt(D,A,C){const k=new Date(0);return k.setFullYear(D,A,C),k.setHours(0,0,0),k}function Gn(D,A){const C=De(D);if(Ht[C]=Ht[C]||{},Ht[C][A])return Ht[C][A];let k="";switch(A){case"shortDate":k=_n(D,Ft.Short);break;case"mediumDate":k=_n(D,Ft.Medium);break;case"longDate":k=_n(D,Ft.Long);break;case"fullDate":k=_n(D,Ft.Full);break;case"shortTime":k=Nt(D,Ft.Short);break;case"mediumTime":k=Nt(D,Ft.Medium);break;case"longTime":k=Nt(D,Ft.Long);break;case"fullTime":k=Nt(D,Ft.Full);break;case"short":const z=Gn(D,"shortTime"),ye=Gn(D,"shortDate");k=un(Tt(D,Ft.Short),[z,ye]);break;case"medium":const Pe=Gn(D,"mediumTime"),xt=Gn(D,"mediumDate");k=un(Tt(D,Ft.Medium),[Pe,xt]);break;case"long":const Wn=Gn(D,"longTime"),Jn=Gn(D,"longDate");k=un(Tt(D,Ft.Long),[Wn,Jn]);break;case"full":const Vn=Gn(D,"fullTime"),Dn=Gn(D,"fullDate");k=un(Tt(D,Ft.Full),[Vn,Dn])}return k&&(Ht[C][A]=k),k}function un(D,A){return A&&(D=D.replace(/\{([^}]+)}/g,function(C,k){return null!=A&&k in A?A[k]:C})),D}function Bn(D,A,C="-",k,z){let ye="";(D<0||z&&D<=0)&&(z?D=1-D:(D=-D,ye=C));let Pe=String(D);for(;Pe.length<A;)Pe="0"+Pe;return k&&(Pe=Pe.slice(Pe.length-A)),ye+Pe}function Yt(D,A,C=0,k=!1,z=!1){return function(ye,Pe){let xt=function Ir(D,A){switch(D){case wt.FullYear:return A.getFullYear();case wt.Month:return A.getMonth();case wt.Date:return A.getDate();case wt.Hours:return A.getHours();case wt.Minutes:return A.getMinutes();case wt.Seconds:return A.getSeconds();case wt.FractionalSeconds:return A.getMilliseconds();case wt.Day:return A.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,ye);if((C>0||xt>-C)&&(xt+=C),D===wt.Hours)0===xt&&-12===C&&(xt=12);else if(D===wt.FractionalSeconds)return function Pr(D,A){return Bn(D,3).substring(0,A)}(xt,A);const Wn=ot(Pe,lt.MinusSign);return Bn(xt,A,Wn,k,z)}}function nn(D,A,C=ut.Format,k=!1){return function(z,ye){return function kr(D,A,C,k,z,ye){switch(C){case bt.Months:return Ze(A,z,k)[D.getMonth()];case bt.Days:return Be(A,z,k)[D.getDay()];case bt.DayPeriods:const Pe=D.getHours(),xt=D.getMinutes();if(ye){const Jn=Kn(A),Vn=se(A,z,k),Dn=Jn.findIndex(En=>{if(Array.isArray(En)){const[tr,vr]=En,fo=Pe>=tr.hours&&xt>=tr.minutes,Oi=Pe<vr.hours||Pe===vr.hours&&xt<vr.minutes;if(tr.hours<vr.hours){if(fo&&Oi)return!0}else if(fo||Oi)return!0}else if(En.hours===Pe&&En.minutes===xt)return!0;return!1});if(-1!==Dn)return Vn[Dn]}return xe(A,z,k)[Pe<12?0:1];case bt.Eras:return Ke(A,k)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${C}`)}}(z,ye,D,A,C,k)}}function hr(D){return function(A,C,k){const z=-1*k,ye=ot(C,lt.MinusSign),Pe=z>0?Math.floor(z/60):Math.ceil(z/60);switch(D){case St.Short:return(z>=0?"+":"")+Bn(Pe,2,ye)+Bn(Math.abs(z%60),2,ye);case St.ShortGMT:return"GMT"+(z>=0?"+":"")+Bn(Pe,1,ye);case St.Long:return"GMT"+(z>=0?"+":"")+Bn(Pe,2,ye)+":"+Bn(Math.abs(z%60),2,ye);case St.Extended:return 0===k?"Z":(z>=0?"+":"")+Bn(Pe,2,ye)+":"+Bn(Math.abs(z%60),2,ye);default:throw new Error(`Unknown zone width "${D}"`)}}}const Je=0,ke=4;function kt(D){return zt(D.getFullYear(),D.getMonth(),D.getDate()+(ke-D.getDay()))}function qt(D,A=!1){return function(C,k){let z;if(A){const ye=new Date(C.getFullYear(),C.getMonth(),1).getDay()-1,Pe=C.getDate();z=1+Math.floor((Pe+ye)/7)}else{const ye=kt(C),Pe=function gt(D){const A=zt(D,Je,1).getDay();return zt(D,0,1+(A<=ke?ke:ke+7)-A)}(ye.getFullYear()),xt=ye.getTime()-Pe.getTime();z=1+Math.round(xt/6048e5)}return Bn(z,D,ot(k,lt.MinusSign))}}function ln(D,A=!1){return function(C,k){return Bn(kt(C).getFullYear(),D,ot(k,lt.MinusSign),A)}}const Zn={};function F(D,A){D=D.replace(/:/g,"");const C=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(C)?A:C}function X(D){return D instanceof Date&&!isNaN(D.valueOf())}const Ge=/^(\d+)?\.((\d+)(-(\d+))?)?$/,dt=22,pt=".",Pt="0",Mt=";",vt=",",jt="#",An="\xa4",vs="%";function _s(D,A,C,k,z,ye,Pe=!1){let xt="",Wn=!1;if(isFinite(D)){let Jn=function et(D){let k,z,ye,Pe,xt,A=Math.abs(D)+"",C=0;for((z=A.indexOf(pt))>-1&&(A=A.replace(pt,"")),(ye=A.search(/e/i))>0?(z<0&&(z=ye),z+=+A.slice(ye+1),A=A.substring(0,ye)):z<0&&(z=A.length),ye=0;A.charAt(ye)===Pt;ye++);if(ye===(xt=A.length))k=[0],z=1;else{for(xt--;A.charAt(xt)===Pt;)xt--;for(z-=ye,k=[],Pe=0;ye<=xt;ye++,Pe++)k[Pe]=Number(A.charAt(ye))}return z>dt&&(k=k.splice(0,dt-1),C=z-1,z=1),{digits:k,exponent:C,integerLen:z}}(D);Pe&&(Jn=function Oe(D){if(0===D.digits[0])return D;const A=D.digits.length-D.integerLen;return D.exponent?D.exponent+=2:(0===A?D.digits.push(0,0):1===A&&D.digits.push(0),D.integerLen+=2),D}(Jn));let Vn=A.minInt,Dn=A.minFrac,En=A.maxFrac;if(ye){const po=ye.match(Ge);if(null===po)throw new Error(`${ye} is not a valid digit info`);const go=po[1],pu=po[3],mo=po[5];null!=go&&(Vn=cn(go)),null!=pu&&(Dn=cn(pu)),null!=mo?En=cn(mo):null!=pu&&Dn>En&&(En=Dn)}!function ct(D,A,C){if(A>C)throw new Error(`The minimum number of digits after fraction (${A}) is higher than the maximum (${C}).`);let k=D.digits,z=k.length-D.integerLen;const ye=Math.min(Math.max(A,z),C);let Pe=ye+D.integerLen,xt=k[Pe];if(Pe>0){k.splice(Math.max(D.integerLen,Pe));for(let Dn=Pe;Dn<k.length;Dn++)k[Dn]=0}else{z=Math.max(0,z),D.integerLen=1,k.length=Math.max(1,Pe=ye+1),k[0]=0;for(let Dn=1;Dn<Pe;Dn++)k[Dn]=0}if(xt>=5)if(Pe-1<0){for(let Dn=0;Dn>Pe;Dn--)k.unshift(0),D.integerLen++;k.unshift(1),D.integerLen++}else k[Pe-1]++;for(;z<Math.max(0,ye);z++)k.push(0);let Wn=0!==ye;const Jn=A+D.integerLen,Vn=k.reduceRight(function(Dn,En,tr,vr){return vr[tr]=(En+=Dn)<10?En:En-10,Wn&&(0===vr[tr]&&tr>=Jn?vr.pop():Wn=!1),En>=10?1:0},0);Vn&&(k.unshift(Vn),D.integerLen++)}(Jn,Dn,En);let tr=Jn.digits,vr=Jn.integerLen;const fo=Jn.exponent;let Oi=[];for(Wn=tr.every(po=>!po);vr<Vn;vr++)tr.unshift(0);for(;vr<0;vr++)tr.unshift(0);vr>0?Oi=tr.splice(vr,tr.length):(Oi=tr,tr=[0]);const Ts=[];for(tr.length>=A.lgSize&&Ts.unshift(tr.splice(-A.lgSize,tr.length).join(""));tr.length>A.gSize;)Ts.unshift(tr.splice(-A.gSize,tr.length).join(""));tr.length&&Ts.unshift(tr.join("")),xt=Ts.join(ot(C,k)),Oi.length&&(xt+=ot(C,z)+Oi.join("")),fo&&(xt+=ot(C,lt.Exponential)+"+"+fo)}else xt=ot(C,lt.Infinity);return xt=D<0&&!Wn?A.negPre+xt+A.negSuf:A.posPre+xt+A.posSuf,xt}function Vi(D,A,C,k,z){const Pe=re(Bt(A,pe.Currency),ot(A,lt.MinusSign));return Pe.minFrac=mn(k),Pe.maxFrac=Pe.minFrac,_s(D,Pe,A,lt.CurrencyGroup,lt.CurrencyDecimal,z).replace(An,C).replace(An,"").trim()}function Is(D,A,C){return _s(D,re(Bt(A,pe.Percent),ot(A,lt.MinusSign)),A,lt.Group,lt.Decimal,C,!0).replace(new RegExp(vs,"g"),ot(A,lt.PercentSign))}function ar(D,A,C){return _s(D,re(Bt(A,pe.Decimal),ot(A,lt.MinusSign)),A,lt.Group,lt.Decimal,C)}function re(D,A="-"){const C={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},k=D.split(Mt),z=k[0],ye=k[1],Pe=-1!==z.indexOf(pt)?z.split(pt):[z.substring(0,z.lastIndexOf(Pt)+1),z.substring(z.lastIndexOf(Pt)+1)],xt=Pe[0],Wn=Pe[1]||"";C.posPre=xt.substring(0,xt.indexOf(jt));for(let Vn=0;Vn<Wn.length;Vn++){const Dn=Wn.charAt(Vn);Dn===Pt?C.minFrac=C.maxFrac=Vn+1:Dn===jt?C.maxFrac=Vn+1:C.posSuf+=Dn}const Jn=xt.split(vt);if(C.gSize=Jn[1]?Jn[1].length:0,C.lgSize=Jn[2]||Jn[1]?(Jn[2]||Jn[1]).length:0,ye){const Vn=z.length-C.posPre.length-C.posSuf.length,Dn=ye.indexOf(jt);C.negPre=ye.substring(0,Dn).replace(/'/g,""),C.negSuf=ye.slice(Dn+Vn).replace(/'/g,"")}else C.negPre=A+C.posPre,C.negSuf=C.posSuf;return C}function cn(D){const A=parseInt(D);if(isNaN(A))throw new Error("Invalid integer literal when parsing "+D);return A}let rn=(()=>{class D{}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:function(C){let k=null;return C?k=new C:(z=E.\u0275\u0275inject(E.LOCALE_ID),k=new Fn(z)),k;var z},providedIn:"root"}),D})();function Qn(D,A,C,k){let z=`=${D}`;if(A.indexOf(z)>-1||(z=C.getPluralCategory(D,k),A.indexOf(z)>-1))return z;if(A.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${D}"`)}let Fn=(()=>{class D extends rn{constructor(C){super(),this.locale=C}getPluralCategory(C,k){switch(er(k||this.locale)(C)){case Ne.Zero:return"zero";case Ne.One:return"one";case Ne.Two:return"two";case Ne.Few:return"few";case Ne.Many:return"many";default:return"other"}}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275inject(E.LOCALE_ID))},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})();function Ar(D,A,C){return(0,E.\u0275registerLocaleData)(D,A,C)}function ft(D,A){A=encodeURIComponent(A);for(const C of D.split(";")){const k=C.indexOf("="),[z,ye]=-1==k?[C,""]:[C.slice(0,k),C.slice(k+1)];if(z.trim()===A)return decodeURIComponent(ye)}return null}const ie=/\s+/,Nn=[];let Mr=(()=>{class D{constructor(C,k,z,ye){this._iterableDiffers=C,this._keyValueDiffers=k,this._ngEl=z,this._renderer=ye,this.initialClasses=Nn,this.stateMap=new Map}set klass(C){this.initialClasses=null!=C?C.trim().split(ie):Nn}set ngClass(C){this.rawClass="string"==typeof C?C.trim().split(ie):C}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const C=this.rawClass;if(Array.isArray(C)||C instanceof Set)for(const k of C)this._updateState(k,!0);else if(null!=C)for(const k of Object.keys(C))this._updateState(k,Boolean(C[k]));this._applyStateDiff()}_updateState(C,k){const z=this.stateMap.get(C);void 0!==z?(z.enabled!==k&&(z.changed=!0,z.enabled=k),z.touched=!0):this.stateMap.set(C,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const C of this.stateMap){const k=C[0],z=C[1];z.changed?(this._toggleClass(k,z.enabled),z.changed=!1):z.touched||(z.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),z.touched=!1}}_toggleClass(C,k){(C=C.trim()).length>0&&C.split(ie).forEach(z=>{k?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.IterableDiffers),E.\u0275\u0275directiveInject(E.KeyValueDiffers),E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(E.Renderer2))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})(),dn=(()=>{class D{constructor(C){this._viewContainerRef=C,this.ngComponentOutlet=null}ngOnChanges(C){const{_viewContainerRef:k,ngComponentOutletNgModule:z,ngComponentOutletNgModuleFactory:ye}=this;if(k.clear(),this._componentRef=void 0,this.ngComponentOutlet){const Pe=this.ngComponentOutletInjector||k.parentInjector;(C.ngComponentOutletNgModule||C.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=z?(0,E.createNgModule)(z,$n(Pe)):ye?ye.create($n(Pe)):void 0),this._componentRef=k.createComponent(this.ngComponentOutlet,{index:k.length,injector:Pe,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ViewContainerRef))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[E.\u0275\u0275NgOnChangesFeature]}),D})();function $n(D){return D.get(E.NgModuleRef).injector}class Yn{constructor(A,C,k,z){this.$implicit=A,this.ngForOf=C,this.index=k,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rs=(()=>{class D{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,k,z){this._viewContainer=C,this._template=k,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const k=this._viewContainer;C.forEachOperation((z,ye,Pe)=>{if(null==z.previousIndex)k.createEmbeddedView(this._template,new Yn(z.item,this._ngForOf,-1,-1),null===Pe?void 0:Pe);else if(null==Pe)k.remove(null===ye?void 0:ye);else if(null!==ye){const xt=k.get(ye);k.move(xt,Pe),rr(xt,z)}});for(let z=0,ye=k.length;z<ye;z++){const xt=k.get(z).context;xt.index=z,xt.count=ye,xt.ngForOf=this._ngForOf}C.forEachIdentityChange(z=>{rr(k.get(z.currentIndex),z)})}static ngTemplateContextGuard(C,k){return!0}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ViewContainerRef),E.\u0275\u0275directiveInject(E.TemplateRef),E.\u0275\u0275directiveInject(E.IterableDiffers))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function rr(D,A){D.context.$implicit=A.item}let Ui=(()=>{class D{constructor(C,k){this._viewContainer=C,this._context=new Si,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){js("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){js("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,k){return!0}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ViewContainerRef),E.\u0275\u0275directiveInject(E.TemplateRef))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class Si{constructor(){this.$implicit=null,this.ngIf=null}}function js(D,A){if(A&&!A.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,E.\u0275stringify)(A)}'.`)}class Ai{constructor(A,C){this._viewContainerRef=A,this._templateRef=C,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(A){A&&!this._created?this.create():!A&&this._created&&this.destroy()}}let fr=(()=>{class D{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(C){this._ngSwitch=C,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(C){this._defaultViews.push(C)}_matchCase(C){const k=C==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||k,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),k}_updateDefaultCases(C){if(this._defaultViews.length>0&&C!==this._defaultUsed){this._defaultUsed=C;for(const k of this._defaultViews)k.enforceState(C)}}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),ji=(()=>{class D{constructor(C,k,z){this.ngSwitch=z,z._addCase(),this._view=new Ai(C,k)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ViewContainerRef),E.\u0275\u0275directiveInject(E.TemplateRef),E.\u0275\u0275directiveInject(fr,9))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),Bi=(()=>{class D{constructor(C,k,z){z._addDefault(new Ai(C,k))}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ViewContainerRef),E.\u0275\u0275directiveInject(E.TemplateRef),E.\u0275\u0275directiveInject(fr,9))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0}),D})(),vi=(()=>{class D{constructor(C){this._localization=C,this._caseViews={}}set ngPlural(C){this._updateView(C)}addCase(C,k){this._caseViews[C]=k}_updateView(C){this._clearViews();const z=Qn(C,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[z])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(C){C&&(this._activeView=C,this._activeView.create())}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(rn))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),D})(),is=(()=>{class D{constructor(C,k,z,ye){this.value=C;const Pe=!isNaN(Number(C));ye.addCase(Pe?`=${C}`:C,new Ai(z,k))}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275injectAttribute("ngPluralCase"),E.\u0275\u0275directiveInject(E.TemplateRef),E.\u0275\u0275directiveInject(E.ViewContainerRef),E.\u0275\u0275directiveInject(vi,1))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngPluralCase",""]],standalone:!0}),D})(),Zt=(()=>{class D{constructor(C,k,z){this._ngEl=C,this._differs=k,this._renderer=z,this._ngStyle=null,this._differ=null}set ngStyle(C){this._ngStyle=C,!this._differ&&C&&(this._differ=this._differs.find(C).create())}ngDoCheck(){if(this._differ){const C=this._differ.diff(this._ngStyle);C&&this._applyChanges(C)}}_setStyle(C,k){const[z,ye]=C.split("."),Pe=-1===z.indexOf("-")?void 0:E.RendererStyleFlags2.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,z,ye?`${k}${ye}`:k,Pe):this._renderer.removeStyle(this._ngEl.nativeElement,z,Pe)}_applyChanges(C){C.forEachRemovedItem(k=>this._setStyle(k.key,null)),C.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),C.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(E.KeyValueDiffers),E.\u0275\u0275directiveInject(E.Renderer2))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})(),Bs=(()=>{class D{constructor(C){this._viewContainerRef=C,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(C){if(C.ngTemplateOutlet||C.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:z,ngTemplateOutletContext:ye,ngTemplateOutletInjector:Pe}=this;this._viewRef=k.createEmbeddedView(z,ye,Pe?{injector:Pe}:void 0)}else this._viewRef=null}else this._viewRef&&C.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ViewContainerRef))},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[E.\u0275\u0275NgOnChangesFeature]}),D})();function ir(D,A){return new E.\u0275RuntimeError(2100,!1)}class ss{createSubscription(A,C){return A.subscribe({next:C,error:k=>{throw k}})}dispose(A){A.unsubscribe()}}class Mi{createSubscription(A,C){return A.then(C,k=>{throw k})}dispose(A){}}const os=new Mi,Er=new ss;let tl=(()=>{class D{constructor(C){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=C}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(C){return this._obj?C!==this._obj?(this._dispose(),this.transform(C)):this._latestValue:(C&&this._subscribe(C),this._latestValue)}_subscribe(C){this._obj=C,this._strategy=this._selectStrategy(C),this._subscription=this._strategy.createSubscription(C,k=>this._updateLatestValue(C,k))}_selectStrategy(C){if((0,E.\u0275isPromise)(C))return os;if((0,E.\u0275isSubscribable)(C))return Er;throw ir()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(C,k){C===this._obj&&(this._latestValue=k,this._ref.markForCheck())}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.ChangeDetectorRef,16))},D.\u0275pipe=E.\u0275\u0275definePipe({name:"async",type:D,pure:!1,standalone:!0}),D})(),Wr=(()=>{class D{transform(C){if(null==C)return null;if("string"!=typeof C)throw ir();return C.toLowerCase()}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275pipe=E.\u0275\u0275definePipe({name:"lowercase",type:D,pure:!0,standalone:!0}),D})();const xi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let $s=(()=>{class D{transform(C){if(null==C)return null;if("string"!=typeof C)throw ir();return C.replace(xi,k=>k[0].toUpperCase()+k.slice(1).toLowerCase())}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275pipe=E.\u0275\u0275definePipe({name:"titlecase",type:D,pure:!0,standalone:!0}),D})(),_i=(()=>{class D{transform(C){if(null==C)return null;if("string"!=typeof C)throw ir();return C.toUpperCase()}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275pipe=E.\u0275\u0275definePipe({name:"uppercase",type:D,pure:!0,standalone:!0}),D})();const qr=new E.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE"),da=new E.InjectionToken("DATE_PIPE_DEFAULT_OPTIONS");let ho=(()=>{class D{constructor(C,k,z){this.locale=C,this.defaultTimezone=k,this.defaultOptions=z}transform(C,k,z,ye){if(null==C||""===C||C!=C)return null;try{return tn(C,k??this.defaultOptions?.dateFormat??"mediumDate",ye||this.locale,z??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Pe){throw ir()}}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.LOCALE_ID,16),E.\u0275\u0275directiveInject(qr,24),E.\u0275\u0275directiveInject(da,24))},D.\u0275pipe=E.\u0275\u0275definePipe({name:"date",type:D,pure:!0,standalone:!0}),D})();const Mc=/#/g;let Po=(()=>{class D{constructor(C){this._localization=C}transform(C,k,z){if(null==C)return"";if("object"!=typeof k||null===k)throw ir();return k[Qn(C,Object.keys(k),this._localization,z)].replace(Mc,C.toString())}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(rn,16))},D.\u0275pipe=E.\u0275\u0275definePipe({name:"i18nPlural",type:D,pure:!0,standalone:!0}),D})(),Hi=(()=>{class D{transform(C,k){if(null==C)return"";if("object"!=typeof k||"string"!=typeof C)throw ir();return k.hasOwnProperty(C)?k[C]:k.hasOwnProperty("other")?k.other:""}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275pipe=E.\u0275\u0275definePipe({name:"i18nSelect",type:D,pure:!0,standalone:!0}),D})(),Hs=(()=>{class D{transform(C){return JSON.stringify(C,null,2)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275pipe=E.\u0275\u0275definePipe({name:"json",type:D,pure:!1,standalone:!0}),D})(),ha=(()=>{class D{constructor(C){this.differs=C,this.keyValues=[],this.compareFn=fa}transform(C,k=fa){if(!C||!(C instanceof Map)&&"object"!=typeof C)return null;this.differ||(this.differ=this.differs.find(C).create());const z=this.differ.diff(C),ye=k!==this.compareFn;return z&&(this.keyValues=[],z.forEachItem(Pe=>{this.keyValues.push(function zs(D,A){return{key:D,value:A}}(Pe.key,Pe.currentValue))})),(z||ye)&&(this.keyValues.sort(k),this.compareFn=k),this.keyValues}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.KeyValueDiffers,16))},D.\u0275pipe=E.\u0275\u0275definePipe({name:"keyvalue",type:D,pure:!1,standalone:!0}),D})();function fa(D,A){const C=D.key,k=A.key;if(C===k)return 0;if(void 0===C)return 1;if(void 0===k)return-1;if(null===C)return 1;if(null===k)return-1;if("string"==typeof C&&"string"==typeof k)return C<k?-1:1;if("number"==typeof C&&"number"==typeof k)return C-k;if("boolean"==typeof C&&"boolean"==typeof k)return C<k?-1:1;const z=String(C),ye=String(k);return z==ye?0:z<ye?-1:1}let pa=(()=>{class D{constructor(C){this._locale=C}transform(C,k,z){if(!qs(C))return null;z=z||this._locale;try{return ar(zi(C),z,k)}catch(ye){throw ir()}}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.LOCALE_ID,16))},D.\u0275pipe=E.\u0275\u0275definePipe({name:"number",type:D,pure:!0,standalone:!0}),D})(),Gs=(()=>{class D{constructor(C){this._locale=C}transform(C,k,z){if(!qs(C))return null;z=z||this._locale;try{return Is(zi(C),z,k)}catch(ye){throw ir()}}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.LOCALE_ID,16))},D.\u0275pipe=E.\u0275\u0275definePipe({name:"percent",type:D,pure:!0,standalone:!0}),D})(),Ws=(()=>{class D{constructor(C,k="USD"){this._locale=C,this._defaultCurrencyCode=k}transform(C,k=this._defaultCurrencyCode,z="symbol",ye,Pe){if(!qs(C))return null;Pe=Pe||this._locale,"boolean"==typeof z&&(z=z?"symbol":"code");let xt=k||this._defaultCurrencyCode;"code"!==z&&(xt="symbol"===z||"symbol-narrow"===z?me(xt,"symbol"===z?"wide":"narrow",Pe):z);try{return Vi(zi(C),Pe,xt,k,ye)}catch(Wn){throw ir()}}}return D.\u0275fac=function(C){return new(C||D)(E.\u0275\u0275directiveInject(E.LOCALE_ID,16),E.\u0275\u0275directiveInject(E.DEFAULT_CURRENCY_CODE,16))},D.\u0275pipe=E.\u0275\u0275definePipe({name:"currency",type:D,pure:!0,standalone:!0}),D})();function qs(D){return!(null==D||""===D||D!=D)}function zi(D){if("string"==typeof D&&!isNaN(Number(D)-parseFloat(D)))return Number(D);if("number"!=typeof D)throw new Error(`${D} is not a number`);return D}let ga=(()=>{class D{transform(C,k,z){if(null==C)return null;if(!this.supports(C))throw ir();return C.slice(k,z)}supports(C){return"string"==typeof C||Array.isArray(C)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275pipe=E.\u0275\u0275definePipe({name:"slice",type:D,pure:!1,standalone:!0}),D})(),Es=(()=>{class D{}return D.\u0275fac=function(C){return new(C||D)},D.\u0275mod=E.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=E.\u0275\u0275defineInjector({}),D})();const Fr="browser",Ks="server",xc="browserWorkerApp",nu="browserWorkerUi";function Gi(D){return D===Fr}function ws(D){return D===Ks}function Zs(D){return D===xc}function Wi(D){return D===nu}const Qs=new E.Version("15.2.2");let Fo=(()=>{class D{}return D.\u0275prov=(0,E.\u0275\u0275defineInjectable)({token:D,providedIn:"root",factory:()=>new Lo((0,E.\u0275\u0275inject)(fe),window)}),D})();class Lo{constructor(A,C){this.document=A,this.window=C,this.offset=()=>[0,0]}setOffset(A){this.offset=Array.isArray(A)?()=>A:A}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(A){this.supportsScrolling()&&this.window.scrollTo(A[0],A[1])}scrollToAnchor(A){if(!this.supportsScrolling())return;const C=function as(D,A){const C=D.getElementById(A)||D.getElementsByName(A)[0];if(C)return C;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const k=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let z=k.currentNode;for(;z;){const ye=z.shadowRoot;if(ye){const Pe=ye.getElementById(A)||ye.querySelector(`[name="${A}"]`);if(Pe)return Pe}z=k.nextNode()}}return null}(this.document,A);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(A){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=A)}}scrollToElement(A){const C=A.getBoundingClientRect(),k=C.left+this.window.pageXOffset,z=C.top+this.window.pageYOffset,ye=this.offset();this.window.scrollTo(k-ye[0],z-ye[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const A=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!A||!A.writable&&!A.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ti(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Ii{setOffset(A){}getScrollPosition(){return[0,0]}scrollToPosition(A){}scrollToAnchor(A){}setHistoryScrollRestoration(A){}}class ru{}function B(D){return D.startsWith("/")?D.slice(1):D}const U=D=>D.src,Q=new E.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>U});function Ie(D,A){return function(k){return function wr(D){if("string"!=typeof D||""===D.trim())return!1;try{return new URL(D),!0}catch{return!1}}(k)||function Qe(D,A){throw new E.\u0275RuntimeError(2959,!1)}(),k=function iu(D){return D.endsWith("/")?D.slice(0,-1):D}(k),[{provide:Q,useValue:Pe=>(function Ds(D){return/^https?:\/\//.test(D)}(Pe.src)&&function tt(D,A){throw new E.\u0275RuntimeError(2959,!1)}(),D(k,{...Pe,src:B(Pe.src)}))}]}}const Ut=Ie(Ln);function Ln(D,A){let C="format=auto";return A.width&&(C+=`,width=${A.width}`),`${D}/cdn-cgi/image/${C}/${A.src}`}const on=Ie(Gt);function Gt(D,A){let C="f_auto,q_auto";return A.width&&(C+=`,w_${A.width}`),`${D}/image/upload/${C}/${A.src}`}const Xs=Ie(hi);function hi(D,A){let C="tr:q-auto";return A.width&&(C+=`,w-${A.width}`),`${D}/${C}/${A.src}`}const qe=Ie(Tn);function Tn(D,A){const C=new URL(`${D}/${A.src}`);return C.searchParams.set("auto","format"),A.width&&C.searchParams.set("w",A.width.toString()),C.href}const Ei=new E.InjectionToken("PRECONNECT_CHECK_BLOCKLIST"),yp=new E.InjectionToken("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let ou=(()=>{class D{constructor(){this.preloadedImages=(0,E.inject)(yp),this.document=(0,E.inject)(fe)}createPreloadLinkTag(C,k,z,ye){if(this.preloadedImages.has(k))return;this.preloadedImages.add(k);const Pe=C.createElement("link");C.setAttribute(Pe,"as","image"),C.setAttribute(Pe,"href",k),C.setAttribute(Pe,"rel","preload"),C.setAttribute(Pe,"fetchpriority","high"),ye&&C.setAttribute(Pe,"imageSizes",ye),z&&C.setAttribute(Pe,"imageSrcset",z),C.appendChild(this.document.head,Pe)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const qi=/^((\s*\d+w\s*(,|$)){1,})$/,Nc=[1,2],au={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},uu=new E.InjectionToken("ImageConfig",{providedIn:"root",factory:()=>au});let Oc=(()=>{class D{constructor(){this.imageLoader=(0,E.inject)(Q),this.config=function Pc(D){let A={};return D.breakpoints&&(A.breakpoints=D.breakpoints.sort((C,k)=>C-k)),Object.assign({},au,D,A)}((0,E.inject)(uu)),this.renderer=(0,E.inject)(E.Renderer2),this.imgElement=(0,E.inject)(E.ElementRef).nativeElement,this.injector=(0,E.inject)(E.Injector),this.isServer=ws((0,E.inject)(E.PLATFORM_ID)),this.preloadLinkChecker=(0,E.inject)(ou),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1,this._disableOptimizedSrcset=!1,this._fill=!1}set width(C){this._width=lu(C)}get width(){return this._width}set height(C){this._height=lu(C)}get height(){return this._height}set priority(C){this._priority=cu(C)}get priority(){return this._priority}set disableOptimizedSrcset(C){this._disableOptimizedSrcset=cu(C)}get disableOptimizedSrcset(){return this._disableOptimizedSrcset}set fill(C){this._fill=cu(C)}get fill(){return this._fill}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const C=this.getRewrittenSrc();let k;this.setHostAttribute("src",C),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?k=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(k=this.getAutomaticSrcset()),k&&this.setHostAttribute("srcset",k),this.isServer&&this.priority&&this.preloadLinkChecker.createPreloadLinkTag(this.renderer,C,k,this.sizes)}ngOnChanges(C){}callImageLoader(C){let k=C;return this.loaderParams&&(k.loaderParams=this.loaderParams),this.imageLoader(k)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const C=qi.test(this.ngSrcset);return this.ngSrcset.split(",").filter(z=>""!==z).map(z=>{z=z.trim();const ye=C?parseFloat(z):parseFloat(z)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:ye})} ${z}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:C}=this.config;let k=C;return"100vw"===this.sizes?.trim()&&(k=C.filter(ye=>ye>=640)),k.map(ye=>`${this.callImageLoader({src:this.ngSrc,width:ye})} ${ye}w`).join(", ")}getFixedSrcset(){return Nc.map(k=>`${this.callImageLoader({src:this.ngSrc,width:this.width*k})} ${k}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this._disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==U&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(C,k){this.renderer.setAttribute(this.imgElement,C,k)}}return D.\u0275fac=function(C){return new(C||D)},D.\u0275dir=E.\u0275\u0275defineDirective({type:D,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(C,k){2&C&&E.\u0275\u0275styleProp("position",k.fill?"absolute":null)("width",k.fill?"100%":null)("height",k.fill?"100%":null)("inset",k.fill?"0px":null)},inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:"width",height:"height",loading:"loading",priority:"priority",loaderParams:"loaderParams",disableOptimizedSrcset:"disableOptimizedSrcset",fill:"fill",src:"src",srcset:"srcset"},standalone:!0,features:[E.\u0275\u0275NgOnChangesFeature]}),D})();function lu(D){return"string"==typeof D?parseInt(D,10):D}function cu(D){return null!=D&&"false"!=`${D}`}},4650:(Dt,Te,L)=>{"use strict";L.r(Te),L.d(Te,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>jc,ANIMATION_MODULE_TYPE:()=>Sw,APP_BOOTSTRAP_LISTENER:()=>Pw,APP_ID:()=>ww,APP_INITIALIZER:()=>Ew,ApplicationInitStatus:()=>Dc,ApplicationModule:()=>_S,ApplicationRef:()=>Mm,Attribute:()=>ri,COMPILER_OPTIONS:()=>sb,CUSTOM_ELEMENTS_SCHEMA:()=>El,ChangeDetectionStrategy:()=>N,ChangeDetectorRef:()=>Jf,Compiler:()=>ib,CompilerFactory:()=>eS,Component:()=>Zf,ComponentFactory:()=>hs,ComponentFactoryResolver:()=>To,ComponentRef:()=>Gh,ContentChild:()=>to,ContentChildren:()=>yu,DEFAULT_CURRENCY_CODE:()=>nI,DebugElement:()=>ep,DebugEventListener:()=>mb,DebugNode:()=>gI,DefaultIterableDiffer:()=>Gw,Directive:()=>Ya,ENVIRONMENT_INITIALIZER:()=>by,ElementRef:()=>Wh,EmbeddedViewRef:()=>pI,EnvironmentInjector:()=>Ll,ErrorHandler:()=>Pa,EventEmitter:()=>uo,Host:()=>Tp,HostBinding:()=>XT,HostListener:()=>eI,INJECTOR:()=>Ty,Inject:()=>Ea,InjectFlags:()=>me,Injectable:()=>L0,InjectionToken:()=>nr,Injector:()=>Ru,Input:()=>Gd,IterableDiffers:()=>Ww,KeyValueDiffers:()=>qw,LOCALE_ID:()=>Qf,MissingTranslationStrategy:()=>Xa,ModuleWithComponentFactories:()=>rb,NO_ERRORS_SCHEMA:()=>wl,NgModule:()=>tb,NgModuleFactory:()=>fc,NgModuleRef:()=>Wu,NgProbeToken:()=>lb,NgZone:()=>co,Optional:()=>wa,Output:()=>YT,PACKAGE_ROOT_URL:()=>Tw,PLATFORM_ID:()=>bw,PLATFORM_INITIALIZER:()=>Cw,Pipe:()=>eb,PlatformRef:()=>Sm,Query:()=>ya,QueryList:()=>cm,ReflectiveInjector:()=>Wl,ReflectiveKey:()=>Cr,Renderer2:()=>KD,RendererFactory2:()=>fs,RendererStyleFlags2:()=>Zi,ResolvedReflectiveFactory:()=>Hy,Sanitizer:()=>C0,SecurityContext:()=>gr,Self:()=>yl,SimpleChange:()=>ws,SkipSelf:()=>wo,TRANSLATIONS:()=>Dm,TRANSLATIONS_FORMAT:()=>nb,TemplateRef:()=>$f,Testability:()=>oI,TestabilityRegistry:()=>ub,Type:()=>As,VERSION:()=>Na,Version:()=>b0,ViewChild:()=>Bc,ViewChildren:()=>hl,ViewContainerRef:()=>hm,ViewEncapsulation:()=>M,ViewRef:()=>gb,asNativeElements:()=>yb,assertPlatform:()=>Lw,createComponent:()=>xS,createEnvironmentInjector:()=>Lf,createNgModule:()=>D_,createNgModuleRef:()=>C_,createPlatform:()=>cb,createPlatformFactory:()=>Jt,defineInjectable:()=>Bt,destroyPlatform:()=>db,enableProdMode:()=>fb,forwardRef:()=>q,getDebugNode:()=>tp,getModuleFactory:()=>iS,getNgModuleById:()=>sS,getPlatform:()=>dI,importProvidersFrom:()=>_0,inject:()=>gt,isDevMode:()=>jw,isStandalone:()=>Qn,makeEnvironmentProviders:()=>HT,platformCore:()=>vS,reflectComponentType:()=>RS,resolveForwardRef:()=>Z,setTestabilityGetter:()=>Ow,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>uI,\u0275APP_ID_RANDOM_PROVIDER:()=>wm,\u0275ComponentFactory:()=>hs,\u0275Console:()=>Aw,\u0275DEFAULT_LOCALE_ID:()=>ac,\u0275INJECTOR_SCOPE:()=>od,\u0275LContext:()=>Sh,\u0275LifecycleHooksFeature:()=>ov,\u0275LocaleDataIndex:()=>Xt,\u0275NG_COMP_DEF:()=>Ge,\u0275NG_DIR_DEF:()=>dt,\u0275NG_ELEMENT_ID:()=>vt,\u0275NG_INJ_DEF:()=>ee,\u0275NG_MOD_DEF:()=>Pt,\u0275NG_PIPE_DEF:()=>pt,\u0275NG_PROV_DEF:()=>se,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>qh,\u0275NO_CHANGE:()=>en,\u0275NgModuleFactory:()=>Ud,\u0275NoopNgZone:()=>bm,\u0275ReflectionCapabilities:()=>ml,\u0275Render3ComponentFactory:()=>vd,\u0275Render3ComponentRef:()=>nE,\u0275Render3NgModuleRef:()=>b_,\u0275RuntimeError:()=>he,\u0275TESTABILITY:()=>Nw,\u0275TESTABILITY_GETTER:()=>bc,\u0275ViewRef:()=>Jl,\u0275XSS_SECURITY_URL:()=>We,\u0275_sanitizeHtml:()=>y0,\u0275_sanitizeUrl:()=>$h,\u0275allowSanitizationBypassAndThrow:()=>Rl,\u0275bypassSanitizationTrustHtml:()=>my,\u0275bypassSanitizationTrustResourceUrl:()=>d0,\u0275bypassSanitizationTrustScript:()=>c0,\u0275bypassSanitizationTrustStyle:()=>yy,\u0275bypassSanitizationTrustUrl:()=>Hp,\u0275clearResolutionOfComponentResourcesQueue:()=>Kc,\u0275coerceToBoolean:()=>IS,\u0275compileComponent:()=>q_,\u0275compileDirective:()=>Wf,\u0275compileNgModule:()=>Bd,\u0275compileNgModuleDefs:()=>mw,\u0275compileNgModuleFactory:()=>kw,\u0275compilePipe:()=>Em,\u0275convertToBitFlags:()=>kt,\u0275createInjector:()=>Zp,\u0275defaultIterableDiffers:()=>yS,\u0275defaultKeyValueDiffers:()=>Sb,\u0275detectChanges:()=>dE,\u0275devModeEqual:()=>Ba,\u0275findLocaleData:()=>bf,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>gw,\u0275formatRuntimeError:()=>we,\u0275getDebugNode:()=>tp,\u0275getDebugNodeR2:()=>lS,\u0275getDirectives:()=>em,\u0275getHostElement:()=>tm,\u0275getInjectableDef:()=>Rn,\u0275getLContext:()=>Ur,\u0275getLocaleCurrencyCode:()=>AE,\u0275getLocalePluralCase:()=>ME,\u0275getSanitizationBypassType:()=>gy,\u0275getUnknownElementStrictMode:()=>ty,\u0275getUnknownPropertyStrictMode:()=>xp,\u0275global:()=>St,\u0275injectChangeDetectorRef:()=>fI,\u0275internalCreateApplication:()=>aa,\u0275isBoundToModule:()=>Fw,\u0275isEnvironmentProviders:()=>ue,\u0275isInjectable:()=>pn,\u0275isNgModule:()=>$_,\u0275isObservable:()=>ju,\u0275isPromise:()=>Ha,\u0275isSubscribable:()=>Uu,\u0275makeDecorator:()=>mu,\u0275noSideEffects:()=>x,\u0275patchComponentDefWithScope:()=>$d,\u0275publishDefaultGlobalUtils:()=>Zu,\u0275publishGlobalUtil:()=>lo,\u0275registerLocaleData:()=>Xv,\u0275resetCompiledComponents:()=>YC,\u0275resetJitOptions:()=>fw,\u0275resolveComponentResources:()=>qc,\u0275setAllowDuplicateNgModuleIdsForTest:()=>ey,\u0275setClassMetadata:()=>nm,\u0275setCurrentInjector:()=>kr,\u0275setDocument:()=>a0,\u0275setLocaleId:()=>e_,\u0275setUnknownElementStrictMode:()=>Cl,\u0275setUnknownPropertyStrictMode:()=>Mp,\u0275store:()=>_v,\u0275stringify:()=>ve,\u0275transitiveScopesFor:()=>vc,\u0275unregisterLocaleData:()=>Fg,\u0275unwrapSafeValue:()=>xs,\u0275\u0275CopyDefinitionFeature:()=>aE,\u0275\u0275FactoryTarget:()=>Lr,\u0275\u0275HostDirectivesFeature:()=>Ed,\u0275\u0275InheritDefinitionFeature:()=>so,\u0275\u0275NgOnChangesFeature:()=>Zs,\u0275\u0275ProvidersFeature:()=>Qg,\u0275\u0275StandaloneFeature:()=>Yg,\u0275\u0275advance:()=>ky,\u0275\u0275attribute:()=>cg,\u0275\u0275attributeInterpolate1:()=>cv,\u0275\u0275attributeInterpolate2:()=>dv,\u0275\u0275attributeInterpolate3:()=>hv,\u0275\u0275attributeInterpolate4:()=>fv,\u0275\u0275attributeInterpolate5:()=>pv,\u0275\u0275attributeInterpolate6:()=>gv,\u0275\u0275attributeInterpolate7:()=>mv,\u0275\u0275attributeInterpolate8:()=>yv,\u0275\u0275attributeInterpolateV:()=>vv,\u0275\u0275classMap:()=>Lv,\u0275\u0275classMapInterpolate1:()=>bg,\u0275\u0275classMapInterpolate2:()=>Pd,\u0275\u0275classMapInterpolate3:()=>If,\u0275\u0275classMapInterpolate4:()=>Tg,\u0275\u0275classMapInterpolate5:()=>Sg,\u0275\u0275classMapInterpolate6:()=>Gv,\u0275\u0275classMapInterpolate7:()=>CE,\u0275\u0275classMapInterpolate8:()=>Wv,\u0275\u0275classMapInterpolateV:()=>qv,\u0275\u0275classProp:()=>$u,\u0275\u0275contentQuery:()=>ym,\u0275\u0275defineComponent:()=>An,\u0275\u0275defineDirective:()=>Oe,\u0275\u0275defineInjectable:()=>ot,\u0275\u0275defineInjector:()=>qn,\u0275\u0275defineNgModule:()=>Is,\u0275\u0275definePipe:()=>et,\u0275\u0275directiveInject:()=>Nu,\u0275\u0275disableBindings:()=>ih,\u0275\u0275element:()=>uf,\u0275\u0275elementContainer:()=>hg,\u0275\u0275elementContainerEnd:()=>dg,\u0275\u0275elementContainerStart:()=>lf,\u0275\u0275elementEnd:()=>Md,\u0275\u0275elementStart:()=>Ad,\u0275\u0275enableBindings:()=>Cs,\u0275\u0275getCurrentView:()=>cf,\u0275\u0275getInheritedFactory:()=>Vc,\u0275\u0275hostProperty:()=>Pg,\u0275\u0275i18n:()=>Kg,\u0275\u0275i18nApply:()=>v_,\u0275\u0275i18nAttributes:()=>WE,\u0275\u0275i18nEnd:()=>y_,\u0275\u0275i18nExp:()=>Pf,\u0275\u0275i18nPostprocess:()=>Zg,\u0275\u0275i18nStart:()=>Of,\u0275\u0275inject:()=>Je,\u0275\u0275injectAttribute:()=>Jr,\u0275\u0275invalidFactory:()=>Xh,\u0275\u0275invalidFactoryDep:()=>ke,\u0275\u0275listener:()=>nc,\u0275\u0275loadQuery:()=>cw,\u0275\u0275namespaceHTML:()=>kc,\u0275\u0275namespaceMathML:()=>zo,\u0275\u0275namespaceSVG:()=>il,\u0275\u0275nextContext:()=>pE,\u0275\u0275ngDeclareClassMetadata:()=>wS,\u0275\u0275ngDeclareComponent:()=>DS,\u0275\u0275ngDeclareDirective:()=>ES,\u0275\u0275ngDeclareFactory:()=>CS,\u0275\u0275ngDeclareInjectable:()=>TS,\u0275\u0275ngDeclareInjector:()=>SS,\u0275\u0275ngDeclareNgModule:()=>AS,\u0275\u0275ngDeclarePipe:()=>MS,\u0275\u0275pipe:()=>am,\u0275\u0275pipeBind1:()=>jf,\u0275\u0275pipeBind2:()=>um,\u0275\u0275pipeBind3:()=>k_,\u0275\u0275pipeBind4:()=>Bf,\u0275\u0275pipeBindV:()=>lm,\u0275\u0275projection:()=>df,\u0275\u0275projectionDef:()=>bv,\u0275\u0275property:()=>Ev,\u0275\u0275propertyInterpolate:()=>rc,\u0275\u0275propertyInterpolate1:()=>Yo,\u0275\u0275propertyInterpolate2:()=>Tv,\u0275\u0275propertyInterpolate3:()=>gg,\u0275\u0275propertyInterpolate4:()=>Sv,\u0275\u0275propertyInterpolate5:()=>Av,\u0275\u0275propertyInterpolate6:()=>Mv,\u0275\u0275propertyInterpolate7:()=>ic,\u0275\u0275propertyInterpolate8:()=>za,\u0275\u0275propertyInterpolateV:()=>Xo,\u0275\u0275pureFunction0:()=>rm,\u0275\u0275pureFunction1:()=>im,\u0275\u0275pureFunction2:()=>JE,\u0275\u0275pureFunction3:()=>M_,\u0275\u0275pureFunction4:()=>x_,\u0275\u0275pureFunction5:()=>ew,\u0275\u0275pureFunction6:()=>sm,\u0275\u0275pureFunction7:()=>R_,\u0275\u0275pureFunction8:()=>Vf,\u0275\u0275pureFunctionV:()=>tw,\u0275\u0275queryRefresh:()=>Qa,\u0275\u0275reference:()=>Iv,\u0275\u0275registerNgModuleType:()=>Eh,\u0275\u0275resetView:()=>jo,\u0275\u0275resolveBody:()=>Br,\u0275\u0275resolveDocument:()=>ka,\u0275\u0275resolveWindow:()=>A0,\u0275\u0275restoreView:()=>pr,\u0275\u0275sanitizeHtml:()=>zp,\u0275\u0275sanitizeResourceUrl:()=>Dy,\u0275\u0275sanitizeScript:()=>_t,\u0275\u0275sanitizeStyle:()=>At,\u0275\u0275sanitizeUrl:()=>Vt,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Cy,\u0275\u0275setComponentScope:()=>vs,\u0275\u0275setNgModuleScope:()=>ar,\u0275\u0275styleMap:()=>ao,\u0275\u0275styleMapInterpolate1:()=>Ag,\u0275\u0275styleMapInterpolate2:()=>bE,\u0275\u0275styleMapInterpolate3:()=>Kv,\u0275\u0275styleMapInterpolate4:()=>TE,\u0275\u0275styleMapInterpolate5:()=>Zv,\u0275\u0275styleMapInterpolate6:()=>SE,\u0275\u0275styleMapInterpolate7:()=>sc,\u0275\u0275styleMapInterpolate8:()=>oc,\u0275\u0275styleMapInterpolateV:()=>Mg,\u0275\u0275styleProp:()=>Fv,\u0275\u0275stylePropInterpolate1:()=>kd,\u0275\u0275stylePropInterpolate2:()=>xg,\u0275\u0275stylePropInterpolate3:()=>Rg,\u0275\u0275stylePropInterpolate4:()=>Ng,\u0275\u0275stylePropInterpolate5:()=>Qv,\u0275\u0275stylePropInterpolate6:()=>Ef,\u0275\u0275stylePropInterpolate7:()=>Yv,\u0275\u0275stylePropInterpolate8:()=>wf,\u0275\u0275stylePropInterpolateV:()=>Og,\u0275\u0275syntheticHostListener:()=>fg,\u0275\u0275syntheticHostProperty:()=>Df,\u0275\u0275template:()=>fE,\u0275\u0275templateRefExtractor:()=>Hf,\u0275\u0275text:()=>li,\u0275\u0275textInterpolate:()=>jv,\u0275\u0275textInterpolate1:()=>wg,\u0275\u0275textInterpolate2:()=>Bv,\u0275\u0275textInterpolate3:()=>$v,\u0275\u0275textInterpolate4:()=>Dg,\u0275\u0275textInterpolate5:()=>Hv,\u0275\u0275textInterpolate6:()=>Od,\u0275\u0275textInterpolate7:()=>zv,\u0275\u0275textInterpolate8:()=>Cg,\u0275\u0275textInterpolateV:()=>_f,\u0275\u0275trustConstantHtml:()=>Ce,\u0275\u0275trustConstantResourceUrl:()=>Ye,\u0275\u0275validateIframeAttribute:()=>fy,\u0275\u0275viewQuery:()=>j_});var E=L(7579),h=L(727),V=L(9751),ne=L(6451),ae=L(3099);function fe(i){for(let s in i)if(i[s]===fe)return s;throw Error("Could not find renamed property on target object.")}function ge(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ve(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ve).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function _e(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const G=fe({__forward_ref__:fe});function q(i){return i.__forward_ref__=q,i.toString=function(){return ve(this())},i}function Z(i){return Le(i)?i():i}function Le(i){return"function"==typeof i&&i.hasOwnProperty(G)&&i.__forward_ref__===q}function ue(i){return i&&!!i.\u0275providers}const We="https://g.co/ng/security#xss";class he extends Error{constructor(s,a){super(we(s,a)),this.code=s}}function we(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function Ae(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ae(i)}function rt(i,s){throw new he(-201,!1)}function mt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function ot(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}const Bt=ot;function qn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Rn(i){return On(i,se)||On(i,ce)}function pn(i){return null!==Rn(i)}function On(i,s){return i.hasOwnProperty(s)?i[s]:null}function Kn(i){return i&&(i.hasOwnProperty(ee)||i.hasOwnProperty(be))?i[ee]:null}const se=fe({\u0275prov:fe}),ee=fe({\u0275inj:fe}),ce=fe({ngInjectableDef:fe}),be=fe({ngInjectorDef:fe});var me=(()=>((me=me||{})[me.Default=0]="Default",me[me.Host=1]="Host",me[me.Self=2]="Self",me[me.SkipSelf=4]="SkipSelf",me[me.Optional=8]="Optional",me))();let at;function Lt(i){const s=at;return at=i,s}function Ht(i,s,a){const l=Rn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&me.Optional?null:void 0!==s?s:void rt(ve(i))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zt={},Gn="__NG_DI_FLAG__",un="ngTempTokenPath",Bn="ngTokenPath",Pr=/\n/gm,Yt="\u0275",Ir="__source";let nn;function kr(i){const s=nn;return nn=i,s}function hr(i,s=me.Default){if(void 0===nn)throw new he(-203,!1);return null===nn?Ht(i,void 0,s):nn.get(i,s&me.Optional?null:void 0,s)}function Je(i,s=me.Default){return(function mn(){return at}()||hr)(Z(i),s)}function ke(i){throw new he(202,!1)}function gt(i,s=me.Default){return Je(i,kt(s))}function kt(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function qt(i){const s=[];for(let a=0;a<i.length;a++){const l=Z(i[a]);if(Array.isArray(l)){if(0===l.length)throw new he(900,!1);let c,f=me.Default;for(let y=0;y<l.length;y++){const I=l[y],b=Zn(I);"number"==typeof b?-1===b?c=I.token:f|=b:c=I}s.push(Je(c,f))}else s.push(Je(l))}return s}function ln(i,s){return i[Gn]=s,i.prototype[Gn]=s,i}function Zn(i){return i[Gn]}function x(i){return{toString:i}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),M=(()=>{return(i=M||(M={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",M;var i})();const W={},X=[],Ge=fe({\u0275cmp:fe}),dt=fe({\u0275dir:fe}),pt=fe({\u0275pipe:fe}),Pt=fe({\u0275mod:fe}),Mt=fe({\u0275fac:fe}),vt=fe({__NG_ELEMENT_ID__:fe});let jt=0;function An(i){return x(()=>{const a=!0===i.standalone,l={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||X,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||M.Emulated,id:"c"+jt++,styles:i.styles||X,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=i.dependencies,y=i.features;return c.inputs=re(i.inputs,l),c.outputs=re(i.outputs),y&&y.forEach(I=>I(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(_s).filter(Vi):null,c.pipeDefs=f?()=>("function"==typeof f?f():f).map(rn).filter(Vi):null,c})}function vs(i,s,a){const l=i.\u0275cmp;l.directiveDefs=()=>("function"==typeof s?s():s).map(_s),l.pipeDefs=()=>("function"==typeof a?a():a).map(rn)}function _s(i){return ct(i)||cn(i)}function Vi(i){return null!==i}function Is(i){return x(()=>({type:i.type,bootstrap:i.bootstrap||X,declarations:i.declarations||X,imports:i.imports||X,exports:i.exports||X,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ar(i,s){return x(()=>{const a=Fn(i,!0);a.declarations=s.declarations||X,a.imports=s.imports||X,a.exports=s.exports||X})}function re(i,s){if(null==i)return W;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=l,s&&(s[c]=f)}return a}const Oe=An;function et(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ct(i){return i[Ge]||null}function cn(i){return i[dt]||null}function rn(i){return i[pt]||null}function Qn(i){const s=ct(i)||cn(i)||rn(i);return null!==s&&s.standalone}function Fn(i,s){const a=i[Pt]||null;if(!a&&!0===s)throw new Error(`Type ${ve(i)} does not have '\u0275mod' property.`);return a}const Ar=0,ft=1,ie=2,Nn=3,Mr=4,dn=5,$n=6,ci=7,Yn=8,rs=9,rr=10,sn=11,Ui=12,Si=13,js=14,Ai=15,fr=16,ji=17,Bi=18,$i=19,vi=20,is=21,Zt=22,ca=1,ir=2,ss=7,Mi=8,os=9,Er=10;function Wr(i){return Array.isArray(i)&&"object"==typeof i[ca]}function xi(i){return Array.isArray(i)&&!0===i[ca]}function $s(i){return 0!=(4&i.flags)}function _i(i){return i.componentOffset>-1}function Ri(i){return 1==(1&i.flags)}function qr(i){return null!==i.template}function da(i){return 0!=(256&i[ie])}function Gi(i,s){return i.hasOwnProperty(Mt)?i[Mt]:null}class ws{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Zs(){return Wi}function Wi(i){return i.type.prototype.ngOnChanges&&(i.setInput=Fo),Qs}function Qs(){const i=ti(this),s=i?.current;if(s){const a=i.previous;if(a===W)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Fo(i,s,a,l){const c=this.declaredInputs[a],f=ti(i)||function as(i,s){return i[Lo]=s}(i,{previous:W,current:null}),y=f.current||(f.current={}),I=f.previous,b=I[c];y[c]=new ws(b&&b.currentValue,s,I===W),i[l]=s}Zs.ngInherit=!0;const Lo="__ngSimpleChanges__";function ti(i){return i[Lo]||null}let Ii=null;const ru=i=>{Ii=i},Kr=function(i,s,a){Ii?.(i,s,a)},Ds="svg",Ys="math";function wr(i){for(;Array.isArray(i);)i=i[Ar];return i}function B(i,s){return wr(s[i])}function U(i,s){return wr(s[i.index])}function Ie(i,s){return i.data[s]}function Qe(i,s){return i[s]}function tt(i,s){const a=s[i];return Wr(a)?a:a[Ar]}function Ln(i){return 64==(64&i[ie])}function bn(i,s){return null==s?null:i[s]}function Xn(i){i[Bi]=0}function on(i,s){i[dn]+=s;let a=i,l=i[Nn];for(;null!==l&&(1===s&&1===a[dn]||-1===s&&0===a[dn]);)l[dn]+=s,a=l,l=l[Nn]}const Gt={lFrame:Pc(null),bindingsEnabled:!0};function us(){return Gt.bindingsEnabled}function Cs(){Gt.bindingsEnabled=!0}function ih(){Gt.bindingsEnabled=!1}function qe(){return Gt.lFrame.lView}function Tn(){return Gt.lFrame.tView}function pr(i){return Gt.lFrame.contextLView=i,i[Yn]}function jo(i){return Gt.lFrame.contextLView=null,i}function $r(){let i=Bo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Bo(){return Gt.lFrame.currentTNode}function $o(){const i=Gt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Ei(i,s){const a=Gt.lFrame;a.currentTNode=i,a.isParent=s}function nl(){return Gt.lFrame.isParent}function su(){Gt.lFrame.isParent=!1}function ni(){const i=Gt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function qi(){return Gt.lFrame.bindingIndex}function Rc(i){return Gt.lFrame.bindingIndex=i}function bs(){return Gt.lFrame.bindingIndex++}function Ni(i){const s=Gt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function oh(i){Gt.lFrame.inI18n=i}function ah(i,s){const a=Gt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ho(s)}function Ho(i){Gt.lFrame.currentDirectiveIndex=i}function ma(i){const s=Gt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Js(){return Gt.lFrame.currentQueryIndex}function au(i){Gt.lFrame.currentQueryIndex=i}function uu(i){const s=i[ft];return 2===s.type?s.declTNode:1===s.type?i[$n]:null}function Oc(i,s,a){if(a&me.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&me.Host||(c=uu(f),null===c||(f=f[Ai],10&c.type))););if(null===c)return!1;s=c,i=f}const l=Gt.lFrame=cu();return l.currentTNode=s,l.lView=i,!0}function lu(i){const s=cu(),a=i[ft];Gt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function cu(){const i=Gt.lFrame,s=null===i?null:i.child;return null===s?Pc(i):s}function Pc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function vp(){const i=Gt.lFrame;return Gt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const uh=vp;function lh(){const i=vp();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function wi(){return Gt.lFrame.selectedIndex}function du(i){Gt.lFrame.selectedIndex=i}function Dr(){const i=Gt.lFrame;return Ie(i.tView,i.selectedIndex)}function il(){Gt.lFrame.currentNamespace=Ds}function zo(){Gt.lFrame.currentNamespace=Ys}function kc(){!function Gm(){Gt.lFrame.currentNamespace=null}()}function sl(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:P}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=P&&(i.destroyHooks||(i.destroyHooks=[])).push(a,P)}}function hu(i,s,a){ol(i,s,3,a)}function fu(i,s,a,l){(3&i[ie])===a&&ol(i,s,a,l)}function ch(i,s){let a=i[ie];(3&a)===s&&(a&=2047,a+=1,i[ie]=a)}function ol(i,s,a,l){const f=l??-1,y=s.length-1;let I=0;for(let b=void 0!==l?65535&i[Bi]:0;b<y;b++)if("number"==typeof s[b+1]){if(I=s[b],null!=l&&I>=l)break}else s[b]<0&&(i[Bi]+=65536),(I<f||-1==f)&&(D(i,a,s,b),i[Bi]=(4294901760&i[Bi])+b+2),b++}function D(i,s,a,l){const c=a[l]<0,f=a[l+1],I=i[c?-a[l]:a[l]];if(c){if(i[ie]>>11<i[Bi]>>16&&(3&i[ie])===s){i[ie]+=2048,Kr(4,I,f);try{f.call(I)}finally{Kr(5,I,f)}}}else{Kr(4,I,f);try{f.call(I)}finally{Kr(5,I,f)}}}const A=-1;class C{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Dn(i,s,a){let l=0;for(;l<a.length;){const c=a[l];if("number"==typeof c){if(0!==c)break;l++;const f=a[l++],y=a[l++],I=a[l++];i.setAttribute(s,y,I,f)}else{const f=c,y=a[++l];tr(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),l++}}return l}function En(i){return 3===i||4===i||6===i}function tr(i){return 64===i.charCodeAt(0)}function vr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||fo(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function fo(i,s,a,l,c){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const I=i[f++];if("number"==typeof I){if(I===s){y=-1;break}if(I>s){y=f-1;break}}}for(;f<i.length;){const I=i[f];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==c&&(i[f+1]=c));if(l===i[f+1])return void(i[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==c&&i.splice(f++,0,c)}function Oi(i){return i!==A}function Ts(i){return 32767&i}function go(i,s){let a=function po(i){return i>>16}(i),l=s;for(;a>0;)l=l[Ai],a--;return l}let pu=!0;function mo(i){const s=pu;return pu=i,s}const al=255,Fc=5;let YI=0;const Ss={};function ul(i,s){const a=dh(i,s);if(-1!==a)return a;const l=s[ft];l.firstCreatePass&&(i.injectorIndex=s.length,_p(l.data,i),_p(s,null),_p(l.blueprint,null));const c=hh(i,s),f=i.injectorIndex;if(Oi(c)){const y=Ts(c),I=go(c,s),b=I[ft].data;for(let S=0;S<8;S++)s[f+S]=I[y+S]|b[y+S]}return s[f+8]=c,f}function _p(i,s){i.push(0,0,0,0,0,0,0,0,s)}function dh(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function hh(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){if(l=Uc(c),null===l)return A;if(a++,c=c[Ai],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return A}function Ip(i,s,a){!function Km(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(vt)&&(l=a[vt]),null==l&&(l=a[vt]=YI++);const c=l&al;s.data[i+(c>>Fc)]|=1<<c}(i,s,a)}function JI(i,s,a){if(a&me.Optional||void 0!==i)return i;rt()}function Ep(i,s,a,l){if(a&me.Optional&&void 0===l&&(l=null),!(a&(me.Self|me.Host))){const c=i[rs],f=Lt(void 0);try{return c?c.get(s,l,a&me.Optional):Ht(s,l,a&me.Optional)}finally{Lt(f)}}return JI(l,0,a)}function Zm(i,s,a,l=me.Default,c){if(null!==i){if(1024&s[ie]){const y=function Qm(i,s,a,l,c){let f=i,y=s;for(;null!==f&&null!==y&&1024&y[ie]&&!(256&y[ie]);){const I=wp(f,y,a,l|me.Self,Ss);if(I!==Ss)return I;let b=f.parent;if(!b){const S=y[is];if(S){const P=S.get(a,Ss,l);if(P!==Ss)return P}b=Uc(y),y=y[Ai]}f=b}return c}(i,s,a,l,Ss);if(y!==Ss)return y}const f=wp(i,s,a,l,Ss);if(f!==Ss)return f}return Ep(s,a,l,c)}function wp(i,s,a,l,c){const f=function an(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(vt)?i[vt]:void 0;return"number"==typeof s?s>=0?s&al:Lc:s}(a);if("function"==typeof f){if(!Oc(s,i,l))return l&me.Host?JI(c,0,l):Ep(s,a,l,c);try{const y=f(l);if(null!=y||l&me.Optional)return y;rt()}finally{uh()}}else if("number"==typeof f){let y=null,I=dh(i,s),b=A,S=l&me.Host?s[fr][$n]:null;for((-1===I||l&me.SkipSelf)&&(b=-1===I?hh(i,s):s[I+8],b!==A&&ll(l,!1)?(y=s[ft],I=Ts(b),s=go(b,s)):I=-1);-1!==I;){const P=s[ft];if(gu(f,I,P.data)){const H=yo(I,s,a,y,l,S);if(H!==Ss)return H}b=s[I+8],b!==A&&ll(l,s[ft].data[I+8]===S)&&gu(f,I,s)?(y=P,I=Ts(b),s=go(b,s)):I=-1}}return c}function yo(i,s,a,l,c,f){const y=s[ft],I=y.data[i+8],P=Ot(I,y,a,null==l?_i(I)&&pu:l!=y&&0!=(3&I.type),c&me.Host&&f===I);return null!==P?vo(s,y,P,I):Ss}function Ot(i,s,a,l,c){const f=i.providerIndexes,y=s.data,I=1048575&f,b=i.directiveStart,P=f>>20,J=c?I+P:i.directiveEnd;for(let de=l?I:I+P;de<J;de++){const Ue=y[de];if(de<b&&a===Ue||de>=b&&Ue.type===a)return de}if(c){const de=y[b];if(de&&qr(de)&&de.type===a)return b}return null}function vo(i,s,a,l){let c=i[a];const f=s.data;if(function k(i){return i instanceof C}(c)){const y=c;y.resolving&&function Fe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new he(-200,`Circular dependency in DI detected for ${i}${a}`)}(Re(f[a]));const I=mo(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Lt(y.injectImpl):null;Oc(i,l,me.Default);try{c=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function qm(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(l){const y=Wi(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==b&&Lt(b),mo(I),y.resolving=!1,uh()}}return c}function gu(i,s,a){return!!(a[s+(i>>Fc)]&1<<i)}function ll(i,s){return!(i&me.Self||i&me.Host&&s)}class eo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Zm(this._tNode,this._lView,s,kt(l),a)}}function Lc(){return new eo($r(),qe())}function Vc(i){return x(()=>{const s=i.prototype.constructor,a=s[Mt]||fh(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const f=c[Mt]||fh(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function fh(i){return Le(i)?()=>{const s=fh(Z(i));return s&&s()}:Gi(i)}function Uc(i){const s=i[ft],a=s.type;return 2===a?s.declTNode:1===a?i[$n]:null}function Jr(i){return function XI(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const f=a[c];if(En(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}($r(),i)}const _o="__annotations__",xr="__parameters__",Ki="__prop__metadata__";function mu(i,s,a,l,c){return x(()=>{const f=cl(s);function y(...I){if(this instanceof y)return f.call(this,...I),this;const b=new y(...I);return function(P){return c&&c(P,...I),(P.hasOwnProperty(_o)?P[_o]:Object.defineProperty(P,_o,{value:[]})[_o]).push(b),l&&l(P),P}}return a&&(y.prototype=Object.create(a.prototype)),y.prototype.ngMetadataName=i,y.annotationCls=y,y})}function cl(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}function Go(i,s,a){return x(()=>{const l=cl(s);function c(...f){if(this instanceof c)return l.apply(this,f),this;const y=new c(...f);return I.annotation=y,I;function I(b,S,P){const H=b.hasOwnProperty(xr)?b[xr]:Object.defineProperty(b,xr,{value:[]})[xr];for(;H.length<=P;)H.push(null);return(H[P]=H[P]||[]).push(y),b}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}function Io(i,s,a,l){return x(()=>{const c=cl(s);function f(...y){if(this instanceof f)return c.apply(this,y),this;const I=new f(...y);return function b(S,P){const H=S.constructor,J=H.hasOwnProperty(Ki)?H[Ki]:Object.defineProperty(H,Ki,{value:{}})[Ki];J[P]=J.hasOwnProperty(P)&&J[P]||[],J[P].unshift(I),l&&l(S,P,...y)}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}const ri=Go("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>Jr(i)}));class nr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ot({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jc=new nr("AnalyzeForEntryComponents");class ya{}const yu=Io("ContentChildren",(i,s={})=>({selector:i,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...s}),ya),to=Io("ContentChild",(i,s={})=>({selector:i,first:!0,isViewQuery:!1,descendants:!0,...s}),ya),hl=Io("ViewChildren",(i,s={})=>({selector:i,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...s}),ya),Bc=Io("ViewChild",(i,s)=>({selector:i,first:!0,isViewQuery:!0,descendants:!0,...s}),ya);var Lr=(()=>((Lr=Lr||{})[Lr.Directive=0]="Directive",Lr[Lr.Component=1]="Component",Lr[Lr.Injectable=2]="Injectable",Lr[Lr.Pipe=3]="Pipe",Lr[Lr.NgModule=4]="NgModule",Lr))();function Vr(i){const s=St.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const As=Function;function va(i){return"function"==typeof i}function Di(i){return i.flat(Number.POSITIVE_INFINITY)}function Eo(i,s){i.forEach(a=>Array.isArray(a)?Eo(a,s):s(a))}function vu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function _a(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function pl(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function ii(i,s,a){let l=ls(i,s);return l>=0?i[1|l]=a:(l=~l,function Cp(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function gl(i,s){const a=ls(i,s);if(a>=0)return i[1|a]}function ls(i,s){return function _u(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const f=l+(c-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?c=f:l=f+1}return~(c<<a)}(i,s,1)}const Hc=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,gh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,zc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Gc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ml{constructor(s){this._reflect=s||St.Reflect}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let l;l=pl(typeof s>"u"?a.length:s.length);for(let c=0;c<l.length;c++)l[c]=typeof s>"u"?[]:s[c]&&s[c]!=Object?[s[c]]:[],a&&null!=a[c]&&(l[c]=l[c].concat(a[c]));return l}_ownParameters(s,a){if(function Wc(i){return Hc.test(i)||Gc.test(i)||gh.test(i)&&!zc.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==a.ctorParameters){const I="function"==typeof c?c():c,b=I.map(P=>P&&P.type),S=I.map(P=>P&&Iu(P.decorators));return this._zipTypesAndAnnotations(b,S)}const f=s.hasOwnProperty(xr)&&s[xr],y=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return y||f?this._zipTypesAndAnnotations(y,f):pl(s.length)}parameters(s){if(!va(s))return[];const a=Ia(s);let l=this._ownParameters(s,a);return!l&&a!==Object&&(l=this.parameters(a)),l||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let l=s.annotations;return"function"==typeof l&&l.annotations&&(l=l.annotations),l}return s.decorators&&s.decorators!==a.decorators?Iu(s.decorators):s.hasOwnProperty(_o)?s[_o]:null}annotations(s){if(!va(s))return[];const a=Ia(s),l=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(l)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let l=s.propMetadata;return"function"==typeof l&&l.propMetadata&&(l=l.propMetadata),l}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const l=s.propDecorators,c={};return Object.keys(l).forEach(f=>{c[f]=Iu(l[f])}),c}return s.hasOwnProperty(Ki)?s[Ki]:null}propMetadata(s){if(!va(s))return{};const a=Ia(s),l={};if(a!==Object){const f=this.propMetadata(a);Object.keys(f).forEach(y=>{l[y]=f[y]})}const c=this._ownPropMetadata(s,a);return c&&Object.keys(c).forEach(f=>{const y=[];l.hasOwnProperty(f)&&y.push(...l[f]),y.push(...c[f]),l[f]=y}),l}ownPropMetadata(s){return va(s)&&this._ownPropMetadata(s,Ia(s))||{}}hasLifecycleHook(s,a){return s instanceof As&&a in s.prototype}}function Iu(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function Ia(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const Ea=ln(Go("Inject",i=>({token:i})),-1),wa=ln(Go("Optional"),8),yl=ln(Go("Self"),2),wo=ln(Go("SkipSelf"),4),Tp=ln(Go("Host"),1);let mh=null;function Wo(){return mh=mh||new ml}function Eu(i){return yh(Wo().parameters(i))}function yh(i){return i.map(s=>function vh(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let a=0;a<i.length;a++){const l=i[a];if(void 0===l)continue;const c=Object.getPrototypeOf(l);if(l instanceof wa||"Optional"===c.ngMetadataName)s.optional=!0;else if(l instanceof wo||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(l instanceof yl||"Self"===c.ngMetadataName)s.self=!0;else if(l instanceof Tp||"Host"===c.ngMetadataName)s.host=!0;else if(l instanceof Ea)s.token=l.token;else if(l instanceof ri){if(void 0===l.attributeName)throw new he(204,!1);s.attribute=l.attributeName}else s.token=l}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}function qc(i){const s=[],a=new Map;function l(c){let f=a.get(c);if(!f){const y=i(c);a.set(c,f=y.then(_h))}return f}return no.forEach((c,f)=>{const y=[];c.templateUrl&&y.push(l(c.templateUrl).then(H=>{c.template=H}));const I=c.styleUrls,b=c.styles||(c.styles=[]),S=c.styles.length;I&&I.forEach((H,J)=>{b.push(""),y.push(l(H).then(de=>{b[S+J]=de,I.splice(I.indexOf(H),1),0==I.length&&(c.styleUrls=void 0)}))});const P=Promise.all(y).then(()=>function Jm(i){Do.delete(i)}(f));s.push(P)}),Kc(),Promise.all(s).then(()=>{})}let no=new Map;const Do=new Set;function Da(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}function Kc(){const i=no;return no=new Map,i}function _h(i){return"string"==typeof i?i:i.text()}const vl=new Map;let _l=!0;function Eh(i,s){(function Ih(i,s,a){if(s&&s!==a&&_l)throw new Error(`Duplicate module registered for ${i} - ${ve(s)} vs ${ve(s.name)}`)})(s,vl.get(s)||null,i),vl.set(s,i)}function Il(i){return vl.get(i)}function ey(i){_l=!i}const El={name:"custom-elements"},wl={name:"no-errors-schema"};let Dl=!1;function Cl(i){Dl=i}function ty(){return Dl}let Ca=!1;function Mp(i){Ca=i}function xp(){return Ca}var Zi=(()=>((Zi=Zi||{})[Zi.Important=1]="Important",Zi[Zi.DashCase=2]="DashCase",Zi))();const bh=/^>|^->|<!--|-->|--!>|<!-$/g,bl=/(<|>)/,Np="\u200b$1\u200b";const Zc=new Map;let ba=0;function Xc(i){return Zc.get(i)||null}class Sh{get lView(){return Xc(this.lViewId)}constructor(s,a,l){this.lViewId=s,this.nodeIndex=a,this.native=l}}function Ur(i){let s=bo(i);if(s){if(Wr(s)){const a=s;let l,c,f;if(Op(i)){if(l=Rh(a,i),-1==l)throw new Error("The provided component was not found in the application");c=i}else if(function Mh(i){return i&&i.constructor&&i.constructor.\u0275dir}(i)){if(l=function v(i,s){let a=i[ft].firstChild;for(;a;){const c=a.directiveEnd;for(let f=a.directiveStart;f<c;f++)if(i[f]===s)return a.index;a=xh(a)}return-1}(a,i),-1==l)throw new Error("The provided directive was not found in the application");f=p(l,a)}else if(l=Du(a,i),-1==l)return null;const y=wr(a[l]),I=bo(y),b=I&&!Array.isArray(I)?I:Tl(a,l,y);if(c&&void 0===b.component&&(b.component=c,Zr(b.component,b)),f&&void 0===b.directives){b.directives=f;for(let S=0;S<f.length;S++)Zr(f[S],b)}Zr(b.native,b),s=b}}else{const a=i;let l=a;for(;l=l.parentNode;){const c=bo(l);if(c){const f=Array.isArray(c)?c:c.lView;if(!f)return null;const y=Du(f,a);if(y>=0){const I=wr(f[y]),b=Tl(f,y,I);Zr(I,b),s=b;break}}}}return s||null}function Tl(i,s,a){return new Sh(i[vi],s,a)}function Sl(i){let a,s=bo(i);if(Wr(s)){const l=s,c=Rh(l,i);a=tt(c,l);const f=Tl(l,c,a[Ar]);f.component=i,Zr(i,f),Zr(f.native,f)}else a=tt(s.nodeIndex,s.lView);return a}const wu="__ngContext__";function Zr(i,s){Wr(s)?(i[wu]=s[vi],function Yc(i){Zc.set(i[vi],i)}(s)):i[wu]=s}function bo(i){const s=i[wu];return"number"==typeof s?Xc(s):s||null}function Ah(i){const s=bo(i);return s?Wr(s)?s:s.lView:null}function Op(i){return i&&i.constructor&&i.constructor.\u0275cmp}function Du(i,s){const a=i[ft];for(let l=Zt;l<a.bindingStartIndex;l++)if(wr(i[l])===s)return l;return-1}function xh(i){if(i.child)return i.child;if(i.next)return i.next;for(;i.parent&&!i.parent.next;)i=i.parent;return i.parent&&i.parent.next}function Rh(i,s){const a=i[ft].components;if(a)for(let l=0;l<a.length;l++){const c=a[l];if(tt(c,i)[Yn]===s)return c}else if(tt(Zt,i)[Yn]===s)return Zt;return-1}function p(i,s){const a=s[ft].data[i];if(0===a.directiveStart)return X;const l=[];for(let c=a.directiveStart;c<a.directiveEnd;c++){const f=s[c];Op(f)||l.push(f)}return l}let O;function j(i,s){return O(i,s)}function $e(i){const s=i[Nn];return xi(s)?s[Nn]:s}function $t(i){return function Ct(i){let s=Wr(i)?i:Ah(i);for(;s&&!(256&s[ie]);)s=$e(s);return s}(i)[Yn]}function gn(i){return cs(i[Si])}function sr(i){return cs(i[Mr])}function cs(i){for(;null!==i&&!xi(i);)i=i[Mr];return i}function Qi(i,s,a,l,c){if(null!=l){let f,y=!1;xi(l)?f=l:Wr(l)&&(y=!0,l=l[Ar]);const I=wr(l);0===i&&null!==a?null==c?oy(s,a,I):Tu(s,a,I,c||null,!0):1===i&&null!==a?Tu(s,a,I,c||null,!0):2===i?dy(s,I,y):3===i&&s.destroyNode(I),null!=f&&function r0(i,s,a,l,c){const f=a[ss];f!==wr(a)&&Qi(s,i,l,f,c);for(let I=Er;I<a.length;I++){const b=a[I];Ma(b[ft],b,i,s,l,f)}}(s,i,f,a,c)}}function ds(i,s){return i.createText(s)}function Ms(i,s,a){i.setValue(s,a)}function Cu(i,s){return i.createComment(function fi(i){return i.replace(bh,s=>s.replace(bl,Np))}(s))}function Ta(i,s,a){return i.createElement(s,a)}function Oh(i,s){const a=i[os],l=a.indexOf(s),c=s[Nn];512&s[ie]&&(s[ie]&=-513,on(c,-1)),a.splice(l,1)}function Ml(i,s){if(i.length<=Er)return;const a=Er+s,l=i[a];if(l){const c=l[ji];null!==c&&c!==i&&Oh(c,l),s>0&&(i[a-1][Mr]=l[Mr]);const f=_a(i,Er+s);!function Nh(i,s){Ma(i,s,s[sn],2,null,null),s[Ar]=null,s[$n]=null}(l[ft],l);const y=f[$i];null!==y&&y.detachView(f[ft]),l[Nn]=null,l[Mr]=null,l[ie]&=-65}return l}function kp(i,s){if(!(128&s[ie])){const a=s[sn];a.destroyNode&&Ma(i,s,a,3,null,null),function bu(i){let s=i[Si];if(!s)return iy(i[ft],i);for(;s;){let a=null;if(Wr(s))a=s[Si];else{const l=s[Er];l&&(a=l)}if(!a){for(;s&&!s[Mr]&&s!==i;)Wr(s)&&iy(s[ft],s),s=s[Nn];null===s&&(s=i),Wr(s)&&iy(s[ft],s),a=s&&s[Mr]}s=a}}(s)}}function iy(i,s){if(!(128&s[ie])){s[ie]&=-65,s[ie]|=128,function Ph(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof C)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const I=c[f[y]],b=f[y+1];Kr(4,I,b);try{b.call(I)}finally{Kr(5,I,b)}}else{Kr(4,c,f);try{f.call(c)}finally{Kr(5,c,f)}}}}}(i,s),function FD(i,s){const a=i.cleanup,l=s[ci];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?l[c=y]():l[c=-y].unsubscribe(),f+=2}else{const y=l[c=a[f+1]];a[f].call(y)}if(null!==l){for(let f=c+1;f<l.length;f++)(0,l[f])();s[ci]=null}}(i,s),1===s[ft].type&&s[sn].destroy();const a=s[ji];if(null!==a&&xi(s[Nn])){a!==s[Nn]&&Oh(a,s);const l=s[$i];null!==l&&l.detachView(i)}!function Th(i){Zc.delete(i[vi])}(s)}}function Aa(i,s,a){return sy(i,s.parent,a)}function sy(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[Ar];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:f}=i.data[l.directiveStart+c];if(f===M.None||f===M.Emulated)return null}return U(l,a)}}function Tu(i,s,a,l,c){i.insertBefore(s,a,l,c)}function oy(i,s,a){i.appendChild(s,a)}function xl(i,s,a,l,c){null!==l?Tu(i,s,a,l,c):oy(i,s,a)}function kh(i,s){return i.parentNode(s)}function ay(i,s,a){return Fp(i,s,a)}function uy(i,s,a){return 40&i.type?U(i,a):null}let Fh,jh,nd,Bh,Fp=uy;function ly(i,s){Fp=i,Fh=s}function Lh(i,s,a,l){const c=Aa(i,l,s),f=s[sn],I=ay(l.parent||s[$n],l,s);if(null!=c)if(Array.isArray(a))for(let b=0;b<a.length;b++)xl(f,c,a[b],I,!1);else xl(f,c,a,I,!1);void 0!==Fh&&Fh(f,l,s,a,c)}function Jc(i,s){if(null!==s){const a=s.type;if(3&a)return U(s,i);if(4&a)return cy(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Jc(i,l);{const c=i[s.index];return xi(c)?cy(-1,c):wr(c)}}if(32&a)return j(s,i)()||wr(i[s.index]);{const l=n0(i,s);return null!==l?Array.isArray(l)?l[0]:Jc($e(i[fr]),l):Jc(i,s.next)}}return null}function n0(i,s){return null!==s?i[fr][$n].projection[s.projection]:null}function cy(i,s){const a=Er+i+1;if(a<s.length){const l=s[a],c=l[ft].firstChild;if(null!==c)return Jc(l,c)}return s[ss]}function dy(i,s,a){const l=kh(i,s);l&&function LD(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}function ed(i,s,a,l,c,f,y){for(;null!=a;){const I=l[a.index],b=a.type;if(y&&0===s&&(I&&Zr(wr(I),l),a.flags|=2),32!=(32&a.flags))if(8&b)ed(i,s,a.child,l,c,f,!1),Qi(s,i,c,I,f);else if(32&b){const S=j(a,l);let P;for(;P=S();)Qi(s,i,c,P,f);Qi(s,i,c,I,f)}else 16&b?Vp(i,s,l,a,c,f):Qi(s,i,c,I,f);a=y?a.projectionNext:a.next}}function Ma(i,s,a,l,c,f){ed(a,l,i.firstChild,s,c,f,!1)}function Vp(i,s,a,l,c,f){const y=a[fr],b=y[$n].projection[l.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)Qi(s,i,c,b[S],f);else ed(i,s,b,y[Nn],c,f,!0)}function s0(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function jr(i,s,a){const{mergedAttrs:l,classes:c,styles:f}=a;null!==l&&Dn(i,s,l),null!==c&&s0(i,s,c),null!==f&&function Uh(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function hy(){if(void 0===jh&&(jh=null,St.trustedTypes))try{jh=St.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return jh}function td(i){return hy()?.createHTML(i)||i}function fy(i,s,a){const l=qe(),c=Dr(),f=U(c,l);if(2===c.type&&"iframe"===s.toLowerCase()){const y=f;throw y.src="",y.srcdoc=td(""),dy(l[sn],y),new he(-910,!1)}return i}function a0(i){nd=i}function Ko(){return void 0!==nd?nd:typeof document<"u"?document:void 0}function Up(){if(void 0===Bh&&(Bh=null,St.trustedTypes))try{Bh=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Bh}function jp(i){return Up()?.createHTML(i)||i}function rd(i){return Up()?.createScript(i)||i}function py(i){return Up()?.createScriptURL(i)||i}class xa{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class Bp extends xa{getTypeName(){return"HTML"}}class u0 extends xa{getTypeName(){return"Style"}}class $p extends xa{getTypeName(){return"Script"}}class BD extends xa{getTypeName(){return"URL"}}class l0 extends xa{getTypeName(){return"ResourceURL"}}function xs(i){return i instanceof xa?i.changingThisBreaksApplicationSecurity:i}function Rl(i,s){const a=gy(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${We})`)}return a===s}function gy(i){return i instanceof xa&&i.getTypeName()||null}function my(i){return new Bp(i)}function yy(i){return new u0(i)}function c0(i){return new $p(i)}function Hp(i){return new BD(i)}function d0(i){return new l0(i)}function vy(i){const s=new h0(i);return function f0(){try{return!!(new window.DOMParser).parseFromString(td(""),"text/html")}catch{return!1}}()?new Nl(s):s}class Nl{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(td(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class h0{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=td(s),a}}const p0=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function $h(i){return(i=String(i)).match(p0)?i:"unsafe:"+i}function ro(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Ci(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const _y=ro("area,br,col,hr,img,wbr"),Iy=ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ol=ro("rp,rt"),Ey=Ci(_y,Ci(Iy,ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ci(Ol,ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ci(Ol,Iy)),wy=ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hh=Ci(wy,ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),HD=ro("script,style,template");class m0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ey.hasOwnProperty(a))return this.sanitizedSomething=!0,!HD.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let c=0;c<l.length;c++){const f=l.item(c),y=f.name,I=y.toLowerCase();if(!Hh.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let b=f.value;wy[I]&&(b=$h(b)),this.buf.push(" ",y,'="',Ra(b),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ey.hasOwnProperty(a)&&!_y.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ra(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const pi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,id=/([^\#-~ |!])/g;function Ra(i){return i.replace(/&/g,"&amp;").replace(pi,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(id,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sd;function y0(i,s){let a=null;try{sd=sd||vy(i);let l=s?String(s):"";a=sd.getInertBodyElement(l);let c=5,f=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=f,f=a.innerHTML,a=sd.getInertBodyElement(l)}while(l!==f);return td((new m0).sanitizeChildren(nt(a)||a))}finally{if(a){const l=nt(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function nt(i){return"content"in i&&function Qr(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var gr=(()=>((gr=gr||{})[gr.NONE=0]="NONE",gr[gr.HTML=1]="HTML",gr[gr.STYLE=2]="STYLE",gr[gr.SCRIPT=3]="SCRIPT",gr[gr.URL=4]="URL",gr[gr.RESOURCE_URL=5]="RESOURCE_URL",gr))();function zp(i){const s=zh();return s?jp(s.sanitize(gr.HTML,i)||""):Rl(i,"HTML")?jp(xs(i)):y0(Ko(),Ae(i))}function At(i){const s=zh();return s?s.sanitize(gr.STYLE,i)||"":Rl(i,"Style")?xs(i):Ae(i)}function Vt(i){const s=zh();return s?s.sanitize(gr.URL,i)||"":Rl(i,"URL")?xs(i):$h(Ae(i))}function Dy(i){const s=zh();if(s)return py(s.sanitize(gr.RESOURCE_URL,i)||"");if(Rl(i,"ResourceURL"))return py(xs(i));throw new he(904,!1)}function _t(i){const s=zh();if(s)return rd(s.sanitize(gr.SCRIPT,i)||"");if(Rl(i,"Script"))return rd(xs(i));throw new he(905,!1)}function Ce(i){return td(i[0])}function Ye(i){return function o0(i){return hy()?.createScriptURL(i)||i}(i[0])}function Cy(i,s,a){return function oi(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Dy:Vt}(s,a)(i)}function zh(){const i=qe();return i&&i[Ui]}const by=new nr("ENVIRONMENT_INITIALIZER"),Ty=new nr("INJECTOR",-1),Sy=new nr("INJECTOR_DEF_TYPES");class v0{get(s,a=zt){if(a===zt){const l=new Error(`NullInjectorError: No provider for ${ve(s)}!`);throw l.name="NullInjectorError",l}return a}}function HT(i){return{\u0275providers:i}}function _0(...i){return{\u0275providers:Ay(0,i),\u0275fromNgModule:!0}}function Ay(i,...s){const a=[],l=new Set;let c;return Eo(s,f=>{const y=f;Su(y,a,[],l)&&(c||(c=[]),c.push(y))}),void 0!==c&&hn(c,a),a}function hn(i,s){for(let a=0;a<i.length;a++){const{providers:c}=i[a];_r(c,f=>{s.push(f)})}}function Su(i,s,a,l){if(!(i=Z(i)))return!1;let c=null,f=Kn(i);const y=!f&&ct(i);if(f||y){if(y&&!y.standalone)return!1;c=i}else{const b=i.ngModule;if(f=Kn(b),!f)return!1;c=b}const I=l.has(c);if(y){if(I)return!1;if(l.add(c),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of b)Su(S,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!I){let S;l.add(c);try{Eo(f.imports,P=>{Su(P,s,a,l)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&hn(S,s)}if(!I){const S=Gi(c)||(()=>new c);s.push({provide:c,useFactory:S,deps:X},{provide:Sy,useValue:c,multi:!0},{provide:by,useValue:()=>Je(c),multi:!0})}const b=f.providers;null==b||I||_r(b,P=>{s.push(P)})}}return c!==i&&void 0!==i.providers}function _r(i,s){for(let a of i)ue(a)&&(a=a.\u0275providers),Array.isArray(a)?_r(a,s):s(a)}const Wt=fe({provide:String,useValue:fe});function Pl(i){return null!==i&&"object"==typeof i&&Wt in i}function cr(i){return"function"==typeof i}const od=new nr("Set Injector scope."),ad={},kl={};let My;function Fl(){return void 0===My&&(My=new v0),My}class Ll{}class ud extends Ll{get destroyed(){return this._destroyed}constructor(s,a,l,c){super(),this.parent=a,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ee(s,y=>this.processProvider(y)),this.records.set(Ty,Vl(void 0,this)),c.has("environment")&&this.records.set(Ll,Vl(void 0,this));const f=this.records.get(od);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Sy.multi,X,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=kr(this),l=Lt(void 0);try{return s()}finally{kr(a),Lt(l)}}get(s,a=zt,l=me.Default){this.assertNotDestroyed(),l=kt(l);const c=kr(this),f=Lt(void 0);try{if(!(l&me.SkipSelf)){let I=this.records.get(s);if(void 0===I){const b=function xy(i){return"function"==typeof i||"object"==typeof i&&i instanceof nr}(s)&&Rn(s);I=b&&this.injectableDefInScope(b)?Vl(Gp(s),ad):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(l&me.Self?Fl():this.parent).get(s,a=l&me.Optional&&a===zt?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[un]=y[un]||[]).unshift(ve(s)),c)throw y;return function K(i,s,a,l){const c=i[un];throw s[Ir]&&c.unshift(s[Ir]),i.message=function F(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Yt?i.slice(2):i;let c=ve(s);if(Array.isArray(s))c=s.map(ve).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let I=s[y];f.push(y+":"+("string"==typeof I?JSON.stringify(I):ve(I)))}c=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(Pr,"\n  ")}`}("\n"+i.message,c,a,l),i[Bn]=c,i[un]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Lt(f),kr(c)}}resolveInjectorInitializers(){const s=kr(this),a=Lt(void 0);try{const l=this.get(by.multi,X,me.Self);for(const c of l)c()}finally{kr(s),Lt(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(ve(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(s){let a=cr(s=Z(s))?s:Z(s&&s.provide);const l=function Rs(i){return Pl(i)?Vl(void 0,i.useValue):Vl(Wp(i),ad)}(s);if(cr(s)||!0!==s.multi)this.records.get(a);else{let c=this.records.get(a);c||(c=Vl(void 0,ad,!0),c.factory=()=>qt(c.multi),this.records.set(a,c)),a=s,c.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===ad&&(a.value=kl,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Au(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Z(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Gp(i){const s=Rn(i),a=null!==s?s.factory:Gi(i);if(null!==a)return a;if(i instanceof nr)throw new he(204,!1);if(i instanceof Function)return function E0(i){const s=i.length;if(s>0)throw pl(s,"?"),new he(204,!1);const a=function er(i){const s=i&&(i[se]||i[ce]);return s?(function yr(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),s):null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new he(204,!1)}function Wp(i,s,a){let l;if(cr(i)){const c=Z(i);return Gi(c)||Gp(c)}if(Pl(i))l=()=>Z(i.useValue);else if(function I0(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...qt(i.deps||[]));else if(function Un(i){return!(!i||!i.useExisting)}(i))l=()=>Je(Z(i.useExisting));else{const c=Z(i&&(i.useClass||i.provide));if(!function w0(i){return!!i.deps}(i))return Gi(c)||Gp(c);l=()=>new c(...qt(i.deps))}return l}function Vl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Ee(i,s){for(const a of i)Array.isArray(a)?Ee(a,s):a&&ue(a)?Ee(a.\u0275providers,s):s(a)}class Gh{}class hs{}class WD{resolveComponentFactory(s){throw function GD(i){const s=Error(`No component factory found for ${ve(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let To=(()=>{class i{}return i.NULL=new WD,i})();function D0(){return Mu($r(),qe())}function Mu(i,s){return new Wh(U(i,s))}let Wh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=D0,i})();function qD(i){return i instanceof Wh?i.nativeElement:i}class fs{}let KD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ry(){const i=qe(),a=tt($r().index,i);return(Wr(a)?a:i)[sn]}(),i})(),C0=(()=>{class i{}return i.\u0275prov=ot({token:i,providedIn:"root",factory:()=>null}),i})();class b0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Na=new b0("15.2.2"),qh={},Oa="ngOriginalError";function jl(i){return i[Oa]}class Pa{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&jl(s);for(;a&&jl(a);)a=jl(a);return a||null}}function A0(i){return i.ownerDocument.defaultView}function ka(i){return i.ownerDocument}function Br(i){return i.ownerDocument.body}function So(i){return i instanceof Function?i():i}function cd(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===l||i.charCodeAt(c+f)<=32)return c}a=c+1}}const La="ng-template";function x0(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==cd(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function $l(i){return 4===i.type&&i.value!==La}function Oy(i,s,a){return s===(4!==i.type||a?i.value:La)}function Hl(i,s,a){let l=4;const c=i.attrs||[],f=function qp(i){for(let s=0;s<i.length;s++)if(En(i[s]))return s;return i.length}(c);let y=!1;for(let I=0;I<s.length;I++){const b=s[I];if("number"!=typeof b){if(!y)if(4&l){if(l=2|1&l,""!==b&&!Oy(i,b,a)||""===b&&1===s.length){if(Ns(l))return!1;y=!0}}else{const S=8&l?b:s[++I];if(8&l&&null!==i.attrs){if(!x0(i.attrs,S,a)){if(Ns(l))return!1;y=!0}continue}const H=Zh(8&l?"class":b,c,$l(i),a);if(-1===H){if(Ns(l))return!1;y=!0;continue}if(""!==S){let J;J=H>f?"":c[H+1].toLowerCase();const de=8&l?J:null;if(de&&-1!==cd(de,S,0)||2&l&&S!==J){if(Ns(l))return!1;y=!0}}}}else{if(!y&&!Ns(l)&&!Ns(b))return!1;if(y&&Ns(b))continue;y=!1,l=b|1&l}}return Ns(l)||y}function Ns(i){return 0==(1&i)}function Zh(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let f=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let I=s[++c];for(;"string"==typeof I;)I=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function Qh(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Py(i,s,a=!1){for(let l=0;l<s.length;l++)if(Hl(i,s[l],a))return!0;return!1}function N0(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let c=0;c<i.length;c++)if(i[c]!==l[c])continue e;return!0}}return!1}function O0(i,s){return i?":not("+s.trim()+")":s}function YD(i){let s=i[0],a=1,l=2,c="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const I=i[++a];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Ns(y)&&(s+=O0(f,c),c=""),l=y,f=f||!Ns(l);a++}return""!==c&&(s+=O0(f,c)),s}const en={};function ky(i){Fy(Tn(),qe(),wi()+i,!1)}function Fy(i,s,a,l){if(!l)if(3==(3&s[ie])){const f=i.preOrderCheckHooks;null!==f&&hu(s,f,a)}else{const f=i.preOrderHooks;null!==f&&fu(s,f,0,a)}du(a)}const Ly={\u0275\u0275defineInjectable:ot,\u0275\u0275defineInjector:qn,\u0275\u0275inject:Je,\u0275\u0275invalidFactoryDep:ke,resolveForwardRef:Z};const or=fe({provide:String,useValue:fe});function zl(i){return void 0!==i.useClass}function Kp(i){return void 0!==i.useFactory}const L0=mu("Injectable",void 0,void 0,void 0,(i,s)=>function Pn(i,s){let a=null,l=null;i.hasOwnProperty(se)||Object.defineProperty(i,se,{get:()=>(null===a&&(a=Vr().compileInjectable(Ly,`ng:///${i.name}/\u0275prov.js`,function Uy(i,s){const a=s||{providedIn:null},l={name:i.name,type:i,typeArgumentCount:0,providedIn:a.providedIn};return(zl(a)||Kp(a))&&void 0!==a.deps&&(l.deps=yh(a.deps)),zl(a)?l.useClass=a.useClass:function Vy(i){return or in i}(a)?l.useValue=a.useValue:Kp(a)?l.useFactory=a.useFactory:function F0(i){return void 0!==i.useExisting}(a)&&(l.useExisting=a.useExisting),l}(i,s))),a)}),i.hasOwnProperty(Mt)||Object.defineProperty(i,Mt,{get:()=>{if(null===l){const c=Vr();l=c.compileFactory(Ly,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:Eu(i),target:c.FactoryTarget.Injectable})}return l},configurable:!0})}(i,s));function Zp(i,s=null,a=null,l){const c=jy(i,s,a,l);return c.resolveInjectorInitializers(),c}function jy(i,s=null,a=null,l,c=new Set){const f=[a||X,_0(i)];return l=l||("object"==typeof i?void 0:ve(i)),new ud(f,s||Fl(),l||null,c)}let Ru=(()=>{class i{static create(a,l){if(Array.isArray(a))return Zp({name:""},l,a,"");{const c=a.name??"";return Zp({name:c},a.parent,a.providers,c)}}}return i.THROW_IF_NOT_FOUND=zt,i.NULL=new v0,i.\u0275prov=ot({token:i,providedIn:"any",factory:()=>Je(Ty)}),i.__NG_ELEMENT_ID__=-1,i})();function By(i){return i.length>1?" ("+function XD(i){const s=[];for(let a=0;a<i.length;++a){if(s.indexOf(i[a])>-1)return s.push(i[a]),s;s.push(i[a])}return s}(i.slice().reverse()).map(l=>ve(l.token)).join(" -> ")+")":""}function Qp(i,s,a,l){const c=[s],f=a(c),y=l?function T0(i,s){const a=`${i} caused by: ${s instanceof Error?s.message:s}`,l=Error(a);return l[Oa]=s,l}(f,l):Error(f);return y.addKey=JD,y.keys=c,y.injectors=[i],y.constructResolvingMessage=a,y[Oa]=l,y}function JD(i,s){this.injectors.push(i),this.keys.push(s),this.message=this.constructResolvingMessage(this.keys)}function U0(i,s){const a=[];for(let l=0,c=s.length;l<c;l++){const f=s[l];a.push(f&&0!=f.length?f.map(ve).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ve(i)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ve(i)+"' is decorated with Injectable.")}function Yp(i,s){return Error(`Cannot mix multi providers and regular providers, got: ${i} ${s}`)}class Cr{constructor(s,a){if(this.token=s,this.id=a,!s)throw new he(208,!1);this.displayName=ve(this.token)}static get(s){return $y.get(Z(s))}static get numberOfKeys(){return $y.numberOfKeys}}class dr{constructor(){this._allKeys=new Map}get(s){if(s instanceof Cr)return s;if(this._allKeys.has(s))return this._allKeys.get(s);const a=new Cr(s,Cr.numberOfKeys);return this._allKeys.set(s,a),a}get numberOfKeys(){return this._allKeys.size}}const $y=new dr;class Va{constructor(s,a,l){this.key=s,this.optional=a,this.visibility=l}static fromKey(s){return new Va(s,!1,null)}}const ps=[];class ui{constructor(s,a,l){this.key=s,this.resolvedFactories=a,this.multiProvider=l,this.resolvedFactory=this.resolvedFactories[0]}}class Hy{constructor(s,a){this.factory=s,this.dependencies=a}}function br(i){let s,a;if(i.useClass){const l=Z(i.useClass);s=Wo().factory(l),a=Yh(l)}else i.useExisting?(s=l=>l,a=[Va.fromKey(Cr.get(i.useExisting))]):i.useFactory?(s=i.useFactory,a=function Xp(i,s){if(s){const a=s.map(l=>[l]);return s.map(l=>Gy(i,l,a))}return Yh(i)}(i.useFactory,i.deps)):(s=()=>i.useValue,a=ps);return new Hy(s,a)}function nC(i){return new ui(Cr.get(i.provide),[br(i)],i.multi||!1)}function zy(i){const l=function Gl(i,s){for(let a=0;a<i.length;a++){const l=i[a],c=s.get(l.key.id);if(c){if(l.multiProvider!==c.multiProvider)throw Yp(c,l);if(l.multiProvider)for(let f=0;f<l.resolvedFactories.length;f++)c.resolvedFactories.push(l.resolvedFactories[f]);else s.set(l.key.id,l)}else{let f;f=l.multiProvider?new ui(l.key,l.resolvedFactories.slice(),l.multiProvider):l,s.set(l.key.id,f)}}return s}(hd(i,[]).map(nC),new Map);return Array.from(l.values())}function hd(i,s){return i.forEach(a=>{if(a instanceof As)s.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)s.push(a);else{if(!Array.isArray(a))throw function dd(i){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${i}`)}(a);hd(a,s)}}),s}function Yh(i){const s=Wo().parameters(i);if(!s)return[];if(s.some(a=>null==a))throw U0(i,s);return s.map(a=>Gy(i,a,s))}function Gy(i,s,a){let l=null,c=!1;if(!Array.isArray(s))return Jp(s instanceof Ea?s.token:s,c,null);let f=null;for(let y=0;y<s.length;++y){const I=s[y];I instanceof As?l=I:I instanceof Ea?l=I.token:I instanceof wa?c=!0:I instanceof yl||I instanceof wo?f=I:I instanceof nr&&(l=I)}if(l=Z(l),null!=l)return Jp(l,c,f);throw U0(i,a)}function Jp(i,s,a){return new Va(Cr.get(i),s,a)}const Os={};class Wl{static resolve(s){return zy(s)}static resolveAndCreate(s,a){const l=Wl.resolve(s);return Wl.fromResolvedProviders(l,a)}static fromResolvedProviders(s,a){return new fd(s,a)}}let fd=(()=>{class i{constructor(a,l){this._constructionCounter=0,this._providers=a,this.parent=l||null;const c=a.length;this.keyIds=[],this.objs=[];for(let f=0;f<c;f++)this.keyIds[f]=a[f].key.id,this.objs[f]=Os}get(a,l=zt){return this._getByKey(Cr.get(a),null,l)}resolveAndCreateChild(a){const l=Wl.resolve(a);return this.createChildFromResolved(l)}createChildFromResolved(a){const l=new i(a);return l.parent=this,l}resolveAndInstantiate(a){return this.instantiateResolved(Wl.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function zr(i){return Error(`Index ${i} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function eC(i,s){return Qp(i,s,function(a){return`Cannot instantiate cyclic dependency!${By(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const l=[];for(let c=0;c<a.resolvedFactories.length;++c)l[c]=this._instantiate(a,a.resolvedFactories[c]);return l}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,l){const c=l.factory;let f,y;try{f=l.dependencies.map(I=>this._getByReflectiveDependency(I))}catch(I){throw I.addKey&&I.addKey(this,a.key),I}try{y=c(...f)}catch(I){throw function tC(i,s,a,l){return Qp(i,l,function(c){const f=ve(c[0].token);return`${s.message}: Error during instantiation of ${f}!${By(c)}.`},s)}(this,I,0,a.key)}return y}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:zt)}_getByKey(a,l,c){return a===i.INJECTOR_KEY?this:l instanceof yl?this._getByKeySelf(a,c):this._getByKeyDefault(a,c,l)}_getObjByKeyId(a){for(let l=0;l<this.keyIds.length;l++)if(this.keyIds[l]===a)return this.objs[l]===Os&&(this.objs[l]=this._new(this._providers[l])),this.objs[l];return Os}_throwOrNull(a,l){if(l!==zt)return l;throw function V0(i,s){return Qp(i,s,function(a){return`No provider for ${ve(a[0].token)}!${By(a)}`})}(this,a)}_getByKeySelf(a,l){const c=this._getObjByKeyId(a.id);return c!==Os?c:this._throwOrNull(a,l)}_getByKeyDefault(a,l,c){let f;for(f=c instanceof wo?this.parent:this;f instanceof i;){const y=f,I=y._getObjByKeyId(a.id);if(I!==Os)return I;f=y.parent}return null!==f?f.get(a.token,l):this._throwOrNull(a,l)}get displayName(){return`ReflectiveInjector(providers: [${function j0(i,s){const a=[];for(let l=0;l<i._providers.length;++l)a[l]=s(i.getProviderAtIndex(l));return a}(this,l=>' "'+l.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return i.INJECTOR_KEY=Cr.get(Ru),i})();function Nu(i,s=me.Default){const a=qe();return null===a?Je(i,s):Zm($r(),a,Z(i),s)}function Xh(){throw new Error("invalid")}function Ou(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const f=a[l+1];if(-1!==f){const y=i.data[f];au(a[l]),y.contentQueries(2,s[f],f)}}}function ql(i,s,a,l,c,f,y,I,b,S,P){const H=s.blueprint.slice();return H[Ar]=c,H[ie]=76|l,(null!==P||i&&1024&i[ie])&&(H[ie]|=1024),Xn(H),H[Nn]=H[Ai]=i,H[Yn]=a,H[rr]=y||i&&i[rr],H[sn]=I||i&&i[sn],H[Ui]=b||i&&i[Ui]||null,H[rs]=S||i&&i[rs]||null,H[$n]=f,H[vi]=function Qc(){return ba++}(),H[is]=P,H[fr]=2==s.type?i[fr]:H,H}function Zo(i,s,a,l,c){let f=i.data[s];if(null===f)f=eg(i,s,a,l,c),function Nc(){return Gt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=c;const y=$o();f.injectorIndex=null===y?-1:y.injectorIndex}return Ei(f,!0),f}function eg(i,s,a,l,c){const f=Bo(),y=nl(),b=i.data[s]=function gd(i,s,a,l,c,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=b),null!==f&&(y?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b,b.prev=f)),b}function Kl(i,s,a,l){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Zl(i,s,a){lu(s);try{const l=i.viewQuery;null!==l&&og(1,l,a);const c=i.template;null!==c&&Ky(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ou(i,s),i.staticViewQueries&&og(2,i.viewQuery,a);const f=i.components;null!==f&&function qy(i,s){for(let a=0;a<s.length;a++)aC(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[ie]&=-5,lh()}}function Jh(i,s,a,l){const c=s[ie];if(128!=(128&c)){lu(s);try{Xn(s),Rc(i.bindingStartIndex),null!==a&&Ky(i,s,a,2,l);const y=3==(3&c);if(y){const S=i.preOrderCheckHooks;null!==S&&hu(s,S,null)}else{const S=i.preOrderHooks;null!==S&&fu(s,S,0,null),ch(s,0)}if(function q0(i){for(let s=gn(i);null!==s;s=sr(s)){if(!s[ir])continue;const a=s[os];for(let l=0;l<a.length;l++){const c=a[l];512&c[ie]||on(c[Nn],1),c[ie]|=512}}}(s),function Hn(i){for(let s=gn(i);null!==s;s=sr(s))for(let a=Er;a<s.length;a++){const l=s[a],c=l[ft];Ln(l)&&Jh(c,l,c.template,l[Yn])}}(s),null!==i.contentQueries&&Ou(i,s),y){const S=i.contentCheckHooks;null!==S&&hu(s,S)}else{const S=i.contentHooks;null!==S&&fu(s,S,1),ch(s,1)}!function Wy(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)du(~c);else{const f=c,y=a[++l],I=a[++l];ah(y,f),I(2,s[f])}}}finally{du(-1)}}(i,s);const I=i.components;null!==I&&function Yi(i,s){for(let a=0;a<s.length;a++)K0(i,s[a])}(s,I);const b=i.viewQuery;if(null!==b&&og(2,b,l),y){const S=i.viewCheckHooks;null!==S&&hu(s,S)}else{const S=i.viewHooks;null!==S&&fu(s,S,2),ch(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[ie]&=-41,512&s[ie]&&(s[ie]&=-513,on(s[Nn],-1))}finally{lh()}}}function Ky(i,s,a,l,c){const f=wi(),y=2&l;try{du(-1),y&&s.length>Zt&&Fy(i,s,Zt,!1),Kr(y?2:0,c),a(l,c)}finally{du(f),Kr(y?3:1,c)}}function Zy(i,s,a){if($s(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function tg(i,s,a){us()&&(function sg(i,s,a,l){const c=a.directiveStart,f=a.directiveEnd;_i(a)&&function W0(i,s,a){const l=U(s,i),c=Qy(a),f=i[rr],y=tf(i,ql(i,c,null,a.onPush?32:16,l,s,f,f.createRenderer(l,a),null,null,null));i[s.index]=y}(s,a,i.data[c+a.componentOffset]),i.firstCreatePass||ul(a,s),Zr(l,s);const y=a.initialInputs;for(let I=c;I<f;I++){const b=i.data[I],S=vo(s,i,I,a);Zr(S,s),null!==y&&rv(0,I-c,S,b,0,y),qr(b)&&(tt(a.index,s)[Yn]=vo(s,i,I,a))}}(i,s,a,U(a,s)),64==(64&a.flags)&&tv(i,s,a))}function ng(i,s,a=U){const l=s.localNames;if(null!==l){let c=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],I=-1===y?a(s,i):i[y];i[c++]=I}}}function Qy(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=pd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function pd(i,s,a,l,c,f,y,I,b,S){const P=Zt+l,H=P+c,J=function rC(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:en);return a}(P,H),de="function"==typeof S?S():S;return J[ft]={type:i,blueprint:J,template:a,queries:null,viewQuery:I,declTNode:s,data:J.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:de,incompleteFirstPass:!1}}function Yy(i,s,a,l){const c=Z0(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Q0(i).push(l,c.length-1))}function Pu(i,s,a,l){for(let c in i)if(i.hasOwnProperty(c)){a=null===a?{}:a;const f=i[c];null===l?Xy(a,s,c,f):l.hasOwnProperty(c)&&Xy(a,s,l[c],f)}return a}function Xy(i,s,a,l){i.hasOwnProperty(a)?i[a].push(s,l):i[a]=[s,l]}function gi(i,s,a,l,c,f,y,I){const b=U(s,a);let P,S=s.inputs;!I&&null!=S&&(P=S[l])?(yd(i,a,P,l,c),_i(s)&&Jy(a,s.index)):3&s.type&&(l=function B0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,f.setProperty(b,l,c))}function Jy(i,s){const a=tt(s,i);16&a[ie]||(a[ie]|=32)}function ev(i,s,a,l){if(us()){const c=null===l?null:{"":-1},f=function ef(i,s){const a=i.directiveRegistry;let l=null,c=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(Py(s,y.selectors,!1))if(l||(l=[]),qr(y))if(null!==y.findHostDirectiveDefs){const I=[];c=c||new Map,y.findHostDirectiveDefs(y,I,c),l.unshift(...I,y),nv(i,s,I.length)}else l.unshift(y),nv(i,s,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,l,c),l.push(y)}return null===l?null:[l,c]}(i,a);let y,I;null===f?y=I=null:[y,I]=f,null!==y&&H0(i,s,a,y,c,I),c&&function z0(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new he(-301,!1);l.push(s[c],f)}}}(a,l,c)}a.mergedAttrs=vr(a.mergedAttrs,a.attrs)}function H0(i,s,a,l,c,f){for(let S=0;S<l.length;S++)Ip(ul(a,s),i,l[S].type);!function Ua(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,l.length);for(let S=0;S<l.length;S++){const P=l[S];P.providersResolver&&P.providersResolver(P)}let y=!1,I=!1,b=Kl(i,s,l.length,null);for(let S=0;S<l.length;S++){const P=l[S];a.mergedAttrs=vr(a.mergedAttrs,P.hostAttrs),G0(i,a,s,b,P),md(b,P,c),null!==P.contentQueries&&(a.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=64);const H=P.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!I&&(H.ngOnChanges||H.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),b++}!function Ql(i,s,a){const c=s.directiveEnd,f=i.data,y=s.attrs,I=[];let b=null,S=null;for(let P=s.directiveStart;P<c;P++){const H=f[P],J=a?a.get(H):null,Ue=J?J.outputs:null;b=Pu(H.inputs,P,b,J?J.inputs:null),S=Pu(H.outputs,P,S,Ue);const it=null===b||null===y||$l(s)?null:oC(b,P,y);I.push(it)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=I,s.inputs=b,s.outputs=S}(i,a,f)}function tv(i,s,a){const l=a.directiveStart,c=a.directiveEnd,f=a.index,y=function rl(){return Gt.lFrame.currentDirectiveIndex}();try{du(f);for(let I=l;I<c;I++){const b=i.data[I],S=s[I];Ho(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&sC(b,S)}}finally{du(-1),Ho(y)}}function sC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function nv(i,s,a){s.componentOffset=a,(i.components||(i.components=[])).push(s.index)}function md(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;qr(s)&&(a[""]=i)}}function G0(i,s,a,l,c){i.data[l]=c;const f=c.factory||(c.factory=Gi(c.type)),y=new C(f,qr(c),Nu);i.blueprint[l]=y,a[l]=y,function Rr(i,s,a,l,c){const f=c.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const I=~s.index;(function ig(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=I&&y.push(I),y.push(a,l,f)}}(i,s,l,Kl(i,a,c.hostVars,en),c)}function Ao(i,s,a,l,c,f){const y=U(i,s);ku(s[sn],y,f,i.value,a,l,c)}function ku(i,s,a,l,c,f,y){if(null==f)i.removeAttribute(s,c,a);else{const I=null==y?Ae(f):y(f,l||"",c);i.setAttribute(s,c,I,a)}}function rv(i,s,a,l,c,f){const y=f[s];if(null!==y){const I=l.setInput;for(let b=0;b<y.length;){const S=y[b++],P=y[b++],H=y[b++];null!==I?l.setInput(a,H,S,P):a[P]=H}}}function oC(i,s,a){let l=null,c=0;for(;c<a.length;){const f=a[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===l&&(l=[]);const y=i[f];for(let I=0;I<y.length;I+=2)if(y[I]===s){l.push(f,y[I+1],a[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function Yr(i,s,a,l){return[i,!0,!1,s,null,0,l,a,null,null]}function K0(i,s){const a=tt(s,i);if(Ln(a)){const l=a[ft];48&a[ie]?Jh(l,a,l.template,a[Yn]):a[dn]>0&&Qo(a)}}function Qo(i){for(let l=gn(i);null!==l;l=sr(l))for(let c=Er;c<l.length;c++){const f=l[c];if(Ln(f))if(512&f[ie]){const y=f[ft];Jh(y,f,y.template,f[Yn])}else f[dn]>0&&Qo(f)}const a=i[ft].components;if(null!==a)for(let l=0;l<a.length;l++){const c=tt(a[l],i);Ln(c)&&c[dn]>0&&Qo(c)}}function aC(i,s){const a=tt(s,i),l=a[ft];(function gs(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Zl(l,a,a[Yn])}function tf(i,s){return i[Si]?i[js][Mr]=s:i[Si]=s,i[js]=s,s}function Yl(i){for(;i;){i[ie]|=32;const s=$e(i);if(da(i)&&!s)return i;i=s}return null}function nf(i,s,a,l=!0){const c=s[rr];c.begin&&c.begin();try{Jh(i,s,i.template,a)}catch(y){throw l&&Y0(s,y),y}finally{c.end&&c.end()}}function og(i,s,a){au(0),s(i,a)}function Z0(i){return i[ci]||(i[ci]=[])}function Q0(i){return i.cleanup||(i.cleanup=[])}function yn(i,s,a){return(null===i||qr(i))&&(a=function iu(i){for(;Array.isArray(i);){if("object"==typeof i[ca])return i;i=i[Ar]}return null}(a[s.index])),a[sn]}function Y0(i,s){const a=i[rs],l=a?a.get(Pa,null):null;l&&l.handleError(s)}function yd(i,s,a,l,c){for(let f=0;f<a.length;){const y=a[f++],I=a[f++],b=s[y],S=i.data[y];null!==S.setInput?S.setInput(b,c,l,I):b[I]=c}}function Ps(i,s,a){const l=B(s,i);Ms(i[sn],l,a)}function Fu(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?f=I:1==f?c=_e(c,I):2==f&&(l=_e(l,I+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}function Xl(i,s,a,l,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(wr(f)),xi(f))for(let I=Er;I<f.length;I++){const b=f[I],S=b[ft].firstChild;null!==S&&Xl(b[ft],b,S,l)}const y=a.type;if(8&y)Xl(i,s,a.child,l);else if(32&y){const I=j(a,s);let b;for(;b=I();)l.push(b)}else if(16&y){const I=n0(s,a);if(Array.isArray(I))l.push(...I);else{const b=$e(s[fr]);Xl(b[ft],b,I,l,!0)}}a=c?a.projectionNext:a.next}return l}class Jl{get rootNodes(){const s=this._lView,a=s[ft];return Xl(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(s){this._lView[Yn]=s}get destroyed(){return 128==(128&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Nn];if(xi(s)){const a=s[Mi],l=a?a.indexOf(this):-1;l>-1&&(Ml(s,l),_a(a,l))}this._attachedToViewContainer=!1}kp(this._lView[ft],this._lView)}onDestroy(s){Yy(this._lView[ft],this._lView,null,s)}markForCheck(){Yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-65}reattach(){this._lView[ie]|=64}detectChanges(){nf(this._lView[ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Al(i,s){Ma(i,s,s[sn],2,null,null)}(this._lView[ft],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=s}}class X0 extends Jl{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;nf(s[ft],s,s[Yn],!1)}checkNoChanges(){}get context(){return null}}class iv extends To{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ct(s);return new vd(a,this.ngModule)}}function J0(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class tE{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=kt(l);const c=this.injector.get(s,qh,l);return c!==qh||a===qh?c:this.parentInjector.get(s,a,l)}}class vd extends hs{get inputs(){return J0(this.componentDef.inputs)}get outputs(){return J0(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function P0(i){return i.map(YD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,c){let f=(c=c||this.ngModule)instanceof Ll?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new tE(s,f):s,I=y.get(fs,null);if(null===I)throw new he(407,!1);const b=y.get(C0,null),S=I.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",H=l?function iC(i,s,a){return i.selectRootElement(s,a===M.ShadowDom)}(S,l,this.componentDef.encapsulation):Ta(S,P,function eE(i){const s=i.toLowerCase();return"svg"===s?Ds:"math"===s?Ys:null}(P)),J=this.componentDef.onPush?288:272,de=pd(0,null,null,1,0,null,null,null,null,null),Ue=ql(null,de,null,J,null,null,I,S,b,y,null);let it,Et;lu(Ue);try{const Rt=this.componentDef;let Kt,He=null;Rt.findHostDirectiveDefs?(Kt=[],He=new Map,Rt.findHostDirectiveDefs(Rt,Kt,He),Kt.push(Rt)):Kt=[Rt];const fn=function uC(i,s){const a=i[ft],l=Zt;return i[l]=s,Zo(a,l,2,"#host",null)}(Ue,H),Or=function _d(i,s,a,l,c,f,y,I){const b=c[ft];!function rE(i,s,a,l){for(const c of i)s.mergedAttrs=vr(s.mergedAttrs,c.hostAttrs);null!==s.mergedAttrs&&(Fu(s,s.mergedAttrs,!0),null!==a&&jr(l,a,s))}(l,i,s,y);const S=f.createRenderer(s,a),P=ql(c,Qy(a),null,a.onPush?32:16,c[i.index],i,f,S,I||null,null,null);return b.firstCreatePass&&nv(b,i,l.length-1),tf(c,P),c[i.index]=P}(fn,H,Rt,Kt,Ue,I,S);Et=Ie(de,Zt),H&&function Xr(i,s,a,l){if(l)Dn(i,a,["ng-version",Na.full]);else{const{attrs:c,classes:f}=function k0(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++l]):8===c&&a.push(f);else{if(!Ns(c))break;c=f}l++}return{attrs:s,classes:a}}(s.selectors[0]);c&&Dn(i,a,c),f&&f.length>0&&s0(i,a,f.join(" "))}}(S,Rt,H,l),void 0!==a&&function sv(i,s,a){const l=i.projection=[];for(let c=0;c<s.length;c++){const f=a[c];l.push(null!=f?Array.from(f):null)}}(Et,this.ngContentSelectors,a),it=function lC(i,s,a,l,c,f){const y=$r(),I=c[ft],b=U(y,c);H0(I,c,y,a,null,l);for(let P=0;P<a.length;P++)Zr(vo(c,I,y.directiveStart+P,y),c);tv(I,c,y),b&&Zr(b,c);const S=vo(c,I,y.directiveStart+y.componentOffset,y);if(i[Yn]=c[Yn]=S,null!==f)for(const P of f)P(S,s);return Zy(I,y,i),S}(Or,Rt,Kt,He,Ue,[ov]),Zl(de,Ue,null)}finally{lh()}return new nE(this.componentType,it,Mu(Et,Ue),Ue,Et)}}class nE extends Gh{constructor(s,a,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new X0(c),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[s])){const f=this._rootLView;yd(f[ft],f,c,s,a),Jy(f,this._tNode.index)}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function ov(){const i=$r();sl(qe()[ft],i)}function Id(i){return Object.getPrototypeOf(i.prototype).constructor}function so(i){let s=Id(i.type),a=!0;const l=[i];for(;s;){let c;if(qr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new he(903,!1);c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=ug(i.inputs),y.declaredInputs=ug(i.declaredInputs),y.outputs=ug(i.outputs);const I=c.hostBindings;I&&sE(i,I);const b=c.viewQuery,S=c.contentQueries;if(b&&rf(i,b),S&&iE(i,S),ge(i.inputs,c.inputs),ge(i.declaredInputs,c.declaredInputs),ge(i.outputs,c.outputs),qr(c)&&c.data.animation){const P=i.data;P.animation=(P.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const I=f[y];I&&I.ngInherit&&I(i),I===so&&(a=!1)}}s=Object.getPrototypeOf(s)}!function av(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=vr(c.hostAttrs,a=vr(a,c.hostAttrs))}}(l)}function ug(i){return i===W?{}:i===X?[]:i}function rf(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function iE(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,f)=>{s(l,c,f),a(l,c,f)}:s}function sE(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}const oE=["providersResolver"],cC=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function aE(i){let a,s=Id(i.type);a=qr(i)?s.\u0275cmp:s.\u0275dir;const l=i;for(const c of oE)l[c]=a[c];if(qr(a))for(const c of cC)l[c]=a[c]}function Ed(i){return s=>{s.findHostDirectiveDefs=lg,s.hostDirectives=(Array.isArray(i)?i:i()).map(a=>"function"==typeof a?{directive:Z(a),inputs:W,outputs:W}:{directive:Z(a.directive),inputs:uE(a.inputs),outputs:uE(a.outputs)})}}function lg(i,s,a){if(null!==i.hostDirectives)for(const l of i.hostDirectives){const c=cn(l.directive);lE(c.declaredInputs,l.inputs),lg(c,s,a),a.set(c,l),s.push(c)}}function uE(i){if(void 0===i||0===i.length)return W;const s={};for(let a=0;a<i.length;a+=2)s[i[a]]=i[a+1];return s}function lE(i,s){for(const a in s)s.hasOwnProperty(a)&&(i[s[a]]=i[a])}function sf(i){return!!lv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function lv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ba(i,s){const a=sf(i),l=sf(s);return a&&l?function dC(i,s,a){const l=i[Symbol.iterator](),c=s[Symbol.iterator]();for(;;){const f=l.next(),y=c.next();if(f.done&&y.done)return!0;if(f.done||y.done||!a(f.value,y.value))return!1}}(i,s,Ba):!(a||!i||"object"!=typeof i&&"function"!=typeof i||l||!s||"object"!=typeof s&&"function"!=typeof s)||Object.is(i,s)}function Xi(i,s,a){return i[s]=a}function wd(i,s){return i[s]}function Pi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Lu(i,s,a,l){const c=Pi(i,s,a);return Pi(i,s+1,l)||c}function mi(i,s,a,l,c){const f=Lu(i,s,a,l);return Pi(i,s+2,c)||f}function oo(i,s,a,l,c,f){const y=Lu(i,s,a,l);return Lu(i,s+2,c,f)||y}function cg(i,s,a,l){const c=qe();return Pi(c,bs(),s)&&(Tn(),Ao(Dr(),c,i,s,a,l)),cg}function Ji(i,s){let a=!1,l=qi();for(let f=1;f<s.length;f+=2)a=Pi(i,l++,s[f])||a;if(Rc(l),!a)return en;let c=s[0];for(let f=1;f<s.length;f+=2)c+=Ae(s[f])+s[f+1];return c}function ec(i,s,a,l){return Pi(i,bs(),a)?s+Ae(a)+l:en}function $a(i,s,a,l,c,f){const I=Lu(i,qi(),a,c);return Ni(2),I?s+Ae(a)+l+Ae(c)+f:en}function tc(i,s,a,l,c,f,y,I){const S=mi(i,qi(),a,c,y);return Ni(3),S?s+Ae(a)+l+Ae(c)+f+Ae(y)+I:en}function Dd(i,s,a,l,c,f,y,I,b,S){const H=oo(i,qi(),a,c,y,b);return Ni(4),H?s+Ae(a)+l+Ae(c)+f+Ae(y)+I+Ae(b)+S:en}function Cd(i,s,a,l,c,f,y,I,b,S,P,H){const J=qi();let de=oo(i,J,a,c,y,b);return de=Pi(i,J+4,P)||de,Ni(5),de?s+Ae(a)+l+Ae(c)+f+Ae(y)+I+Ae(b)+S+Ae(P)+H:en}function bd(i,s,a,l,c,f,y,I,b,S,P,H,J,de){const Ue=qi();let it=oo(i,Ue,a,c,y,b);return it=Lu(i,Ue+4,P,J)||it,Ni(6),it?s+Ae(a)+l+Ae(c)+f+Ae(y)+I+Ae(b)+S+Ae(P)+H+Ae(J)+de:en}function Td(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it){const Et=qi();let Rt=oo(i,Et,a,c,y,b);return Rt=mi(i,Et+4,P,J,Ue)||Rt,Ni(7),Rt?s+Ae(a)+l+Ae(c)+f+Ae(y)+I+Ae(b)+S+Ae(P)+H+Ae(J)+de+Ae(Ue)+it:en}function Sd(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt){const Kt=qi();let He=oo(i,Kt,a,c,y,b);return He=oo(i,Kt+4,P,J,Ue,Et)||He,Ni(8),He?s+Ae(a)+l+Ae(c)+f+Ae(y)+I+Ae(b)+S+Ae(P)+H+Ae(J)+de+Ae(Ue)+it+Ae(Et)+Rt:en}function cv(i,s,a,l,c,f){const y=qe(),I=ec(y,s,a,l);return I!==en&&Ao(Dr(),y,i,I,c,f),cv}function dv(i,s,a,l,c,f,y,I){const b=qe(),S=$a(b,s,a,l,c,f);return S!==en&&Ao(Dr(),b,i,S,y,I),dv}function hv(i,s,a,l,c,f,y,I,b,S){const P=qe(),H=tc(P,s,a,l,c,f,y,I);return H!==en&&Ao(Dr(),P,i,H,b,S),hv}function fv(i,s,a,l,c,f,y,I,b,S,P,H){const J=qe(),de=Dd(J,s,a,l,c,f,y,I,b,S);return de!==en&&Ao(Dr(),J,i,de,P,H),fv}function pv(i,s,a,l,c,f,y,I,b,S,P,H,J,de){const Ue=qe(),it=Cd(Ue,s,a,l,c,f,y,I,b,S,P,H);return it!==en&&Ao(Dr(),Ue,i,it,J,de),pv}function gv(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it){const Et=qe(),Rt=bd(Et,s,a,l,c,f,y,I,b,S,P,H,J,de);return Rt!==en&&Ao(Dr(),Et,i,Rt,Ue,it),gv}function mv(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt){const Kt=qe(),He=Td(Kt,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it);return He!==en&&Ao(Dr(),Kt,i,He,Et,Rt),mv}function yv(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt,Kt,He){const fn=qe(),Or=Sd(fn,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt);return Or!==en&&Ao(Dr(),fn,i,Or,Kt,He),yv}function vv(i,s,a,l){const c=qe(),f=Ji(c,s);return f!==en&&Ao(Dr(),c,i,f,a,l),vv}function dE(i){const s=Sl(i);nf(s[ft],s,i)}function fE(i,s,a,l,c,f,y,I){const b=qe(),S=Tn(),P=i+Zt,H=S.firstCreatePass?function hE(i,s,a,l,c,f,y,I,b){const S=s.consts,P=Zo(s,i,4,y||null,bn(S,I));ev(s,a,P,bn(S,b)),sl(s,P);const H=P.tView=pd(2,P,l,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,P),H.queries=s.queries.embeddedTView(P)),P}(P,S,b,s,a,l,c,f,y):S.data[P];Ei(H,!1);const J=b[sn].createComment("");Lh(S,b,J,H),Zr(J,b),tf(b,b[P]=Yr(J,b,J,H)),Ri(H)&&tg(S,b,H),null!=y&&ng(b,H,I)}function _v(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}function Iv(i){return Qe(function sh(){return Gt.lFrame.contextLView}(),Zt+i)}function Ev(i,s,a){const l=qe();return Pi(l,bs(),s)&&gi(Tn(),Dr(),l,i,s,l[sn],a,!1),Ev}function af(i,s,a,l,c){const y=c?"class":"style";yd(i,a,s.inputs[y],y,l)}function Ad(i,s,a,l){const c=qe(),f=Tn(),y=Zt+i,I=c[sn],b=f.firstCreatePass?function yi(i,s,a,l,c,f){const y=s.consts,b=Zo(s,i,2,l,bn(y,c));return ev(s,a,b,bn(y,f)),null!==b.attrs&&Fu(b,b.attrs,!1),null!==b.mergedAttrs&&Fu(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(y,f,c,s,a,l):f.data[y],S=c[y]=Ta(I,s,function Wm(){return Gt.lFrame.currentNamespace}()),P=Ri(b);return Ei(b,!0),jr(I,S,b),32!=(32&b.flags)&&Lh(f,c,S,b),0===function Uo(){return Gt.lFrame.elementDepthCount}()&&Zr(S,c),function Xs(){Gt.lFrame.elementDepthCount++}(),P&&(tg(f,c,b),Zy(f,b,c)),null!==l&&ng(c,b),Ad}function Md(){let i=$r();nl()?su():(i=i.parent,Ei(i,!1));const s=i;!function hi(){Gt.lFrame.elementDepthCount--}();const a=Tn();return a.firstCreatePass&&(sl(a,i),$s(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function xt(i){return 0!=(8&i.flags)}(s)&&af(a,s,qe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Wn(i){return 0!=(16&i.flags)}(s)&&af(a,s,qe(),s.stylesWithoutHost,!1),Md}function uf(i,s,a,l){return Ad(i,s,a,l),Md(),uf}function lf(i,s,a){const l=qe(),c=Tn(),f=i+Zt,y=c.firstCreatePass?function Vu(i,s,a,l,c){const f=s.consts,y=bn(f,l),I=Zo(s,i,8,"ng-container",y);return null!==y&&Fu(I,y,!0),ev(s,a,I,bn(f,c)),null!==s.queries&&s.queries.elementStart(s,I),I}(f,c,l,s,a):c.data[f];Ei(y,!0);const I=l[f]=l[sn].createComment("");return Lh(c,l,I,y),Zr(I,l),Ri(y)&&(tg(c,l,y),Zy(c,y,l)),null!=a&&ng(l,y),lf}function dg(){let i=$r();const s=Tn();return nl()?su():(i=i.parent,Ei(i,!1)),s.firstCreatePass&&(sl(s,i),$s(i)&&s.queries.elementEnd(i)),dg}function hg(i,s,a){return lf(i,s,a),dg(),hg}function cf(){return qe()}function Ha(i){return!!i&&"function"==typeof i.then}function Uu(i){return!!i&&"function"==typeof i.subscribe}const ju=Uu;function nc(i,s,a,l){const c=qe(),f=Tn(),y=$r();return pg(f,c,c[sn],y,i,s,l),nc}function fg(i,s){const a=$r(),l=qe(),c=Tn();return pg(c,l,yn(ma(c.data),a,l),a,i,s),fg}function pg(i,s,a,l,c,f,y){const I=Ri(l),S=i.firstCreatePass&&Q0(i),P=s[Yn],H=Z0(s);let J=!0;if(3&l.type||y){const it=U(l,s),Et=y?y(it):it,Rt=H.length,Kt=y?fn=>y(wr(fn[l.index])):l.index;let He=null;if(!y&&I&&(He=function wv(i,s,a,l){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===a&&c[f+1]===l){const I=s[ci],b=c[f+2];return I.length>b?I[b]:null}"string"==typeof y&&(f+=2)}return null}(i,s,c,l.index)),null!==He)(He.__ngLastListenerFn__||He).__ngNextListenerFn__=f,He.__ngLastListenerFn__=f,J=!1;else{f=Cv(l,s,P,f,!1);const fn=a.listen(Et,c,f);H.push(f,fn),S&&S.push(c,Kt,Rt,Rt+1)}}else f=Cv(l,s,P,f,!1);const de=l.outputs;let Ue;if(J&&null!==de&&(Ue=de[c])){const it=Ue.length;if(it)for(let Et=0;Et<it;Et+=2){const Or=s[Ue[Et]][Ue[Et+1]].subscribe(f),Gr=H.length;H.push(f,Or),S&&S.push(c,l.index,Gr,-(Gr+1))}}}function Dv(i,s,a,l){try{return Kr(6,s,a),!1!==a(l)}catch(c){return Y0(i,c),!1}finally{Kr(7,s,a)}}function Cv(i,s,a,l,c){return function f(y){if(y===Function)return l;Yl(i.componentOffset>-1?tt(i.index,s):s);let b=Dv(s,a,l,y),S=f.__ngNextListenerFn__;for(;S;)b=Dv(s,a,S,y)&&b,S=S.__ngNextListenerFn__;return c&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function pE(i=1){return function KI(i){return(Gt.lFrame.contextLView=function ZI(i,s){for(;i>0;)s=s[Ai],i--;return s}(i,Gt.lFrame.contextLView))[Yn]}(i)}function gE(i,s){let a=null;const l=function R0(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const f=s[c];if("*"!==f){if(null===l?Py(i,f,!0):N0(l,f))return c}else a=c}return a}function bv(i){const s=qe()[fr][$n];if(!s.projection){const l=s.projection=pl(i?i.length:1,null),c=l.slice();let f=s.child;for(;null!==f;){const y=i?gE(f,i):0;null!==y&&(c[y]?c[y].projectionNext=f:l[y]=f,c[y]=f),f=f.next}}}function df(i,s=0,a){const l=qe(),c=Tn(),f=Zo(c,Zt+i,16,null,a||null);null===f.projection&&(f.projection=s),su(),32!=(32&f.flags)&&function Lp(i,s,a){Vp(s[sn],0,s,a,Aa(i,a,s),ay(a.parent||s[$n],a,s))}(c,l,f)}function rc(i,s,a){return Yo(i,"",s,"",a),rc}function Yo(i,s,a,l,c){const f=qe(),y=ec(f,s,a,l);return y!==en&&gi(Tn(),Dr(),f,i,y,f[sn],c,!1),Yo}function Tv(i,s,a,l,c,f,y){const I=qe(),b=$a(I,s,a,l,c,f);return b!==en&&gi(Tn(),Dr(),I,i,b,I[sn],y,!1),Tv}function gg(i,s,a,l,c,f,y,I,b){const S=qe(),P=tc(S,s,a,l,c,f,y,I);return P!==en&&gi(Tn(),Dr(),S,i,P,S[sn],b,!1),gg}function Sv(i,s,a,l,c,f,y,I,b,S,P){const H=qe(),J=Dd(H,s,a,l,c,f,y,I,b,S);return J!==en&&gi(Tn(),Dr(),H,i,J,H[sn],P,!1),Sv}function Av(i,s,a,l,c,f,y,I,b,S,P,H,J){const de=qe(),Ue=Cd(de,s,a,l,c,f,y,I,b,S,P,H);return Ue!==en&&gi(Tn(),Dr(),de,i,Ue,de[sn],J,!1),Av}function Mv(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue){const it=qe(),Et=bd(it,s,a,l,c,f,y,I,b,S,P,H,J,de);return Et!==en&&gi(Tn(),Dr(),it,i,Et,it[sn],Ue,!1),Mv}function ic(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et){const Rt=qe(),Kt=Td(Rt,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it);return Kt!==en&&gi(Tn(),Dr(),Rt,i,Kt,Rt[sn],Et,!1),ic}function za(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt,Kt){const He=qe(),fn=Sd(He,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt);return fn!==en&&gi(Tn(),Dr(),He,i,fn,He[sn],Kt,!1),za}function Xo(i,s,a){const l=qe(),c=Ji(l,s);return c!==en&&gi(Tn(),Dr(),l,i,c,l[sn],a,!1),Xo}function hf(i,s){return i<<17|s<<2}function Bu(i){return i>>17&32767}function ff(i){return 2|i}function Ga(i){return(131068&i)>>2}function mg(i,s){return-131069&i|s<<2}function pf(i){return 1|i}function gf(i,s,a,l,c){const f=i[a+1],y=null===s;let I=l?Bu(f):Ga(f),b=!1;for(;0!==I&&(!1===b||y);){const P=i[I+1];mC(i[I],s)&&(b=!0,i[I+1]=l?pf(P):ff(P)),I=l?Bu(P):Ga(P)}b&&(i[a+1]=l?ff(f):pf(f))}function mC(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ls(i,s)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xd(i){return i.substring(ei.key,ei.keyEnd)}function yg(i){return i.substring(ei.value,ei.valueEnd)}function Ov(i,s){const a=ei.textEnd;return a===s?-1:(s=ei.keyEnd=function vg(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,ei.key=s,a),Wa(i,s,a))}function es(i,s){const a=ei.textEnd;let l=ei.key=Wa(i,s,a);return a===l?-1:(l=ei.keyEnd=function vE(i,s,a){let l;for(;s<a&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,a),l=qa(i,l,a),l=ei.value=Wa(i,l,a),l=ei.valueEnd=function Rd(i,s,a){let l=-1,c=-1,f=-1,y=s,I=y;for(;y<a;){const b=i.charCodeAt(y++);if(59===b)return I;34===b||39===b?I=y=kv(i,b,y,a):s===y-4&&85===f&&82===c&&76===l&&40===b?I=y=kv(i,41,y,a):b>32&&(I=y),f=c,c=l,l=-33&b}return I}(i,l,a),qa(i,l,a))}function Pv(i){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=i.length}function Wa(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function qa(i,s,a,l){return(s=Wa(i,s,a))<a&&s++,s}function kv(i,s,a,l){let c=-1,f=a;for(;f<l;){const y=i.charCodeAt(f++);if(y==s&&92!==c)return f;c=92==y&&92===c?0:y}throw new Error}function Fv(i,s,a){return Mo(i,s,a,!1),Fv}function $u(i,s){return Mo(i,s,null,!0),$u}function ao(i){xo(Vv,Hu,i,!1)}function Hu(i,s){for(let a=function yE(i){return Pv(i),es(i,Wa(i,0,ei.textEnd))}(s);a>=0;a=es(s,a))Vv(i,xd(s),yg(s))}function Lv(i){xo(ii,Jo,i,!0)}function Jo(i,s){for(let a=function mf(i){return Pv(i),Ov(i,Wa(i,0,ei.textEnd))}(s);a>=0;a=Ov(s,a))ii(i,xd(s),!0)}function Mo(i,s,a,l){const c=qe(),f=Tn(),y=Ni(2);f.firstUpdatePass&&yf(f,i,y,l),s!==en&&Pi(c,y,s)&&DE(f,f.data[wi()],c,c[sn],i,c[y+1]=function _C(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ve(xs(i)))),i}(s,a),l,y)}function xo(i,s,a,l){const c=Tn(),f=Ni(2);c.firstUpdatePass&&yf(c,null,f,l);const y=qe();if(a!==en&&Pi(y,f,a)){const I=c.data[wi()];if(Eg(I,l)&&!_E(c,f)){let b=l?I.classesWithoutHost:I.stylesWithoutHost;null!==b&&(a=_e(b,a||"")),af(c,I,y,a,l)}else!function wE(i,s,a,l,c,f,y,I){c===en&&(c=X);let b=0,S=0,P=0<c.length?c[0]:null,H=0<f.length?f[0]:null;for(;null!==P||null!==H;){const J=b<c.length?c[b+1]:void 0,de=S<f.length?f[S+1]:void 0;let it,Ue=null;P===H?(b+=2,S+=2,J!==de&&(Ue=H,it=de)):null===H||null!==P&&P<H?(b+=2,Ue=P):(S+=2,Ue=H,it=de),null!==Ue&&DE(i,s,a,l,Ue,it,y,I),P=b<c.length?c[b]:null,H=S<f.length?f[S]:null}}(c,I,y,y[sn],y[f+1],y[f+1]=function vf(i,s,a){if(null==a||""===a)return X;const l=[],c=xs(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(l,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(l,f,c[f]);else"string"==typeof c&&s(l,c);return l}(i,s,a),l,f)}}function _E(i,s){return s>=i.expandoStartIndex}function yf(i,s,a,l){const c=i.data;if(null===c[a+1]){const f=c[wi()],y=_E(i,a);Eg(f,l)&&null===s&&!y&&(s=!1),s=function IE(i,s,a,l){const c=ma(i);let f=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Ro(a=_g(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=_g(c,i,s,a,l),null===f){let b=function yC(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Ga(l))return i[Bu(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=_g(null,i,s,b[1],l),b=Ro(b,s.attrs,l),function EE(i,s,a,l){i[Bu(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else f=function vC(i,s,a){let l;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)l=Ro(l,i[f].hostAttrs,a);return Ro(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,l),function gC(i,s,a,l,c,f){let y=f?s.classBindings:s.styleBindings,I=Bu(y),b=Ga(y);i[l]=a;let P,S=!1;if(Array.isArray(a)?(P=a[1],(null===P||ls(a,P)>0)&&(S=!0)):P=a,c)if(0!==b){const J=Bu(i[I+1]);i[l+1]=hf(J,I),0!==J&&(i[J+1]=mg(i[J+1],l)),i[I+1]=function fC(i,s){return 131071&i|s<<17}(i[I+1],l)}else i[l+1]=hf(I,0),0!==I&&(i[I+1]=mg(i[I+1],l)),I=l;else i[l+1]=hf(b,0),0===I?I=l:i[b+1]=mg(i[b+1],l),b=l;S&&(i[l+1]=ff(i[l+1])),gf(i,P,l,!0),gf(i,P,l,!1),function Nv(i,s,a,l,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ls(f,s)>=0&&(a[l+1]=pf(a[l+1]))}(s,P,i,l,f),y=hf(I,b),f?s.classBindings=y:s.styleBindings=y}(c,f,s,a,y,l)}}function _g(i,s,a,l,c){let f=null;const y=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<y&&(f=s[I],l=Ro(l,f.hostAttrs,c),f!==i);)I++;return null!==i&&(a.directiveStylingLast=I),l}function Ro(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ii(i,y,!!a||s[++f]))}return void 0===i?null:i}function Vv(i,s,a){ii(i,s,xs(a))}function DE(i,s,a,l,c,f,y,I){if(!(3&s.type))return;const b=i.data,S=b[I+1],P=function xv(i){return 1==(1&i)}(S)?Uv(b,s,a,c,Ga(S),y):void 0;Ig(P)||(Ig(f)||function mE(i){return 2==(2&i)}(S)&&(f=Uv(b,null,a,c,I,y)),function Vh(i,s,a,l,c){if(s)c?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:Zi.DashCase;null==c?i.removeStyle(a,l,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=Zi.Important),i.setStyle(a,l,c,f))}}(l,y,B(wi(),a),c,f))}function Uv(i,s,a,l,c,f){const y=null===s;let I;for(;c>0;){const b=i[c],S=Array.isArray(b),P=S?b[1]:b,H=null===P;let J=a[c+1];J===en&&(J=H?X:void 0);let de=H?gl(J,l):P===l?J:void 0;if(S&&!Ig(de)&&(de=gl(b,l)),Ig(de)&&(I=de,y))return I;const Ue=i[c+1];c=y?Bu(Ue):Ga(Ue)}if(null!==s){let b=f?s.residualClasses:s.residualStyles;null!=b&&(I=gl(b,l))}return I}function Ig(i){return void 0!==i}function Eg(i,s){return 0!=(i.flags&(s?8:16))}function li(i,s=""){const a=qe(),l=Tn(),c=i+Zt,f=l.firstCreatePass?Zo(l,c,1,s,null):l.data[c],y=a[c]=ds(a[sn],s);Lh(l,a,y,f),Ei(f,!1)}function jv(i){return wg("",i,""),jv}function wg(i,s,a){const l=qe(),c=ec(l,i,s,a);return c!==en&&Ps(l,wi(),c),wg}function Bv(i,s,a,l,c){const f=qe(),y=$a(f,i,s,a,l,c);return y!==en&&Ps(f,wi(),y),Bv}function $v(i,s,a,l,c,f,y){const I=qe(),b=tc(I,i,s,a,l,c,f,y);return b!==en&&Ps(I,wi(),b),$v}function Dg(i,s,a,l,c,f,y,I,b){const S=qe(),P=Dd(S,i,s,a,l,c,f,y,I,b);return P!==en&&Ps(S,wi(),P),Dg}function Hv(i,s,a,l,c,f,y,I,b,S,P){const H=qe(),J=Cd(H,i,s,a,l,c,f,y,I,b,S,P);return J!==en&&Ps(H,wi(),J),Hv}function Od(i,s,a,l,c,f,y,I,b,S,P,H,J){const de=qe(),Ue=bd(de,i,s,a,l,c,f,y,I,b,S,P,H,J);return Ue!==en&&Ps(de,wi(),Ue),Od}function zv(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue){const it=qe(),Et=Td(it,i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue);return Et!==en&&Ps(it,wi(),Et),zv}function Cg(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et){const Rt=qe(),Kt=Sd(Rt,i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et);return Kt!==en&&Ps(Rt,wi(),Kt),Cg}function _f(i){const s=qe(),a=Ji(s,i);return a!==en&&Ps(s,wi(),a),_f}function bg(i,s,a){xo(ii,Jo,ec(qe(),i,s,a),!0)}function Pd(i,s,a,l,c){xo(ii,Jo,$a(qe(),i,s,a,l,c),!0)}function If(i,s,a,l,c,f,y){xo(ii,Jo,tc(qe(),i,s,a,l,c,f,y),!0)}function Tg(i,s,a,l,c,f,y,I,b){xo(ii,Jo,Dd(qe(),i,s,a,l,c,f,y,I,b),!0)}function Sg(i,s,a,l,c,f,y,I,b,S,P){xo(ii,Jo,Cd(qe(),i,s,a,l,c,f,y,I,b,S,P),!0)}function Gv(i,s,a,l,c,f,y,I,b,S,P,H,J){xo(ii,Jo,bd(qe(),i,s,a,l,c,f,y,I,b,S,P,H,J),!0)}function CE(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue){xo(ii,Jo,Td(qe(),i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue),!0)}function Wv(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et){xo(ii,Jo,Sd(qe(),i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et),!0)}function qv(i){xo(ii,Jo,Ji(qe(),i),!0)}function Ag(i,s,a){ao(ec(qe(),i,s,a))}function bE(i,s,a,l,c){ao($a(qe(),i,s,a,l,c))}function Kv(i,s,a,l,c,f,y){ao(tc(qe(),i,s,a,l,c,f,y))}function TE(i,s,a,l,c,f,y,I,b){ao(Dd(qe(),i,s,a,l,c,f,y,I,b))}function Zv(i,s,a,l,c,f,y,I,b,S,P){ao(Cd(qe(),i,s,a,l,c,f,y,I,b,S,P))}function SE(i,s,a,l,c,f,y,I,b,S,P,H,J){ao(bd(qe(),i,s,a,l,c,f,y,I,b,S,P,H,J))}function sc(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue){ao(Td(qe(),i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue))}function oc(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et){ao(Sd(qe(),i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et))}function Mg(i){ao(Ji(qe(),i))}function kd(i,s,a,l,c){return Mo(i,ec(qe(),s,a,l),c,!1),kd}function xg(i,s,a,l,c,f,y){return Mo(i,$a(qe(),s,a,l,c,f),y,!1),xg}function Rg(i,s,a,l,c,f,y,I,b){return Mo(i,tc(qe(),s,a,l,c,f,y,I),b,!1),Rg}function Ng(i,s,a,l,c,f,y,I,b,S,P){return Mo(i,Dd(qe(),s,a,l,c,f,y,I,b,S),P,!1),Ng}function Qv(i,s,a,l,c,f,y,I,b,S,P,H,J){return Mo(i,Cd(qe(),s,a,l,c,f,y,I,b,S,P,H),J,!1),Qv}function Ef(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue){return Mo(i,bd(qe(),s,a,l,c,f,y,I,b,S,P,H,J,de),Ue,!1),Ef}function Yv(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et){return Mo(i,Td(qe(),s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it),Et,!1),Yv}function wf(i,s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt,Kt){return Mo(i,Sd(qe(),s,a,l,c,f,y,I,b,S,P,H,J,de,Ue,it,Et,Rt),Kt,!1),wf}function Og(i,s,a){return Mo(i,Ji(qe(),s),a,!1),Og}function Pg(i,s,a){const l=qe();return Pi(l,bs(),s)&&gi(Tn(),Dr(),l,i,s,l[sn],a,!0),Pg}function Df(i,s,a){const l=qe();if(Pi(l,bs(),s)){const f=Tn(),y=Dr();gi(f,y,l,i,s,yn(ma(f.data),y,l),a,!0)}return Df}const ea=void 0;var kg=["en",[["a","p"],["AM","PM"],ea],[["AM","PM"],ea,ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ea,"{1} 'at' {0}",ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cf(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let zu={};function Xv(i,s,a){"string"!=typeof s&&(a=s,s=i[Xt.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),zu[s]=i,a&&(zu[s][Xt.ExtraData]=a)}function bf(i){const s=function IC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Jv(s);if(a)return a;const l=s.split("-")[0];if(a=Jv(l),a)return a;if("en"===l)return kg;throw new he(701,!1)}function AE(i){return bf(i)[Xt.CurrencyCode]||null}function ME(i){return bf(i)[Xt.PluralCase]}function Jv(i){return i in zu||(zu[i]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[i]),zu[i]}function Fg(){zu={}}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const EC=["zero","one","two","few","many"],ac="en-US",uc={marker:"element"},Gu={marker:"ICU"};var Nr=(()=>((Nr=Nr||{})[Nr.SHIFT=2]="SHIFT",Nr[Nr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Nr[Nr.COMMENT=2]="COMMENT",Nr))();let RE=ac;function e_(i){(function ht(i,s){null==i&&mt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(RE=i.toLowerCase().replace(/_/g,"-"))}function NE(i,s,a){const l=s.insertBeforeIndex,c=Array.isArray(l)?l[0]:l;return null===c?uy(i,0,a):wr(a[c])}function Lg(i,s,a,l,c){const f=s.insertBeforeIndex;if(Array.isArray(f)){let y=l,I=null;if(3&s.type||(I=y,y=c),null!==y&&-1===s.componentOffset)for(let b=1;b<f.length;b++)Tu(i,y,a[f[b]],I,!1)}}function OE(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];PE(l)||Tf(l,s)&&null===t_(l)&&Fd(l,s.index)}}function PE(i){return!(64&i.type)}function Tf(i,s){return PE(s)||i.index>s.index}function t_(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function Fd(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(ly(NE,Lg),i.insertBeforeIndex=s)}function lc(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function n_(i,s,a){const l=eg(i,a,64,null,null);return OE(s,l),l}function Af(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Ug(i){return i>>>17}function jg(i){return(131070&i)>>>1}let Mf=0,cc=0;function Bg(i,s,a,l){const c=a[sn];let y,f=null;for(let I=0;I<s.length;I++){const b=s[I];if("string"==typeof b){const S=s[++I];null===a[S]&&(a[S]=ds(c,b))}else if("number"==typeof b)switch(1&b){case 0:const S=Ug(b);let P,H;if(null===f&&(f=S,y=kh(c,l)),S===f?(P=l,H=y):(P=null,H=wr(a[S])),null!==H){const it=jg(b);Tu(c,H,a[it],P,!1);const Rt=lc(i,it);if(null!==Rt&&"object"==typeof Rt){const Kt=Af(Rt,a);null!==Kt&&Bg(i,Rt.create[Kt],a,a[Rt.anchorIdx])}}break;case 1:const de=s[++I],Ue=s[++I];ku(c,B(b>>>1,a),null,null,de,Ue,null)}else switch(b){case Gu:const S=s[++I],P=s[++I];null===a[P]&&Zr(a[P]=Cu(c,S),a);break;case uc:const H=s[++I],J=s[++I];null===a[J]&&Zr(a[J]=Ta(c,H,null),a)}}}function xf(i,s,a,l,c){for(let f=0;f<a.length;f++){const y=a[f],I=a[++f];if(y&c){let b="";for(let S=f+1;S<=f+I;S++){const P=a[S];if("string"==typeof P)b+=P;else if("number"==typeof P)if(P<0)b+=Ae(s[l-P]);else{const H=P>>>2;switch(3&P){case 1:const J=a[++S],de=a[++S],Ue=i.data[H];"string"==typeof Ue?ku(s[sn],s[H],null,Ue,J,b,de):gi(i,Ue,s,J,b,s[sn],de,!1);break;case 0:const it=s[H];null!==it&&Ms(s[sn],it,b);break;case 2:FE(i,lc(i,H),s,b);break;case 3:$g(i,lc(i,H),l,s)}}}}else{const b=a[f+1];if(b>0&&3==(3&b)){const P=lc(i,b>>>2);s[P.currentCaseLViewIndex]<0&&$g(i,P,l,s)}}f+=I}}function $g(i,s,a,l){let c=l[s.currentCaseLViewIndex];if(null!==c){let f=Mf;c<0&&(c=l[s.currentCaseLViewIndex]=~c,f=-1),xf(i,l,s.update[c],a,f)}}function FE(i,s,a,l){const c=function i_(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function ki(i,s){const a=ME(s)(parseInt(i,10)),l=EC[a];return void 0!==l?l:"other"}(s,function DC(){return RE}());a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(Af(s,a)!==c&&(dc(i,s,a),a[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const y=a[s.anchorIdx];y&&Bg(i,s.create[c],a,y)}}function dc(i,s,a){let l=Af(s,a);if(null!==l){const c=s.remove[l];for(let f=0;f<c.length;f++){const y=c[f];if(y>0){const I=B(y,a);null!==I&&dy(a[sn],I)}else dc(i,lc(i,~y),a)}}}function TC(){const i=[];let a,l,s=-1;function f(I,b){s=0;const S=Af(I,b);l=null!==S?I.remove[S]:X}function y(){if(s<l.length){const I=l[s++];return I>0?a[I]:(i.push(s,l),f(a[ft].data[~I],a),y())}return 0===i.length?null:(l=i.pop(),s=i.pop(),y())}return function c(I,b){for(a=b;i.length;)i.pop();return f(I.value,b),y}}const zg=/\ufffd(\d+):?\d*\ufffd/gi,s_=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,MC=/\ufffd(\d+)\ufffd/,Gg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Rf="\ufffd",o_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,LE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,a_=/\uE500/g;function Ka(i,s,a,l,c,f,y){const I=Kl(i,l,1,null);let b=I<<Nr.SHIFT,S=$o();s===S&&(S=null),null===S&&(b|=Nr.APPEND_EAGERLY),y&&(b|=Nr.COMMENT,function le(i){void 0===O&&(O=i())}(TC)),c.push(b,null===f?"":f);const P=eg(i,I,y?32:1,null===f?"":f,null);OE(a,P);const H=P.index;return Ei(P,!1),null!==S&&s!==S&&function Sf(i,s){let a=i.insertBeforeIndex;null===a?(ly(NE,Lg),a=i.insertBeforeIndex=[null,s]):(function Xe(i,s,a){i!=s&&mt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(S,H),P}function l_(i,s,a,l,c,f,y){const I=y.match(zg),b=Ka(i,s,a,f,l,I?null:y,!1);I&&na(c,y,b.index,null,0,null)}function na(i,s,a,l,c,f){const y=i.length,I=y+1;i.push(null,null);const b=y+2,S=s.split(zg);let P=0;for(let H=0;H<S.length;H++){const J=S[H];if(1&H){const de=c+parseInt(J,10);i.push(-1-de),P|=hc(de)}else""!==J&&i.push(J)}return i.push(a<<2|(l?1:0)),l&&i.push(l,f),i[y]=P,i[I]=i.length-b,P}function UE(i){let s=0;for(let a=0;a<i.length;a++){const l=i[a];"number"==typeof l&&l<0&&s++}return s}function hc(i){return 1<<Math.min(i,31)}function jE(i){let s,f,a="",l=0,c=!1;for(;null!==(s=o_.exec(i));)c?s[0]===`${Rf}/*${f}${Rf}`&&(l=s.index,c=!1):(a+=i.substring(l,s.index+s[0].length),f=s[1],c=!0);return a+=i.slice(l),a}function Wg(i,s,a,l,c,f){let y=0;const I={type:c.type,currentCaseLViewIndex:Kl(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function NC(i,s,a){i.push(hc(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,c,f),function Vg(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,f,I);const b=c.values;for(let S=0;S<b.length;S++){const P=b[S],H=[];for(let J=0;J<P.length;J++){const de=P[J];if("string"!=typeof de){const Ue=H.push(de)-1;P[J]=`\x3c!--\ufffd${Ue}\ufffd--\x3e`}}y=RC(i,I,s,a,l,c.cases[S],P.join(""),H)|y}y&&function $E(i,s,a){i.push(s,1,a<<2|3)}(a,y,f)}function d_(i){const s=[],a=[];let l=1,c=0;const f=Nf(i=i.replace(Gg,function(y,I,b){return l="select"===b?0:1,c=parseInt(I.slice(1),10),""}));for(let y=0;y<f.length;){let I=f[y++].trim();1===l&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&s.push(I);const b=Nf(f[y++]);s.length>a.length&&a.push(b)}return{type:l,mainBinding:c,cases:s,values:a}}function Nf(i){if(!i)return[];let s=0;const a=[],l=[],c=/[{}]/g;let f;for(c.lastIndex=0;f=c.exec(i);){const I=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const b=i.substring(s,I);Gg.test(b)?l.push(d_(b)):l.push(b),s=I+1}}else{if(0==a.length){const b=i.substring(s,I);l.push(b),s=I+1}a.push("{")}}const y=i.substring(s);return l.push(y),l}function RC(i,s,a,l,c,f,y,I){const b=[],S=[],P=[];s.cases.push(f),s.create.push(b),s.remove.push(S),s.update.push(P);const J=vy(Ko()).getInertBodyElement(y),de=nt(J)||J;return de?BE(i,s,a,l,b,S,P,de,c,I,0):0}function BE(i,s,a,l,c,f,y,I,b,S,P){let H=0,J=I.firstChild;for(;J;){const de=Kl(i,a,1,null);switch(J.nodeType){case Node.ELEMENT_NODE:const Ue=J,it=Ue.tagName.toLowerCase();if(Ey.hasOwnProperty(it)){f_(c,uc,it,b,de),i.data[de]=it;const He=Ue.attributes;for(let fn=0;fn<He.length;fn++){const Or=He.item(fn),Gr=Or.name.toLowerCase();Or.value.match(zg)?Hh.hasOwnProperty(Gr)&&na(y,Or.value,de,Or.name,0,wy[Gr]?$h:null):HE(c,de,Or)}H=BE(i,s,a,l,c,f,y,J,de,S,P+1)|H,qg(f,de,P)}break;case Node.TEXT_NODE:const Et=J.textContent||"",Rt=Et.match(zg);f_(c,null,Rt?"":Et,b,de),qg(f,de,P),Rt&&(H=na(y,Et,de,null,0,null)|H);break;case Node.COMMENT_NODE:const Kt=MC.exec(J.textContent||"");if(Kt){const fn=S[parseInt(Kt[1],10)];f_(c,Gu,"",b,de),Wg(i,a,l,b,fn,de),h_(f,de,P)}}J=J.nextSibling}return H}function qg(i,s,a){0===a&&i.push(s)}function h_(i,s,a){0===a&&(i.push(~s),i.push(s))}function f_(i,s,a,l,c){null!==s&&i.push(s),i.push(a,c,function kE(i,s,a){return i|s<<17|a<<1}(0,l,c))}function HE(i,s,a){i.push(s<<1|1,a.name,a.value)}const p_=0,zE=/\[(\ufffd.+?\ufffd?)\]/,GE=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,OC=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,PC=/{([A-Z0-9_]+)}/g,kC=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,FC=/\/\*/,g_=/\d+\:(\d+)/;function Of(i,s,a=-1){const l=Tn(),c=qe(),f=Zt+i,y=bn(l.consts,s),I=$o();l.firstCreatePass&&function Ld(i,s,a,l,c,f){const y=$o(),I=[],b=[],S=[[]];c=function c_(i,s){if(function xC(i){return-1===i}(s))return jE(i);{const a=i.indexOf(`:${s}${Rf}`)+2+s.toString().length,l=i.search(new RegExp(`${Rf}\\/\\*\\d+:${s}${Rf}`));return jE(i.substring(a,l))}}(c,f);const P=function u_(i){return i.replace(a_," ")}(c).split(LE);for(let H=0;H<P.length;H++){let J=P[H];if(1&H){const de=47===J.charCodeAt(0),it=(J.charCodeAt(de?1:0),Zt+Number.parseInt(J.substring(de?2:1)));if(de)S.shift(),Ei($o(),!1);else{const Et=n_(i,S[0],it);S.unshift([]),Ei(Et,!0)}}else{const de=Nf(J);for(let Ue=0;Ue<de.length;Ue++){let it=de[Ue];if(1&Ue){const Et=it;if("object"!=typeof Et)throw new Error(`Unable to parse ICU expression in "${c}" message.`);Wg(i,a,b,s,Et,Ka(i,y,S[0],a,I,"",!0).index)}else""!==it&&l_(i,y,S[0],I,b,a,it)}}}i.data[l]={create:I,update:b}}(l,null===I?0:I.index,c,f,y,a);const b=l.data[f],P=sy(l,I===c[$n]?null:I,c);(function bC(i,s,a,l){const c=i[sn];for(let f=0;f<s.length;f++){const y=s[f++],I=s[f],S=(y&Nr.APPEND_EAGERLY)===Nr.APPEND_EAGERLY,P=y>>>Nr.SHIFT;let H=i[P];null===H&&(H=i[P]=(y&Nr.COMMENT)===Nr.COMMENT?c.createComment(I):ds(c,I)),S&&null!==a&&Tu(c,a,H,l,!1)}})(c,b.create,P,I&&8&I.type?c[I.index]:null),oh(!0)}function y_(){oh(!1)}function Kg(i,s,a){Of(i,s,a),y_()}function WE(i,s){const a=Tn(),l=bn(a.consts,s);!function Vd(i,s,a){const c=$r().index,f=[];if(i.firstCreatePass&&null===i.data[s]){for(let y=0;y<a.length;y+=2){const I=a[y],b=a[y+1];if(""!==b){if(s_.test(b))throw new Error(`ICU expressions are not supported in attributes. Message: "${b}".`);na(f,b,c,I,UE(f),null)}}i.data[s]=f}}(a,i+Zt,l)}function Pf(i){return function CC(i){i&&(Mf|=1<<Math.min(cc,31)),cc++}(Pi(qe(),bs(),i)),Pf}function v_(i){!function r_(i,s,a){if(cc>0){const l=i.data[a];xf(i,s,Array.isArray(l)?l:l.update,qi()-cc-1,Mf)}Mf=0,cc=0}(Tn(),qe(),i+Zt)}function Zg(i,s={}){return function m_(i,s={}){let a=i;if(zE.test(i)){const l={},c=[p_];a=a.replace(GE,(f,y,I)=>{const b=y||I,S=l[b]||[];if(S.length||(b.split("|").forEach(it=>{const Et=it.match(g_),Rt=Et?parseInt(Et[1],10):p_,Kt=FC.test(it);S.push([Rt,Kt,it])}),l[b]=S),!S.length)throw new Error(`i18n postprocess: unmatched placeholder - ${b}`);const P=c[c.length-1];let H=0;for(let it=0;it<S.length;it++)if(S[it][0]===P){H=it;break}const[J,de,Ue]=S[H];return de?c.pop():P!==J&&c.push(J),S.splice(H,1),Ue})}return Object.keys(s).length&&(a=a.replace(OC,(l,c,f,y,I,b)=>s.hasOwnProperty(f)?`${c}${s[f]}${b}`:l),a=a.replace(PC,(l,c)=>s.hasOwnProperty(c)?s[c]:l),a=a.replace(kC,(l,c)=>{if(s.hasOwnProperty(c)){const f=s[c];if(!f.length)throw new Error(`i18n postprocess: unmatched ICU - ${l} with key: ${c}`);return f.shift()}return l})),a}(i,s)}function __(i,s,a,l,c){if(i=Z(i),Array.isArray(i))for(let f=0;f<i.length;f++)__(i[f],s,a,l,c);else{const f=Tn(),y=qe();let I=cr(i)?i:Z(i.provide),b=Wp(i);const S=$r(),P=1048575&S.providerIndexes,H=S.directiveStart,J=S.providerIndexes>>20;if(cr(i)||!i.multi){const de=new C(b,c,Nu),Ue=Ff(I,s,c?P:P+J,H);-1===Ue?(Ip(ul(S,y),f,I),kf(f,i,s.length),s.push(I),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(de),y.push(de)):(a[Ue]=de,y[Ue]=de)}else{const de=Ff(I,s,P+J,H),Ue=Ff(I,s,P,P+J),Et=Ue>=0&&a[Ue];if(c&&!Et||!c&&!(de>=0&&a[de])){Ip(ul(S,y),f,I);const Rt=function w_(i,s,a,l,c){const f=new C(i,a,Nu);return f.multi=[],f.index=s,f.componentProviders=0,KE(f,c,l&&!a),f}(c?I_:LC,a.length,c,l,b);!c&&Et&&(a[Ue].providerFactory=Rt),kf(f,i,s.length,0),s.push(I),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(Rt),y.push(Rt)}else kf(f,i,de>-1?de:Ue,KE(a[c?Ue:de],b,!c&&l));!c&&l&&Et&&a[Ue].componentProviders++}}}function kf(i,s,a,l){const c=cr(s),f=function yt(i){return!!i.useClass}(s);if(c||f){const b=(f?Z(s.useClass):s).prototype.ngOnDestroy;if(b){const S=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const P=S.indexOf(a);-1===P?S.push(a,[l,b]):S[P+1].push(l,b)}else S.push(a,b)}}}function KE(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Ff(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function LC(i,s,a,l){return E_(this.multi,[])}function I_(i,s,a,l){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=vo(a,a[ft],this.providerFactory.index,l);f=I.slice(0,y),E_(c,f);for(let b=y;b<I.length;b++)f.push(I[b])}else f=[],E_(c,f);return f}function E_(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Qg(i,s=[]){return a=>{a.providersResolver=(l,c)=>function qE(i,s,a){const l=Tn();if(l.firstCreatePass){const c=qr(i);__(a,l.data,l.blueprint,c,!0),__(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class Wu{}class fc{}function D_(i,s){return new b_(i,s??null)}const C_=D_;class b_ extends Wu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iv(this);const l=Fn(s);this._bootstrapComponents=So(l.bootstrap),this._r3Injector=jy(s,a,[{provide:Wu,useValue:this},{provide:To,useValue:this.componentFactoryResolver}],ve(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Ud extends fc{constructor(s){super(),this.moduleType=s}create(s){return new b_(this.moduleType,s)}}class Za extends Wu{constructor(s,a,l){super(),this.componentFactoryResolver=new iv(this),this.instance=null;const c=new ud([...s,{provide:Wu,useValue:this},{provide:To,useValue:this.componentFactoryResolver}],a||Fl(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Lf(i,s,a=null){return new Za(i,s,a).injector}let VC=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Ay(0,a.type),c=l.length>0?Lf([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,c)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=ot({token:i,providedIn:"environment",factory:()=>new i(Je(Ll))}),i})();function Yg(i){i.getStandaloneInjector=s=>s.get(VC).getOrCreateStandaloneInjector(i)}function T_(i){const s=Ur(i);if(null===s)return null;if(void 0===s.component){const a=s.lView;if(null===a)return null;s.component=function g(i,s){const a=s[ft].data[i],{directiveStart:l,componentOffset:c}=a;return c>-1?s[l+c]:null}(s.nodeIndex,a)}return s.component}function ZE(i){!function HC(i){if(typeof Element<"u"&&!(i instanceof Element))throw new Error("Expecting instance of DOM Element")}(i);const s=Ur(i),a=s?s.lView:null;return null===a?null:a[Yn]}function Xg(i){const s=Ur(i);let l,a=s?s.lView:null;if(null===a)return null;for(;2===a[ft].type&&(l=$e(a));)a=l;return 256&a[ie]?null:a[Yn]}function QE(i){const s=Ah(i);return null!==s?[$t(s)]:[]}function Jg(i){const s=Ur(i),a=s?s.lView:null;return null===a?Ru.NULL:new eo(a[ft].data[s.nodeIndex],a)}function em(i){if(i instanceof Text)return[];const s=Ur(i),a=s?s.lView:null;if(null===a)return[];const c=s.nodeIndex;return a[ft]?.data[c]?(void 0===s.directives&&(s.directives=p(c,a)),null===s.directives?[]:[...s.directives]):[]}function jC(i){const{constructor:s}=i;if(!s)throw new Error("Unable to find the instance constructor");const a=ct(s);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?N.OnPush:N.Default};const l=cn(s);return l?{inputs:l.inputs,outputs:l.outputs}:null}function tm(i){return Ur(i).native}function A_(i){const s=Ur(i),a=null===s?null:s.lView;if(null===a)return[];const c=a[ci],f=a[ft].cleanup,y=[];if(f&&c)for(let I=0;I<f.length;){const b=f[I++],S=f[I++];if("string"==typeof b){const P=b,H=wr(a[S]),J=c[f[I++]],de=f[I++];i==H&&y.push({element:i,name:P,callback:J,useCapture:"boolean"==typeof de&&de,type:"boolean"==typeof de||de>=0?"dom":"output"})}}return y.sort(BC),y}function BC(i,s){return i.name==s.name?0:i.name<s.name?-1:1}function $C(i){return void 0!==i.type&&void 0!==i.template&&void 0!==i.declaredInputs}function nm(i,s,a,l){return x(()=>{const c=i;null!==s&&(c.hasOwnProperty("decorators")&&void 0!==c.decorators?c.decorators.push(...s):c.decorators=s),null!==a&&(c.ctorParameters=a),null!==l&&(c.propDecorators=c.hasOwnProperty("propDecorators")&&void 0!==c.propDecorators?{...c.propDecorators,...l}:l)})}function rm(i,s,a){const l=ni()+i,c=qe();return c[l]===en?Xi(c,l,a?s.call(a):s()):wd(c,l)}function im(i,s,a,l){return nw(qe(),ni(),i,s,a,l)}function JE(i,s,a,l,c){return rw(qe(),ni(),i,s,a,l,c)}function M_(i,s,a,l,c,f){return N_(qe(),ni(),i,s,a,l,c,f)}function x_(i,s,a,l,c,f,y){return om(qe(),ni(),i,s,a,l,c,f,y)}function ew(i,s,a,l,c,f,y,I){const b=ni()+i,S=qe(),P=oo(S,b,a,l,c,f);return Pi(S,b+4,y)||P?Xi(S,b+5,I?s.call(I,a,l,c,f,y):s(a,l,c,f,y)):wd(S,b+5)}function sm(i,s,a,l,c,f,y,I,b){const S=ni()+i,P=qe(),H=oo(P,S,a,l,c,f);return Lu(P,S+4,y,I)||H?Xi(P,S+6,b?s.call(b,a,l,c,f,y,I):s(a,l,c,f,y,I)):wd(P,S+6)}function R_(i,s,a,l,c,f,y,I,b,S){const P=ni()+i,H=qe();let J=oo(H,P,a,l,c,f);return mi(H,P+4,y,I,b)||J?Xi(H,P+7,S?s.call(S,a,l,c,f,y,I,b):s(a,l,c,f,y,I,b)):wd(H,P+7)}function Vf(i,s,a,l,c,f,y,I,b,S,P){const H=ni()+i,J=qe(),de=oo(J,H,a,l,c,f);return oo(J,H+4,y,I,b,S)||de?Xi(J,H+8,P?s.call(P,a,l,c,f,y,I,b,S):s(a,l,c,f,y,I,b,S)):wd(J,H+8)}function tw(i,s,a,l){return O_(qe(),ni(),i,s,a,l)}function Uf(i,s){const a=i[s];return a===en?void 0:a}function nw(i,s,a,l,c,f){const y=s+a;return Pi(i,y,c)?Xi(i,y+1,f?l.call(f,c):l(c)):Uf(i,y+1)}function rw(i,s,a,l,c,f,y){const I=s+a;return Lu(i,I,c,f)?Xi(i,I+2,y?l.call(y,c,f):l(c,f)):Uf(i,I+2)}function N_(i,s,a,l,c,f,y,I){const b=s+a;return mi(i,b,c,f,y)?Xi(i,b+3,I?l.call(I,c,f,y):l(c,f,y)):Uf(i,b+3)}function om(i,s,a,l,c,f,y,I,b){const S=s+a;return oo(i,S,c,f,y,I)?Xi(i,S+4,b?l.call(b,c,f,y,I):l(c,f,y,I)):Uf(i,S+4)}function O_(i,s,a,l,c,f){let y=s+a,I=!1;for(let b=0;b<c.length;b++)Pi(i,y++,c[b])&&(I=!0);return I?Xi(i,y,l.apply(f,c)):Uf(i,y)}function am(i,s){const a=Tn();let l;const c=i+Zt;a.firstCreatePass?(l=function P_(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const f=l.factory||(l.factory=Gi(l.type)),y=Lt(Nu);try{const I=mo(!1),b=f();return mo(I),_v(a,qe(),c,b),b}finally{Lt(y)}}function jf(i,s,a){const l=i+Zt,c=qe(),f=Qe(c,l);return pc(c,l)?nw(c,ni(),s,f.transform,a,f):f.transform(a)}function um(i,s,a,l){const c=i+Zt,f=qe(),y=Qe(f,c);return pc(f,c)?rw(f,ni(),s,y.transform,a,l,y):y.transform(a,l)}function k_(i,s,a,l,c){const f=i+Zt,y=qe(),I=Qe(y,f);return pc(y,f)?N_(y,ni(),s,I.transform,a,l,c,I):I.transform(a,l,c)}function Bf(i,s,a,l,c,f){const y=i+Zt,I=qe(),b=Qe(I,y);return pc(I,y)?om(I,ni(),s,b.transform,a,l,c,f,b):b.transform(a,l,c,f)}function lm(i,s,a){const l=i+Zt,c=qe(),f=Qe(c,l);return pc(c,l)?O_(c,ni(),s,f.transform,a,f):f.transform.apply(f,a)}function pc(i,s){return i[ft].data[s].pure}function qu(i){return s=>{setTimeout(i,void 0,s)}}const uo=class sw extends E.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let c=s,f=a||(()=>null),y=l;if(s&&"object"==typeof s){const b=s;c=b.next?.bind(b),f=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(f=qu(f),c&&(c=qu(c)),y&&(y=qu(y)));const I=super.subscribe({next:c,error:f,complete:y});return s instanceof h.w0&&s.add(I),I}};function zC(){return this._results[Symbol.iterator]()}class cm{get changes(){return this._changes||(this._changes=new uo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=cm.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=zC)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=Di(s);(this._changesDetected=!function Dp(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],f=s[l];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $f=(()=>{class i{}return i.__NG_ELEMENT_ID__=aw,i})();const ow=$f,GC=class extends ow{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tView,c=ql(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);c[ji]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[$i];return null!==y&&(c[$i]=y.createEmbeddedView(l)),Zl(l,c,s),new Jl(c)}};function aw(){return dm($r(),qe())}function dm(i,s){return 4&i.type?new GC(s,i,Mu(i,s)):null}let hm=(()=>{class i{}return i.__NG_ELEMENT_ID__=WC,i})();function WC(){return L_($r(),qe())}const uw=hm,fm=class extends uw{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Mu(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const s=hh(this._hostTNode,this._hostLView);if(Oi(s)){const a=go(s,this._hostLView),l=Ts(s);return new eo(a[ft].data[l+8],a)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=F_(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(s,a,l){let c,f;"number"==typeof l?c=l:null!=l&&(c=l.index,f=l.injector);const y=s.createEmbeddedView(a||{},f);return this.insert(y,c),y}createComponent(s,a,l,c,f){const y=s&&!va(s);let I;if(y)I=a;else{const H=a||{};I=H.index,l=H.injector,c=H.projectableNodes,f=H.environmentInjector||H.ngModuleRef}const b=y?s:new vd(ct(s)),S=l||this.parentInjector;if(!f&&null==b.ngModule){const J=(y?S:this.parentInjector).get(Ll,null);J&&(f=J)}const P=b.create(S,c,void 0,f);return this.insert(P.hostView,I),P}insert(s,a){const l=s._lView,c=l[ft];if(function ur(i){return xi(i[Nn])}(l)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const H=l[Nn],J=new fm(H,H[$n],H[Nn]);J.detach(J.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function Sa(i,s,a,l){const c=Er+l,f=a.length;l>0&&(a[c-1][Mr]=s),l<f-Er?(s[Mr]=a[c],vu(a,Er+l,s)):(a.push(s),s[Mr]=null),s[Nn]=a;const y=s[ji];null!==y&&a!==y&&function Pp(i,s){const a=i[os];s[fr]!==s[Nn][Nn][fr]&&(i[ir]=!0),null===a?i[os]=[s]:a.push(s)}(y,s);const I=s[$i];null!==I&&I.insertView(i),s[ie]|=64}(c,l,y,f);const I=cy(f,y),b=l[sn],S=kh(b,y[ss]);return null!==S&&function lr(i,s,a,l,c,f){l[Ar]=c,l[$n]=s,Ma(i,l,a,1,c,f)}(c,y[$n],b,l,S,I),s.attachToViewContainerRef(),vu(pm(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=F_(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Ml(this._lContainer,a);l&&(_a(pm(this._lContainer),a),kp(l[ft],l))}detach(s){const a=this._adjustIndex(s,-1),l=Ml(this._lContainer,a);return l&&null!=_a(pm(this._lContainer),a)?new Jl(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function F_(i){return i[Mi]}function pm(i){return i[Mi]||(i[Mi]=[])}function L_(i,s){let a;const l=s[i.index];if(xi(l))a=l;else{let c;if(8&i.type)c=wr(l);else{const f=s[sn];c=f.createComment("");const y=U(i,s);Tu(f,kh(f,y),c,function VD(i,s){return i.nextSibling(s)}(f,y),!1)}s[i.index]=a=Yr(l,s,c,i),tf(s,a)}return new fm(a,i,s)}class jd{constructor(s){this.queryList=s,this.matches=null}clone(){return new jd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mn{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new Mn(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==qC(s,a).matches&&this.queries[a].setDirty()}}class V_{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class gm{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,c);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new gm(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class gc{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new gc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(s,a,lw(a,f)),this.matchTNodeWithReadOption(s,a,Ot(a,s,f,!1,!1))}else l===$f?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ot(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Wh||c===hm||c===$f&&4&a.type)this.addMatch(a.index,-2);else{const f=Ot(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function lw(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function bi(i,s,a,l){return-1===a?function Tr(i,s){return 11&i.type?Mu(i,s):4&i.type?dm(i,s):null}(s,i):-2===a?function ra(i,s,a){return a===Wh?Mu(s,i):a===$f?dm(s,i):a===hm?L_(s,i):void 0}(i,s,l):vo(i,i[ft],a,s)}function mm(i,s,a,l){const c=s[$i].queries[l];if(null===c.matches){const f=i.data,y=a.matches,I=[];for(let b=0;b<y.length;b+=2){const S=y[b];I.push(S<0?null:bi(s,f[S],y[b+1],a.metadata.read))}c.matches=I}return c.matches}function U_(i,s,a,l){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const y=mm(i,s,c,a);for(let I=0;I<f.length;I+=2){const b=f[I];if(b>0)l.push(y[I/2]);else{const S=f[I+1],P=s[-b];for(let H=Er;H<P.length;H++){const J=P[H];J[ji]===J[Nn]&&U_(J[ft],J,S,l)}if(null!==P[os]){const H=P[os];for(let J=0;J<H.length;J++){const de=H[J];U_(de[ft],de,S,l)}}}}}return l}function Qa(i){const s=qe(),a=Tn(),l=Js();au(l+1);const c=qC(a,l);if(i.dirty&&function Ut(i){return 4==(4&i[ie])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?U_(a,s,l,[]):mm(a,s,c,l);i.reset(f,qD),i.notifyOnChanges()}return!0}return!1}function j_(i,s,a){const l=Tn();l.firstCreatePass&&(hw(l,new V_(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),dw(l,qe(),s)}function ym(i,s,a,l){const c=Tn();if(c.firstCreatePass){const f=$r();hw(c,new V_(s,a,l),f.index),function Sr(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}dw(c,qe(),a)}function cw(){return function B_(i,s){return i[$i].queries[s].queryList}(qe(),Js())}function dw(i,s,a){const l=new cm(4==(4&a));Yy(i,s,l,l.destroy),null===s[$i]&&(s[$i]=new Mn),s[$i].queries.push(new jd(l))}function hw(i,s,a){null===i.queries&&(i.queries=new gm),i.queries.track(new gc(s,a))}function qC(i,s){return i.queries.getByIndex(s)}function Hf(i,s){return dm(i,s)}const jn=(()=>({\u0275\u0275attribute:cg,\u0275\u0275attributeInterpolate1:cv,\u0275\u0275attributeInterpolate2:dv,\u0275\u0275attributeInterpolate3:hv,\u0275\u0275attributeInterpolate4:fv,\u0275\u0275attributeInterpolate5:pv,\u0275\u0275attributeInterpolate6:gv,\u0275\u0275attributeInterpolate7:mv,\u0275\u0275attributeInterpolate8:yv,\u0275\u0275attributeInterpolateV:vv,\u0275\u0275defineComponent:An,\u0275\u0275defineDirective:Oe,\u0275\u0275defineInjectable:ot,\u0275\u0275defineInjector:qn,\u0275\u0275defineNgModule:Is,\u0275\u0275definePipe:et,\u0275\u0275directiveInject:Nu,\u0275\u0275getInheritedFactory:Vc,\u0275\u0275inject:Je,\u0275\u0275injectAttribute:Jr,\u0275\u0275invalidFactory:Xh,\u0275\u0275invalidFactoryDep:ke,\u0275\u0275templateRefExtractor:Hf,\u0275\u0275resetView:jo,\u0275\u0275HostDirectivesFeature:Ed,\u0275\u0275NgOnChangesFeature:Zs,\u0275\u0275ProvidersFeature:Qg,\u0275\u0275CopyDefinitionFeature:aE,\u0275\u0275InheritDefinitionFeature:so,\u0275\u0275StandaloneFeature:Yg,\u0275\u0275nextContext:pE,\u0275\u0275namespaceHTML:kc,\u0275\u0275namespaceMathML:zo,\u0275\u0275namespaceSVG:il,\u0275\u0275enableBindings:Cs,\u0275\u0275disableBindings:ih,\u0275\u0275elementStart:Ad,\u0275\u0275elementEnd:Md,\u0275\u0275element:uf,\u0275\u0275elementContainerStart:lf,\u0275\u0275elementContainerEnd:dg,\u0275\u0275elementContainer:hg,\u0275\u0275pureFunction0:rm,\u0275\u0275pureFunction1:im,\u0275\u0275pureFunction2:JE,\u0275\u0275pureFunction3:M_,\u0275\u0275pureFunction4:x_,\u0275\u0275pureFunction5:ew,\u0275\u0275pureFunction6:sm,\u0275\u0275pureFunction7:R_,\u0275\u0275pureFunction8:Vf,\u0275\u0275pureFunctionV:tw,\u0275\u0275getCurrentView:cf,\u0275\u0275restoreView:pr,\u0275\u0275listener:nc,\u0275\u0275projection:df,\u0275\u0275syntheticHostProperty:Df,\u0275\u0275syntheticHostListener:fg,\u0275\u0275pipeBind1:jf,\u0275\u0275pipeBind2:um,\u0275\u0275pipeBind3:k_,\u0275\u0275pipeBind4:Bf,\u0275\u0275pipeBindV:lm,\u0275\u0275projectionDef:bv,\u0275\u0275hostProperty:Pg,\u0275\u0275property:Ev,\u0275\u0275propertyInterpolate:rc,\u0275\u0275propertyInterpolate1:Yo,\u0275\u0275propertyInterpolate2:Tv,\u0275\u0275propertyInterpolate3:gg,\u0275\u0275propertyInterpolate4:Sv,\u0275\u0275propertyInterpolate5:Av,\u0275\u0275propertyInterpolate6:Mv,\u0275\u0275propertyInterpolate7:ic,\u0275\u0275propertyInterpolate8:za,\u0275\u0275propertyInterpolateV:Xo,\u0275\u0275pipe:am,\u0275\u0275queryRefresh:Qa,\u0275\u0275viewQuery:j_,\u0275\u0275loadQuery:cw,\u0275\u0275contentQuery:ym,\u0275\u0275reference:Iv,\u0275\u0275classMap:Lv,\u0275\u0275classMapInterpolate1:bg,\u0275\u0275classMapInterpolate2:Pd,\u0275\u0275classMapInterpolate3:If,\u0275\u0275classMapInterpolate4:Tg,\u0275\u0275classMapInterpolate5:Sg,\u0275\u0275classMapInterpolate6:Gv,\u0275\u0275classMapInterpolate7:CE,\u0275\u0275classMapInterpolate8:Wv,\u0275\u0275classMapInterpolateV:qv,\u0275\u0275styleMap:ao,\u0275\u0275styleMapInterpolate1:Ag,\u0275\u0275styleMapInterpolate2:bE,\u0275\u0275styleMapInterpolate3:Kv,\u0275\u0275styleMapInterpolate4:TE,\u0275\u0275styleMapInterpolate5:Zv,\u0275\u0275styleMapInterpolate6:SE,\u0275\u0275styleMapInterpolate7:sc,\u0275\u0275styleMapInterpolate8:oc,\u0275\u0275styleMapInterpolateV:Mg,\u0275\u0275styleProp:Fv,\u0275\u0275stylePropInterpolate1:kd,\u0275\u0275stylePropInterpolate2:xg,\u0275\u0275stylePropInterpolate3:Rg,\u0275\u0275stylePropInterpolate4:Ng,\u0275\u0275stylePropInterpolate5:Qv,\u0275\u0275stylePropInterpolate6:Ef,\u0275\u0275stylePropInterpolate7:Yv,\u0275\u0275stylePropInterpolate8:wf,\u0275\u0275stylePropInterpolateV:Og,\u0275\u0275classProp:$u,\u0275\u0275advance:ky,\u0275\u0275template:fE,\u0275\u0275text:li,\u0275\u0275textInterpolate:jv,\u0275\u0275textInterpolate1:wg,\u0275\u0275textInterpolate2:Bv,\u0275\u0275textInterpolate3:$v,\u0275\u0275textInterpolate4:Dg,\u0275\u0275textInterpolate5:Hv,\u0275\u0275textInterpolate6:Od,\u0275\u0275textInterpolate7:zv,\u0275\u0275textInterpolate8:Cg,\u0275\u0275textInterpolateV:_f,\u0275\u0275i18n:Kg,\u0275\u0275i18nAttributes:WE,\u0275\u0275i18nExp:Pf,\u0275\u0275i18nStart:Of,\u0275\u0275i18nEnd:y_,\u0275\u0275i18nApply:v_,\u0275\u0275i18nPostprocess:Zg,\u0275\u0275resolveWindow:A0,\u0275\u0275resolveDocument:ka,\u0275\u0275resolveBody:Br,\u0275\u0275setComponentScope:vs,\u0275\u0275setNgModuleScope:ar,\u0275\u0275registerNgModuleType:Eh,\u0275\u0275sanitizeHtml:zp,\u0275\u0275sanitizeStyle:At,\u0275\u0275sanitizeResourceUrl:Dy,\u0275\u0275sanitizeScript:_t,\u0275\u0275sanitizeUrl:Vt,\u0275\u0275sanitizeUrlOrResourceUrl:Cy,\u0275\u0275trustConstantHtml:Ce,\u0275\u0275trustConstantResourceUrl:Ye,\u0275\u0275validateIframeAttribute:fy,forwardRef:q,resolveForwardRef:Z}))();let mc=null;function fw(){mc=null}function $_(i){return!!Fn(i)}const zf=[];let H_=!1;function gw(){if(!H_){H_=!0;try{for(let i=zf.length-1;i>=0;i--){const{moduleType:s,ngModule:a}=zf[i];a.declarations&&a.declarations.every(z_)&&(zf.splice(i,1),yw(s,a))}}finally{H_=!1}}}function z_(i){return Array.isArray(i)?i.every(z_):!!Z(i)}function Bd(i,s={}){mw(i,s),void 0!==s.id&&Eh(i,s.id),function ZT(i,s){zf.push({moduleType:i,ngModule:s})}(i,s)}function mw(i,s,a=!1){const l=Di(s.declarations||X);let c=null;Object.defineProperty(i,Pt,{configurable:!0,get:()=>(null===c&&(c=Vr().compileNgModule(jn,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:Di(s.bootstrap||X).map(Z),declarations:l.map(Z),imports:Di(s.imports||X).map(Z).map(Gf),exports:Di(s.exports||X).map(Z).map(Gf),schemas:s.schemas?Di(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let f=null;Object.defineProperty(i,Mt,{get:()=>{if(null===f){const I=Vr();f=I.compileFactory(jn,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:Eu(i),target:I.FactoryTarget.NgModule,typeArgumentCount:0})}return f},configurable:!1});let y=null;Object.defineProperty(i,ee,{get:()=>{if(null===y){const I={name:i.name,type:i,providers:s.providers||X,imports:[(s.imports||X).map(Z),(s.exports||X).map(Z)]};y=Vr().compileInjector(jn,`ng:///${i.name}/\u0275inj.js`,I)}return y},configurable:!1})}let yc=new WeakMap,G_=new WeakMap;function YC(){yc=new WeakMap,G_=new WeakMap,zf.length=0}function yw(i,s){const a=Di(s.declarations||X),l=vc(i);a.forEach(c=>{(c=Z(c)).hasOwnProperty(Ge)?$d(ct(c),l):!c.hasOwnProperty(dt)&&!c.hasOwnProperty(pt)&&(c.ngSelectorScope=i)})}function $d(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(a=>a.hasOwnProperty(Ge)?ct(a):cn(a)).filter(a=>!!a),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(a=>rn(a)),i.schemas=s.schemas,i.tView=null}function vc(i){if($_(i))return function _c(i){const s=Fn(i,!0);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const a={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return So(s.imports).forEach(l=>{const c=vc(l);c.exported.directives.forEach(f=>a.compilation.directives.add(f)),c.exported.pipes.forEach(f=>a.compilation.pipes.add(f))}),So(s.declarations).forEach(l=>{rn(l)?a.compilation.pipes.add(l):a.compilation.directives.add(l)}),So(s.exports).forEach(l=>{const c=l;if($_(c)){const f=vc(c);f.exported.directives.forEach(y=>{a.compilation.directives.add(y),a.exported.directives.add(y)}),f.exported.pipes.forEach(y=>{a.compilation.pipes.add(y),a.exported.pipes.add(y)})}else rn(c)?a.exported.pipes.add(c):a.exported.directives.add(c)}),s.transitiveCompileScopes=a,a}(i);if(Qn(i)){if(null!==(ct(i)||cn(i)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([i]),pipes:new Set}};if(null!==rn(i))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([i])}}}throw new Error(`${i.name} does not have a module def (\u0275mod property)`)}function Gf(i){return function pw(i){return void 0!==i.ngModule}(i)?i.ngModule:i}let Ic=0;function q_(i,s){let a=null;(function Hr(i,s){Da(s)&&(no.set(i,s),Do.add(i))})(i,s),Z_(i,s),Object.defineProperty(i,Ge,{get:()=>{if(null===a){const l=Vr();if(Da(s)){const S=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&S.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&S.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),S.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(S.join("\n"))}const c=function ZC(){return mc}();let f=s.preserveWhitespaces;void 0===f&&(f=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let y=s.encapsulation;void 0===y&&(y=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:M.Emulated);const I=s.templateUrl||`ng:///${i.name}/template.html`,b={...Q_(i,s),typeSourceSpan:l.createParseSourceSpan("Component",i.name,I),template:s.template||"",preserveWhitespaces:f,styles:s.styles||X,animations:s.animations,declarations:[],changeDetection:s.changeDetection,encapsulation:y,interpolation:s.interpolation,viewProviders:s.viewProviders||null};Ic++;try{if(b.usesInheritance&&Y_(i),a=l.compileComponent(jn,I,b),s.standalone){const S=Di(s.imports||X),{directiveDefs:P,pipeDefs:H}=function XC(i,s){let a=null,l=null;return{directiveDefs:()=>{if(null===a){a=[ct(i)];const y=new Set;for(const I of s){const b=Z(I);if(!y.has(b))if(y.add(b),Fn(b)){const S=vc(b);for(const P of S.exported.directives){const H=ct(P)||cn(P);H&&!y.has(P)&&(y.add(P),a.push(H))}}else{const S=ct(b)||cn(b);S&&a.push(S)}}}return a},pipeDefs:()=>{if(null===l){l=[];const y=new Set;for(const I of s){const b=Z(I);if(!y.has(b))if(y.add(b),Fn(b)){const S=vc(b);for(const P of S.exported.pipes){const H=rn(P);H&&!y.has(P)&&(y.add(P),l.push(H))}}else{const S=rn(b);S&&l.push(S)}}}return l}}}(i,S);a.directiveDefs=P,a.pipeDefs=H,a.dependencies=()=>S.map(Z)}}finally{Ic--}if(0===Ic&&gw(),function JC(i){return void 0!==i.ngSelectorScope}(i)){const S=vc(i.ngSelectorScope);$d(a,S)}if(s.schemas){if(!s.standalone)throw new Error(`The 'schemas' was specified for the ${Re(i)} but is only valid on a component that is standalone.`);a.schemas=s.schemas}else s.standalone&&(a.schemas=[])}return a},configurable:!1})}function Wf(i,s){let a=null;Z_(i,s||{}),Object.defineProperty(i,dt,{get:()=>{if(null===a){const l=vm(i,s||{});a=Vr().compileDirective(jn,l.sourceMapUrl,l.metadata)}return a},configurable:!1})}function vm(i,s){const a=i&&i.name,l=`ng:///${a}/\u0275dir.js`,c=Vr(),f=Q_(i,s);return f.typeSourceSpan=c.createParseSourceSpan("Directive",a,l),f.usesInheritance&&Y_(i),{metadata:f,sourceMapUrl:l}}function Z_(i,s){let a=null;Object.defineProperty(i,Mt,{get:()=>{if(null===a){const l=vm(i,s),c=Vr();a=c.compileFactory(jn,`ng:///${i.name}/\u0275fac.js`,{name:l.metadata.name,type:l.metadata.type,typeArgumentCount:0,deps:Eu(i),target:c.FactoryTarget.Directive})}return a},configurable:!1})}function Ec(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function Q_(i,s){const a=Wo(),l=a.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||W,propMetadata:l,inputs:s.inputs||X,outputs:s.outputs||X,queries:vw(i,l,Kf),lifecycle:{usesOnChanges:a.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Ec(i),exportAs:_m(s.exportAs),providers:s.providers||null,viewQueries:vw(i,l,J_),isStandalone:!!s.standalone,hostDirectives:s.hostDirectives?.map(c=>"function"==typeof c?{directive:c}:c)||null}}function Y_(i){const s=Object.prototype;let a=Object.getPrototypeOf(i.prototype).constructor;for(;a&&a!==s;)!cn(a)&&!ct(a)&&Iw(a)&&Wf(a,null),a=Object.getPrototypeOf(a)}function X_(i){return"string"==typeof i?_w(i):Z(i)}function qf(i,s){return{propertyName:i,predicate:X_(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function vw(i,s,a){const l=[];for(const c in s)if(s.hasOwnProperty(c)){const f=s[c];f.forEach(y=>{if(a(y)){if(!y.selector)throw new Error(`Can't construct a query for the property "${c}" of "${Re(i)}" since the query selector wasn't defined.`);if(f.some(Hd))throw new Error("Cannot combine @Input decorators with query decorators");l.push(qf(c,y))}})}return l}function _m(i){return void 0===i?null:_w(i)}function Kf(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function J_(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function Hd(i){return"Input"===i.ngMetadataName}function _w(i){return i.split(",").map(s=>s.trim())}const Im=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Iw(i){const s=Wo();if(Im.some(l=>s.hasLifecycleHook(i,l)))return!0;const a=s.propMetadata(i);for(const l in a){const c=a[l];for(let f=0;f<c.length;f++){const y=c[f],I=y.ngMetadataName;if(Hd(y)||Kf(y)||J_(y)||"Output"===I||"HostBinding"===I||"HostListener"===I)return!0}}return!1}function Em(i,s){let a=null,l=null;Object.defineProperty(i,Mt,{get:()=>{if(null===l){const c=zd(i,s),f=Vr();l=f.compileFactory(jn,`ng:///${c.name}/\u0275fac.js`,{name:c.name,type:c.type,typeArgumentCount:0,deps:Eu(i),target:f.FactoryTarget.Pipe})}return l},configurable:!1}),Object.defineProperty(i,pt,{get:()=>{if(null===a){const c=zd(i,s);a=Vr().compilePipe(jn,`ng:///${c.name}/\u0275pipe.js`,c)}return a},configurable:!1})}function zd(i,s){return{type:i,name:i.name,pipeName:s.name,pure:void 0===s.pure||s.pure,isStandalone:!!s.standalone}}const Ya=mu("Directive",(i={})=>i,void 0,void 0,(i,s)=>Wf(i,s)),Zf=mu("Component",(i={})=>({changeDetection:N.Default,...i}),Ya,void 0,(i,s)=>q_(i,s)),eb=mu("Pipe",i=>({pure:!0,...i}),void 0,void 0,(i,s)=>Em(i,s)),Gd=Io("Input",i=>({bindingPropertyName:i})),YT=Io("Output",i=>({bindingPropertyName:i})),XT=Io("HostBinding",i=>({hostPropertyName:i})),eI=Io("HostListener",(i,s)=>({eventName:i,args:s})),tb=mu("NgModule",i=>i,void 0,void 0,(i,s)=>Bd(i,s));function wc(...i){}const Ew=new nr("Application Initializer");let Dc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=wc,this.reject=wc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Ha(f))a.push(f);else if(ju(f)){const y=new Promise((I,b)=>{f.subscribe({complete:I,error:b})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Je(Ew,8))},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ww=new nr("AppId",{providedIn:"root",factory:Dw});function Dw(){return`${tI()}${tI()}${tI()}`}const wm={provide:ww,useFactory:Dw,deps:[]};function tI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cw=new nr("Platform Initializer"),bw=new nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tw=new nr("Application Packages Root URL"),Sw=new nr("AnimationModuleType");let Aw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Qf=new nr("LocaleId",{providedIn:"root",factory:()=>gt(Qf,me.Optional|me.SkipSelf)||function Mw(){return typeof $localize<"u"&&$localize.locale||ac}()}),nI=new nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Dm=new nr("Translations"),nb=new nr("TranslationsFormat");var Xa=(()=>((Xa=Xa||{})[Xa.Error=0]="Error",Xa[Xa.Warning=1]="Warning",Xa[Xa.Ignore=2]="Ignore",Xa))();class rb{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let ib=(()=>{class i{compileModuleSync(a){return new Ud(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=So(Fn(a).declarations).reduce((y,I)=>{const b=ct(I);return b&&y.push(new vd(b)),y},[]);return new rb(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const sb=new nr("compilerOptions");class eS{}function Cc(i){Yl(Sl(i)),QE(i).forEach(s=>dE(s))}const sa="ng";let Wd=!1;function Zu(){Wd||(Wd=!0,lo("\u0275setProfiler",ru),lo("getDirectiveMetadata",jC),lo("getComponent",T_),lo("getContext",ZE),lo("getListeners",A_),lo("getOwningComponent",Xg),lo("getHostElement",tm),lo("getInjector",Jg),lo("getRootComponents",QE),lo("getDirectives",em),lo("applyChanges",Cc))}function lo(i,s){if((typeof COMPILED>"u"||!COMPILED)&&St){let l=St[sa];l||(l=St[sa]={}),l[i]=s}}const xw=(()=>Promise.resolve(0))();function Cm(i){typeof Zone>"u"?xw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class co{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uo(!1),this.onMicrotaskEmpty=new uo(!1),this.onStable=new uo(!1),this.onError=new uo(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Qu(){let i=St.requestAnimationFrame,s=St.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Rw(i){const s=()=>{!function ab(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(St,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Yf(i),i.isCheckStableRunning=!0,rI(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Yf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,f,y,I)=>{try{return iI(i),a.invokeTask(c,f,y,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),sI(i)}},onInvoke:(a,l,c,f,y,I,b)=>{try{return iI(i),a.invoke(c,f,y,I,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),sI(i)}},onHasTask:(a,l,c,f)=>{a.hasTask(c,f),l===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Yf(i),rI(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!co.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(co.isInAngularZone())throw new he(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,s,ob,wc,wc);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const ob={};function rI(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Yf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function iI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function sI(i){i._nesting--,rI(i)}class bm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo,this.onMicrotaskEmpty=new uo,this.onStable=new uo,this.onError=new uo}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}const Nw=new nr(""),bc=new nr("");let aI,oI=(()=>{class i{constructor(a,l,c){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aI||(Ow(c),c.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{co.assertNotInAngularZone(),Cm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Je(co),Je(ub),Je(bc))},i.\u0275prov=ot({token:i,factory:i.\u0275fac}),i})(),ub=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return aI?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Ow(i){aI=i}const oa=!1;let ts=null;const uI=new nr("AllowMultipleToken"),lI=new nr("PlatformDestroyListeners"),Pw=new nr("appBootstrapListener");function kw(i,s,a){const l=new Ud(a);return Promise.resolve(l)}function Fw(i){return i.isBoundToModule}class lb{constructor(s,a){this.name=s,this.token=a}}function cb(i){if(ts&&!ts.get(uI,!1))throw new he(400,!1);ts=i;const s=i.get(Sm);return cI(i),s}function cI(i){const s=i.get(Cw,null);s&&s.forEach(a=>a())}function aa(i){const{rootComponent:s,appProviders:a,platformProviders:l}=i;oa&&void 0!==s&&function M0(i){if(function Kh(i){if(!ct(i))throw new he(906,`The ${Re(i)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(i),!ct(i).standalone)throw new he(907,`The ${Re(i)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${Re(i)} component has the \`standalone: true\` flag in the decorator.`)}(s);const c=function rS(i=[]){if(ts)return ts;const s=Tm(i);return ts=s,cI(s),s}(l),f=Vw("zone.js",hI());return f.run(()=>{const I=Lf([{provide:co,useValue:f},...a||[]],c,"Environment Injector"),b=I.get(Pa,null);if(oa&&!b)throw new he(402,"No `ErrorHandler` found in the Dependency Injection tree.");let S;f.runOutsideAngular(()=>{S=f.onError.subscribe({next:J=>{b.handleError(J)}})});const P=()=>I.destroy(),H=c.get(lI);return H.add(P),I.onDestroy(()=>{S.unsubscribe(),H.delete(P)}),Am(b,f,()=>{const J=I.get(Dc);return J.runInitializers(),J.donePromise.then(()=>{e_(I.get(Qf,ac)||ac);const Ue=I.get(Mm);return void 0!==s&&Ue.bootstrap(s),Ue})})})}function Jt(i,s,a=[]){const l=`Platform: ${s}`,c=new nr(l);return(f=[])=>{let y=dI();if(!y||y.injector.get(uI,!1)){const I=[...a,...f,{provide:c,useValue:!0}];i?i(I):cb(Tm(I,l))}return Lw()}}function Lw(i){const s=dI();if(!s)throw new he(401,!1);return s}function Tm(i=[],s){return Ru.create({name:s,providers:[{provide:od,useValue:"platform"},{provide:lI,useValue:new Set([()=>ts=null])},...i]})}function db(){dI()?.destroy()}function dI(){return ts?.get(Sm)??null}let Sm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const c=Vw(l?.ngZone,hI(l)),f=[{provide:co,useValue:c}];return c.run(()=>{const y=Ru.create({providers:f,parent:this.injector,name:a.moduleType.name}),I=a.create(y),b=I.injector.get(Pa,null);if(!b)throw new he(402,!1);return c.runOutsideAngular(()=>{const S=c.onError.subscribe({next:P=>{b.handleError(P)}});I.onDestroy(()=>{Xf(this._modules,I),S.unsubscribe()})}),Am(b,c,()=>{const S=I.injector.get(Dc);return S.runInitializers(),S.donePromise.then(()=>(e_(I.injector.get(Qf,ac)||ac),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,l=[]){const c=Uw({},l);return kw(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const l=a.injector.get(Mm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new he(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(lI,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Je(Ru))},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function hI(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}function Vw(i,s){let a;return a="noop"===i?new bm:("zone.js"===i?void 0:i)||new co(s),a}function Am(i,s,a){try{const l=a();return Ha(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}function Uw(i,s){return Array.isArray(s)?s.reduce(Uw,i):{...i,...s}}let Mm=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,c){this._zone=a,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new V.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new V.y(I=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{co.assertNotInAngularZone(),Cm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{co.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ne.T)(f,y.pipe((0,ae.B)()))}bootstrap(a,l){oa&&this.warnIfDestroyed();const c=a instanceof hs;if(!this._injector.get(Dc).done){const de="Cannot bootstrap as there are still asynchronous initializers running."+(!c&&Qn(a)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new he(405,oa&&de)}let y;y=c?a:this._injector.get(To).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const I=Fw(y)?void 0:this._injector.get(Wu),S=y.create(Ru.NULL,[],l||y.selector,I),P=S.location.nativeElement,H=S.injector.get(Nw,null);return H?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),Xf(this.components,S),H?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(oa&&this.warnIfDestroyed(),this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){oa&&this.warnIfDestroyed();const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){oa&&this.warnIfDestroyed();const l=a;Xf(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Pw,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return oa&&this.warnIfDestroyed(),this._destroyListeners.push(a),()=>Xf(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new he(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){oa&&this._destroyed&&console.warn(we(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return i.\u0275fac=function(a){return new(a||i)(Je(co),Je(Ll),Je(Pa))},i.\u0275prov=ot({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Xf(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function jw(){return!1}function fb(){}function iS(i){const s=Il(i);if(!s)throw Bw(i);return new Ud(s)}function sS(i){const s=Il(i);if(!s)throw Bw(i);return s}function Bw(i){return new Error(`No module with ID ${i} loaded`)}let Jf=(()=>{class i{}return i.__NG_ELEMENT_ID__=fI,i})();function fI(i){return function pb(i,s,a){if(_i(i)&&!a){const l=tt(i.index,s);return new Jl(l,l)}return 47&i.type?new Jl(s[fr],s):null}($r(),qe(),16==(16&i))}class gb extends Jf{}class pI extends gb{}class mb{constructor(s,a){this.name=s,this.callback=a}}function yb(i){return i.map(s=>s.nativeElement)}class gI{constructor(s){this.nativeNode=s}get parent(){const s=this.nativeNode.parentNode;return s?new ep(s):null}get injector(){return Jg(this.nativeNode)}get componentInstance(){const s=this.nativeNode;return s&&(T_(s)||Xg(s))}get context(){return T_(this.nativeNode)||ZE(this.nativeNode)}get listeners(){return A_(this.nativeNode).filter(s=>"dom"===s.type)}get references(){return function S_(i){const s=Ur(i);if(null===s)return{};if(void 0===s.localRefs){const a=s.lView;if(null===a)return{};s.localRefs=function w(i,s){const a=i[ft].data[s];if(a&&a.localNames){const l={};let c=a.index+1;for(let f=0;f<a.localNames.length;f+=2)l[a.localNames[f]]=i[c],c++;return l}return null}(a,s.nodeIndex)}return s.localRefs||{}}(this.nativeNode)}get providerTokens(){return function UC(i){const s=Ur(i),a=s?s.lView:null;if(null===a)return[];const l=a[ft],c=l.data[s.nodeIndex],f=[],I=c.directiveEnd;for(let b=1048575&c.providerIndexes;b<I;b++){let S=l.data[b];$C(S)&&(S=S.type),f.push(S)}return f}(this.nativeNode)}}class ep extends gI{constructor(s){super(s)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const s=Ur(this.nativeNode),a=s?s.lView:null;return null!==a?a[ft].data[s.nodeIndex].value:this.nativeNode.nodeName}get properties(){const s=Ur(this.nativeNode),a=s?s.lView:null;if(null===a)return{};const l=a[ft].data,c=l[s.nodeIndex],f={};return function vb(i,s){if(i){let a=Object.getPrototypeOf(i);const l=Node.prototype;for(;null!==a&&a!==l;){const c=Object.getOwnPropertyDescriptors(a);for(let f in c)if(!f.startsWith("__")&&!f.startsWith("on")){const y=i[f];aS(y)&&(s[f]=y)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,f),function uS(i,s,a,l){let c=s.propertyBindings;if(null!==c)for(let f=0;f<c.length;f++){const y=c[f],b=l[y].split("\ufffd"),S=b[0];if(b.length>1){let P=b[1];for(let H=1;H<b.length-1;H++)P+=Ae(a[y+H-1])+b[H+1];i[S]=P}else i[S]=a[y]}}(f,c,a,l),f}get attributes(){const s={},a=this.nativeElement;if(!a)return s;const l=Ur(a),c=l?l.lView:null;if(null===c)return{};const f=c[ft].data[l.nodeIndex].attrs,y=[];if(f){let b=0;for(;b<f.length;){const S=f[b];if("string"!=typeof S)break;s[S]=f[b+1],y.push(S.toLowerCase()),b+=2}}const I=a.attributes;for(let b=0;b<I.length;b++){const S=I[b],P=S.name.toLowerCase();-1===y.indexOf(P)&&(s[P]=S.value)}return s}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const s={},l=this.nativeElement.className;return("string"!=typeof l?l.baseVal.split(" "):l.split(" ")).forEach(f=>s[f]=!0),s}get childNodes(){const s=this.nativeNode.childNodes,a=[];for(let l=0;l<s.length;l++)a.push(tp(s[l]));return a}get children(){const s=this.nativeElement;if(!s)return[];const a=s.children,l=[];for(let c=0;c<a.length;c++)l.push(tp(a[c]));return l}query(s){return this.queryAll(s)[0]||null}queryAll(s){const a=[];return _b(this,s,a,!0),a}queryAllNodes(s){const a=[];return _b(this,s,a,!1),a}triggerEventHandler(s,a){const l=this.nativeNode,c=[];this.listeners.forEach(f=>{if(f.name===s){const y=f.callback;y.call(l,a),c.push(y)}}),"function"==typeof l.eventListeners&&l.eventListeners(s).forEach(f=>{if(-1!==f.toString().indexOf("__ngUnwrap__")){const y=f("__ngUnwrap__");return-1===c.indexOf(y)&&y.call(l,a)}})}}function aS(i){return"string"==typeof i||"boolean"==typeof i||"number"==typeof i||null===i}function _b(i,s,a,l){const c=Ur(i.nativeNode),f=c?c.lView:null;null!==f?qd(f[ft].data[c.nodeIndex],f,s,a,l,i.nativeNode):$w(i.nativeNode,s,a,l)}function qd(i,s,a,l,c,f){const y=function Q(i,s){const a=null===i?-1:i.index;return-1!==a?wr(s[a]):null}(i,s);if(11&i.type){if(Rm(y,a,l,c,f),_i(i)){const b=tt(i.index,s);b&&b[ft].firstChild&&qd(b[ft].firstChild,b,a,l,c,f)}else i.child&&qd(i.child,s,a,l,c,f),y&&$w(y,a,l,c);const I=s[i.index];xi(I)&&Ib(I,a,l,c,f)}else if(4&i.type){const I=s[i.index];Rm(I[ss],a,l,c,f),Ib(I,a,l,c,f)}else if(16&i.type){const I=s[fr],S=I[$n].projection[i.projection];if(Array.isArray(S))for(let P of S)Rm(P,a,l,c,f);else if(S){const P=I[Nn];qd(P[ft].data[S.index],P,a,l,c,f)}}else i.child&&qd(i.child,s,a,l,c,f);if(f!==y){const I=2&i.flags?i.projectionNext:i.next;I&&qd(I,s,a,l,c,f)}}function Ib(i,s,a,l,c){for(let f=Er;f<i.length;f++){const y=i[f],I=y[ft].firstChild;I&&qd(I,y,s,a,l,c)}}function Rm(i,s,a,l,c){if(c!==i){const f=tp(i);if(!f)return;(l&&f instanceof ep&&s(f)&&-1===a.indexOf(f)||!l&&s(f)&&-1===a.indexOf(f))&&a.push(f)}}function $w(i,s,a,l){const c=i.childNodes,f=c.length;for(let y=0;y<f;y++){const I=c[y],b=tp(I);b&&((l&&b instanceof ep&&s(b)&&-1===a.indexOf(b)||!l&&s(b)&&-1===a.indexOf(b))&&a.push(b),$w(I,s,a,l))}}const zw="__ng_debug__";function tp(i){return i instanceof Node?(i.hasOwnProperty(zw)||(i[zw]=i.nodeType==Node.ELEMENT_NODE?new ep(i):new gI(i)),i[zw]):null}function lS(i){return null}class Eb{constructor(){}supports(s){return sf(s)}create(s){return new Gw(s)}}const cS=(i,s)=>s;class Gw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||cS}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<Db(l,c,f)?a:l,I=Db(y,c,f),b=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{f||(f=[]);const S=I-c,P=b-c;if(S!=P){for(let J=0;J<S;J++){const de=J<f.length?f[J]:f[J]=0,Ue=de+J;P<=Ue&&Ue<S&&(f[J]=de+1)}f[y.previousIndex]=P-S}}I!==b&&s(y,I,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!sf(s))throw new he(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)f=s[I],y=this._trackByFn(I,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,I)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,I),l=!0),a=a._next}else c=0,function hC(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,I=>{y=this._trackByFn(c,I),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,I,y,c)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new dS(a,l),f,c),s}_verifyReinsertion(s,a,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new wb),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class dS{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class wb{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new hS,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Db(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class Cb{constructor(){}supports(s){return s instanceof Map||lv(s)}create(){return new fS}}class fS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||lv(s)))throw new he(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const l=new pS(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class pS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bb(){return new Ww([new Eb])}let Ww=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||bb()),deps:[[i,new wo,new wa]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new he(901,!1)}}return i.\u0275prov=ot({token:i,providedIn:"root",factory:bb}),i})();function Tb(){return new qw([new Cb])}let qw=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Tb()),deps:[[i,new wo,new wa]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(l)return l;throw new he(901,!1)}}return i.\u0275prov=ot({token:i,providedIn:"root",factory:Tb}),i})();const gS=[new Cb],yS=new Ww([new Eb]),Sb=new qw(gS),vS=Jt(null,"core",[]);let _S=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Je(Mm))},i.\u0275mod=Is({type:i}),i.\u0275inj=qn({}),i})();function IS(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function ES(i){return Vr().compileDirectiveDeclaration(jn,`ng:///${i.type.name}/\u0275fac.js`,i)}function wS(i){nm(i.type,i.decorators,i.ctorParameters??null,i.propDecorators??null)}function DS(i){return Vr().compileComponentDeclaration(jn,`ng:///${i.type.name}/\u0275cmp.js`,i)}function CS(i){return Vr(function bS(i){switch(i){case Lr.Directive:return"directive";case Lr.Component:return"component";case Lr.Injectable:return"injectable";case Lr.Pipe:return"pipe";case Lr.NgModule:return"NgModule"}}(i.target)).compileFactoryDeclaration(jn,`ng:///${i.type.name}/\u0275fac.js`,i)}function TS(i){return Vr().compileInjectableDeclaration(jn,`ng:///${i.type.name}/\u0275prov.js`,i)}function SS(i){return Vr().compileInjectorDeclaration(jn,`ng:///${i.type.name}/\u0275inj.js`,i)}function AS(i){return Vr().compileNgModuleDeclaration(jn,`ng:///${i.type.name}/\u0275mod.js`,i)}function MS(i){return Vr().compilePipeDeclaration(jn,`ng:///${i.type.name}/\u0275pipe.js`,i)}function xS(i,s){const a=ct(i),l=s.elementInjector||Fl();return new vd(a).create(l,s.projectableNodes,s.hostElement,s.environmentInjector)}function RS(i){const s=ct(i);if(!s)return null;const a=new vd(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone}}}},1321:()=>{"use strict";const Dt=":";class ht extends Error{constructor(ee){super(`No translation found for ${Bt(ee)}.`),this.parsedMessage=ee,this.type="MissingTranslationError"}}const er=function(se,...ee){if(er.translate){const be=er.translate(se,ee);se=be[0],ee=be[1]}let ce=Kn(se[0],se.raw[0]);for(let be=1;be<se.length;be++)ce+=ee[be-1]+Kn(se[be],se.raw[be]);return ce},yr=":";function Kn(se,ee){return ee.charAt(0)===yr?se.substring(function Ke(se,ee){for(let ce=1,be=1;ce<se.length;ce++,be++)if("\\"===ee[be])be++;else if(se[ce]===Dt)return ce;throw new Error(`Unterminated $localize metadata block in "${ee}".`)}(se,ee)+1):se}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=er},3942:(Dt,Te,L)=>{"use strict";L.d(Te,{Z:()=>Se});var E=L(2090),h=L(4859),V=L(9681),ne=L(1877);class ae{constructor(he,we){this._delegate=he,this.firebase=we,(0,V._addComponent)(he,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(he,we=V._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(he);return!Re.isInitialized()&&"EXPLICIT"===(null===(Ae=Re.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:we})}_removeServiceInstance(he,we=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(we)}_addComponent(he){(0,V._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,V._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function _e(){const We=function ve(We){const he={},we={__esModule:!0,initializeApp:function Fe(Y,pe={}){const Ne=V.initializeApp(Y,pe);if((0,E.r3)(he,Ne.name))return he[Ne.name];const ut=new We(Ne,we);return he[Ne.name]=ut,ut},app:Re,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Ve(Y){const pe=Y.name,Ne=pe.replace("-compat","");if(V._registerComponent(Y)&&"PUBLIC"===Y.type){const ut=(Xe=Re())=>{if("function"!=typeof Xe[Ne])throw ge.create("invalid-app-argument",{appName:pe});return Xe[Ne]()};void 0!==Y.serviceProps&&(0,E.ZB)(ut,Y.serviceProps),we[Ne]=ut,We.prototype[Ne]=function(...Xe){return this._getService.bind(this,pe).apply(this,Y.multipleInstances?Xe:[])}}return"PUBLIC"===Y.type?we[Ne]:null},removeApp:function Ae(Y){delete he[Y]},useAsService:function rt(Y,pe){return"serverAuth"===pe?null:pe},modularAPIs:V}};function Re(Y){if(!(0,E.r3)(he,Y=Y||V._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Y});return he[Y]}return we.default=we,Object.defineProperty(we,"apps",{get:function je(){return Object.keys(he).map(Y=>he[Y])}}),Re.App=We,we}(ae);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function he(we){(0,E.ZB)(We,we)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),We}(),q=new ne.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=G;!function ue(We){(0,V.registerVersion)("@firebase/app-compat","0.2.5",We)}()},9681:(Dt,Te,L)=>{"use strict";L.r(Te),L.d(Te,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>er,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>_n,_addOrOverwriteComponent:()=>Nt,_apps:()=>ht,_clearComponents:()=>qn,_components:()=>mt,_getProvider:()=>ot,_registerComponent:()=>Tt,_removeServiceInstance:()=>Bt,deleteApp:()=>ee,getApp:()=>Kn,getApps:()=>se,initializeApp:()=>yr,onLog:()=>me,registerVersion:()=>be,setLogLevel:()=>at});var E=L(5861),h=L(4859),V=L(1877),ne=L(2090),ae=L(8766);class fe{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function ge(Je){return"VERSION"===Je.getComponent()?.type}(gt)){const kt=gt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(gt=>gt).join(" ")}}const ve="@firebase/app",G=new V.Yd("@firebase/app"),Ze="[DEFAULT]",Ke={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,mt=new Map;function _n(Je,ke){try{Je.container.addComponent(ke)}catch(gt){G.debug(`Component ${ke.name} failed to register with FirebaseApp ${Je.name}`,gt)}}function Nt(Je,ke){Je.container.addOrOverwriteComponent(ke)}function Tt(Je){const ke=Je.name;if(mt.has(ke))return G.debug(`There were multiple attempts to register component ${ke}.`),!1;mt.set(ke,Je);for(const gt of ht.values())_n(gt,Je);return!0}function ot(Je,ke){const gt=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),Je.container.getProvider(ke)}function Bt(Je,ke,gt=Ze){ot(Je,ke).clearInstance(gt)}function qn(){mt.clear()}const pn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(ke,gt,kt){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},gt),this._name=gt.name,this._automaticDataCollectionEnabled=gt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}const er="9.18.0";function yr(Je,ke={}){let gt=Je;"object"!=typeof ke&&(ke={name:ke});const kt=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},ke),qt=kt.name;if("string"!=typeof qt||!qt)throw pn.create("bad-app-name",{appName:String(qt)});if(gt||(gt=(0,ne.aH)()),!gt)throw pn.create("no-options");const ln=ht.get(qt);if(ln){if((0,ne.vZ)(gt,ln.options)&&(0,ne.vZ)(kt,ln.config))return ln;throw pn.create("duplicate-app",{appName:qt})}const Zn=new h.H0(qt);for(const F of mt.values())Zn.addComponent(F);const K=new On(gt,kt,Zn);return ht.set(qt,K),K}function Kn(Je=Ze){const ke=ht.get(Je);if(!ke&&Je===Ze)return yr();if(!ke)throw pn.create("no-app",{appName:Je});return ke}function se(){return Array.from(ht.values())}function ee(Je){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(Je){const ke=Je.name;ht.has(ke)&&(ht.delete(ke),yield Promise.all(Je.container.getProviders().map(gt=>gt.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function be(Je,ke,gt){var kt;let qt=null!==(kt=Ke[Je])&&void 0!==kt?kt:Je;gt&&(qt+=`-${gt}`);const ln=qt.match(/\s|\//),Zn=ke.match(/\s|\//);if(ln||Zn){const K=[`Unable to register library "${qt}" with version "${ke}":`];return ln&&K.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),ln&&Zn&&K.push("and"),Zn&&K.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void G.warn(K.join(" "))}Tt(new h.wA(`${qt}-version`,()=>({library:qt,version:ke}),"VERSION"))}function me(Je,ke){if(null!==Je&&"function"!=typeof Je)throw pn.create("invalid-log-argument");(0,V.Am)(Je,ke)}function at(Je){(0,V.Ub)(Je)}const mn="firebase-heartbeat-database",Lt=1,Ht="firebase-heartbeat-store";let Cn=null;function St(){return Cn||(Cn=(0,ae.X3)(mn,Lt,{upgrade:(Je,ke)=>{0===ke&&Je.createObjectStore(Ht)}}).catch(Je=>{throw pn.create("idb-open",{originalErrorMessage:Je.message})})),Cn}function bt(){return(bt=(0,E.Z)(function*(Je){try{return(yield St()).transaction(Ht).objectStore(Ht).get(Gn(Je))}catch(ke){if(ke instanceof ne.ZR)G.warn(ke.message);else{const gt=pn.create("idb-get",{originalErrorMessage:ke?.message});G.warn(gt.message)}}})).apply(this,arguments)}function tn(Je,ke){return zt.apply(this,arguments)}function zt(){return(zt=(0,E.Z)(function*(Je,ke){try{const kt=(yield St()).transaction(Ht,"readwrite");return yield kt.objectStore(Ht).put(ke,Gn(Je)),kt.done}catch(gt){if(gt instanceof ne.ZR)G.warn(gt.message);else{const kt=pn.create("idb-set",{originalErrorMessage:gt?.message});G.warn(kt.message)}}})).apply(this,arguments)}function Gn(Je){return`${Je.name}!${Je.options.appId}`}class Pr{constructor(ke){this.container=ke,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new nn(gt),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var ke=this;return(0,E.Z)(function*(){const kt=ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qt=Yt();if(null===ke._heartbeatsCache&&(ke._heartbeatsCache=yield ke._heartbeatsCachePromise),ke._heartbeatsCache.lastSentHeartbeatDate!==qt&&!ke._heartbeatsCache.heartbeats.some(ln=>ln.date===qt))return ke._heartbeatsCache.heartbeats.push({date:qt,agent:kt}),ke._heartbeatsCache.heartbeats=ke._heartbeatsCache.heartbeats.filter(ln=>{const Zn=new Date(ln.date).valueOf();return Date.now()-Zn<=2592e6}),ke._storage.overwrite(ke._heartbeatsCache)})()}getHeartbeatsHeader(){var ke=this;return(0,E.Z)(function*(){if(null===ke._heartbeatsCache&&(yield ke._heartbeatsCachePromise),null===ke._heartbeatsCache||0===ke._heartbeatsCache.heartbeats.length)return"";const gt=Yt(),{heartbeatsToSend:kt,unsentEntries:qt}=function Ir(Je,ke=1024){const gt=[];let kt=Je.slice();for(const qt of Je){const ln=gt.find(Zn=>Zn.agent===qt.agent);if(ln){if(ln.dates.push(qt.date),kr(gt)>ke){ln.dates.pop();break}}else if(gt.push({agent:qt.agent,dates:[qt.date]}),kr(gt)>ke){gt.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:gt,unsentEntries:kt}}(ke._heartbeatsCache.heartbeats),ln=(0,ne.L)(JSON.stringify({version:2,heartbeats:kt}));return ke._heartbeatsCache.lastSentHeartbeatDate=gt,qt.length>0?(ke._heartbeatsCache.heartbeats=qt,yield ke._storage.overwrite(ke._heartbeatsCache)):(ke._heartbeatsCache.heartbeats=[],ke._storage.overwrite(ke._heartbeatsCache)),ln})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class nn{constructor(ke){this.app=ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ke=this;return(0,E.Z)(function*(){return(yield ke._canUseIndexedDBPromise)&&(yield function wt(Je){return bt.apply(this,arguments)}(ke.app))||{heartbeats:[]}})()}overwrite(ke){var gt=this;return(0,E.Z)(function*(){var kt;if(yield gt._canUseIndexedDBPromise){const ln=yield gt.read();return tn(gt.app,{lastSentHeartbeatDate:null!==(kt=ke.lastSentHeartbeatDate)&&void 0!==kt?kt:ln.lastSentHeartbeatDate,heartbeats:ke.heartbeats})}})()}add(ke){var gt=this;return(0,E.Z)(function*(){var kt;if(yield gt._canUseIndexedDBPromise){const ln=yield gt.read();return tn(gt.app,{lastSentHeartbeatDate:null!==(kt=ke.lastSentHeartbeatDate)&&void 0!==kt?kt:ln.lastSentHeartbeatDate,heartbeats:[...ln.heartbeats,...ke.heartbeats]})}})()}}function kr(Je){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function hr(Je){Tt(new h.wA("platform-logger",ke=>new fe(ke),"PRIVATE")),Tt(new h.wA("heartbeat",ke=>new Pr(ke),"PRIVATE")),be(ve,"0.9.5",Je),be(ve,"0.9.5","esm2017"),be("fire-js","")}("")},4859:(Dt,Te,L)=>{"use strict";L.d(Te,{H0:()=>ve,wA:()=>V});var E=L(5861),h=L(2090);class V{constructor(G,q,Z){this.name=G,this.instanceFactory=q,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ne="[DEFAULT]";class ae{constructor(G,q){this.name=G,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const q=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(q)){const Z=new h.BH;if(this.instancesDeferred.set(q,Z),this.isInitialized(q)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:q});Le&&Z.resolve(Le)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(G){var q;const Z=this.normalizeInstanceIdentifier(G?.identifier),Le=null!==(q=G?.optional)&&void 0!==q&&q;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(ue){if(Le)return null;throw ue}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ge(_e){return"EAGER"===_e.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[q,Z]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(q);try{const ue=this.getOrInitializeService({instanceIdentifier:Le});Z.resolve(ue)}catch{}}}}clearInstance(G=ne){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,E.Z)(function*(){const q=Array.from(G.instances.values());yield Promise.all([...q.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...q.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ne){return this.instances.has(G)}getOptions(G=ne){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:q={}}=G,Z=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Z,options:q});for(const[ue,Se]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(ue)&&Se.resolve(Le);return Le}onInit(G,q){var Z;const Le=this.normalizeInstanceIdentifier(q),ue=null!==(Z=this.onInitCallbacks.get(Le))&&void 0!==Z?Z:new Set;ue.add(G),this.onInitCallbacks.set(Le,ue);const Se=this.instances.get(Le);return Se&&G(Se,Le),()=>{ue.delete(G)}}invokeOnInitCallbacks(G,q){const Z=this.onInitCallbacks.get(q);if(Z)for(const Le of Z)try{Le(G,q)}catch{}}getOrInitializeService({instanceIdentifier:G,options:q={}}){let Z=this.instances.get(G);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=G,_e===ne?void 0:_e),options:q}),this.instances.set(G,Z),this.instancesOptions.set(G,q),this.invokeOnInitCallbacks(Z,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Z)}catch{}var _e;return Z||null}normalizeInstanceIdentifier(G=ne){return this.component?this.component.multipleInstances?G:ne:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const q=this.getProvider(G.name);if(q.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);q.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const q=new ae(G,this);return this.providers.set(G,q),q}getProviders(){return Array.from(this.providers.values())}}},2833:(Dt,Te,L)=>{"use strict";var E=L(5861),h=L(9681),V=L(4859),ne=L(2090),ae=L(8766);const fe="@firebase/installations",ge="0.6.4",ve=1e4,_e=`w:${ge}`,G="FIS_v2",q="https://firebaseinstallations.googleapis.com/v1",Z=36e5,We=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(re){return re instanceof ne.ZR&&re.code.includes("request-failed")}function we({projectId:re}){return`${q}/projects/${re}/installations`}function Ae(re){return{token:re.token,requestStatus:2,expiresIn:pe(re.expiresIn),creationTime:Date.now()}}function Re(re,Oe){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,E.Z)(function*(re,Oe){const ct=(yield Oe.json()).error;return We.create("request-failed",{requestName:re,serverCode:ct.code,serverMessage:ct.message,serverStatus:ct.status})})).apply(this,arguments)}function je({apiKey:re}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":re})}function rt(re){return Y.apply(this,arguments)}function Y(){return(Y=(0,E.Z)(function*(re){const Oe=yield re();return Oe.status>=500&&Oe.status<600?re():Oe})).apply(this,arguments)}function pe(re){return Number(re.replace("s","000"))}function Xe(){return(Xe=(0,E.Z)(function*({appConfig:re,heartbeatServiceProvider:Oe},{fid:et}){const ct=we(re),cn=je(re),rn=Oe.getImmediate({optional:!0});if(rn){const ft=yield rn.getHeartbeatsHeader();ft&&cn.append("x-firebase-client",ft)}const Fn={method:"POST",headers:cn,body:JSON.stringify({fid:et,authVersion:G,appId:re.appId,sdkVersion:_e})},Ar=yield rt(()=>fetch(ct,Fn));if(Ar.ok){const ft=yield Ar.json();return{fid:ft.fid||et,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Ae(ft.authToken)}}throw yield Re("Create Installation",Ar)})).apply(this,arguments)}function Ft(re){return new Promise(Oe=>{setTimeout(Oe,re)})}const oe=/^[cdef][\w-]{21}$/,De="";function xe(){try{const re=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(re),re[0]=112+re[0]%16;const et=function Be(re){return function lt(re){return btoa(String.fromCharCode(...re)).replace(/\+/g,"-").replace(/\//g,"_")}(re).substr(0,22)}(re);return oe.test(et)?et:De}catch{return De}}function Ze(re){return`${re.appName}!${re.appId}`}const Ke=new Map;function ht(re,Oe){const et=Ze(re);Nt(et,Oe),function Tt(re,Oe){const et=function Bt(){return!ot&&"BroadcastChannel"in self&&(ot=new BroadcastChannel("[Firebase] FID Change"),ot.onmessage=re=>{Nt(re.data.key,re.data.fid)}),ot}();et&&et.postMessage({key:re,fid:Oe}),function qn(){0===Ke.size&&ot&&(ot.close(),ot=null)}()}(et,Oe)}function Nt(re,Oe){const et=Ke.get(re);if(et)for(const ct of et)ct(Oe)}let ot=null;const Rn="firebase-installations-database",pn=1,On="firebase-installations-store";let er=null;function yr(){return er||(er=(0,ae.X3)(Rn,pn,{upgrade:(re,Oe)=>{0===Oe&&re.createObjectStore(On)}})),er}function Kn(re,Oe){return se.apply(this,arguments)}function se(){return(se=(0,E.Z)(function*(re,Oe){const et=Ze(re),cn=(yield yr()).transaction(On,"readwrite"),rn=cn.objectStore(On),Qn=yield rn.get(et);return yield rn.put(Oe,et),yield cn.done,(!Qn||Qn.fid!==Oe.fid)&&ht(re,Oe.fid),Oe})).apply(this,arguments)}function ee(re){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(re){const Oe=Ze(re),ct=(yield yr()).transaction(On,"readwrite");yield ct.objectStore(On).delete(Oe),yield ct.done})).apply(this,arguments)}function be(re,Oe){return me.apply(this,arguments)}function me(){return(me=(0,E.Z)(function*(re,Oe){const et=Ze(re),cn=(yield yr()).transaction(On,"readwrite"),rn=cn.objectStore(On),Qn=yield rn.get(et),Fn=Oe(Qn);return void 0===Fn?yield rn.delete(et):yield rn.put(Fn,et),yield cn.done,Fn&&(!Qn||Qn.fid!==Fn.fid)&&ht(re,Fn.fid),Fn})).apply(this,arguments)}function at(re){return mn.apply(this,arguments)}function mn(){return mn=(0,E.Z)(function*(re){let Oe;const et=yield be(re.appConfig,ct=>{const cn=function Lt(re){return zt(re||{fid:xe(),registrationStatus:0})}(ct),rn=function Ht(re,Oe){if(0===Oe.registrationStatus){if(!navigator.onLine)return{installationEntry:Oe,registrationPromise:Promise.reject(We.create("app-offline"))};const et={fid:Oe.fid,registrationStatus:1,registrationTime:Date.now()},ct=function Cn(re,Oe){return St.apply(this,arguments)}(re,et);return{installationEntry:et,registrationPromise:ct}}return 1===Oe.registrationStatus?{installationEntry:Oe,registrationPromise:wt(re)}:{installationEntry:Oe}}(re,cn);return Oe=rn.registrationPromise,rn.installationEntry});return et.fid===De?{installationEntry:yield Oe}:{installationEntry:et,registrationPromise:Oe}}),mn.apply(this,arguments)}function St(){return St=(0,E.Z)(function*(re,Oe){try{const et=yield function ut(re,Oe){return Xe.apply(this,arguments)}(re,Oe);return Kn(re.appConfig,et)}catch(et){throw he(et)&&409===et.customData.serverCode?yield ee(re.appConfig):yield Kn(re.appConfig,{fid:Oe.fid,registrationStatus:0}),et}}),St.apply(this,arguments)}function wt(re){return bt.apply(this,arguments)}function bt(){return(bt=(0,E.Z)(function*(re){let Oe=yield tn(re.appConfig);for(;1===Oe.registrationStatus;)yield Ft(100),Oe=yield tn(re.appConfig);if(0===Oe.registrationStatus){const{installationEntry:et,registrationPromise:ct}=yield at(re);return ct||et}return Oe})).apply(this,arguments)}function tn(re){return be(re,Oe=>{if(!Oe)throw We.create("installation-not-found");return zt(Oe)})}function zt(re){return function Gn(re){return 1===re.registrationStatus&&re.registrationTime+ve<Date.now()}(re)?{fid:re.fid,registrationStatus:0}:re}function Bn(){return(Bn=(0,E.Z)(function*({appConfig:re,heartbeatServiceProvider:Oe},et){const ct=function Pr(re,{fid:Oe}){return`${we(re)}/${Oe}/authTokens:generate`}(re,et),cn=function Ve(re,{refreshToken:Oe}){const et=je(re);return et.append("Authorization",function Ne(re){return`${G} ${re}`}(Oe)),et}(re,et),rn=Oe.getImmediate({optional:!0});if(rn){const ft=yield rn.getHeartbeatsHeader();ft&&cn.append("x-firebase-client",ft)}const Fn={method:"POST",headers:cn,body:JSON.stringify({installation:{sdkVersion:_e,appId:re.appId}})},Ar=yield rt(()=>fetch(ct,Fn));if(Ar.ok)return Ae(yield Ar.json());throw yield Re("Generate Auth Token",Ar)})).apply(this,arguments)}function Yt(re){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,E.Z)(function*(re,Oe=!1){let et;const ct=yield be(re.appConfig,rn=>{if(!gt(rn))throw We.create("not-registered");const Qn=rn.authToken;if(!Oe&&function kt(re){return 2===re.requestStatus&&!function qt(re){const Oe=Date.now();return Oe<re.creationTime||re.creationTime+re.expiresIn<Oe+Z}(re)}(Qn))return rn;if(1===Qn.requestStatus)return et=function nn(re,Oe){return kr.apply(this,arguments)}(re,Oe),rn;{if(!navigator.onLine)throw We.create("app-offline");const Fn=function ln(re){const Oe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},re),{authToken:Oe})}(rn);return et=function Je(re,Oe){return ke.apply(this,arguments)}(re,Fn),Fn}});return et?yield et:ct.authToken}),Ir.apply(this,arguments)}function kr(){return(kr=(0,E.Z)(function*(re,Oe){let et=yield hr(re.appConfig);for(;1===et.authToken.requestStatus;)yield Ft(100),et=yield hr(re.appConfig);const ct=et.authToken;return 0===ct.requestStatus?Yt(re,Oe):ct})).apply(this,arguments)}function hr(re){return be(re,Oe=>{if(!gt(Oe))throw We.create("not-registered");return function Zn(re){return 1===re.requestStatus&&re.requestTime+ve<Date.now()}(Oe.authToken)?Object.assign(Object.assign({},Oe),{authToken:{requestStatus:0}}):Oe})}function ke(){return ke=(0,E.Z)(function*(re,Oe){try{const et=yield function un(re,Oe){return Bn.apply(this,arguments)}(re,Oe),ct=Object.assign(Object.assign({},Oe),{authToken:et});return yield Kn(re.appConfig,ct),et}catch(et){if(!he(et)||401!==et.customData.serverCode&&404!==et.customData.serverCode){const ct=Object.assign(Object.assign({},Oe),{authToken:{requestStatus:0}});yield Kn(re.appConfig,ct)}else yield ee(re.appConfig);throw et}}),ke.apply(this,arguments)}function gt(re){return void 0!==re&&2===re.registrationStatus}function F(){return(F=(0,E.Z)(function*(re){const Oe=re,{installationEntry:et,registrationPromise:ct}=yield at(Oe);return ct?ct.catch(console.error):Yt(Oe).catch(console.error),et.fid})).apply(this,arguments)}function N(){return N=(0,E.Z)(function*(re,Oe=!1){const et=re;return yield function M(re){return W.apply(this,arguments)}(et),(yield Yt(et,Oe)).token}),N.apply(this,arguments)}function W(){return(W=(0,E.Z)(function*(re){const{registrationPromise:Oe}=yield at(re);Oe&&(yield Oe)})).apply(this,arguments)}function An(re){return We.create("missing-app-config-values",{valueName:re})}const vs="installations",Vi=re=>{const Oe=re.getProvider("app").getImmediate(),et=function jt(re){if(!re||!re.options)throw An("App Configuration");if(!re.name)throw An("App Name");const Oe=["projectId","apiKey","appId"];for(const et of Oe)if(!re.options[et])throw An(et);return{appName:re.name,projectId:re.options.projectId,apiKey:re.options.apiKey,appId:re.options.appId}}(Oe);return{app:Oe,appConfig:et,heartbeatServiceProvider:(0,h._getProvider)(Oe,"heartbeat"),_delete:()=>Promise.resolve()}},Is=re=>{const Oe=re.getProvider("app").getImmediate(),et=(0,h._getProvider)(Oe,vs).getImmediate();return{getId:()=>function K(re){return F.apply(this,arguments)}(et),getToken:cn=>function x(re){return N.apply(this,arguments)}(et,cn)}};(function ar(){(0,h._registerComponent)(new V.wA(vs,Vi,"PUBLIC")),(0,h._registerComponent)(new V.wA("installations-internal",Is,"PRIVATE"))})(),(0,h.registerVersion)(fe,ge),(0,h.registerVersion)(fe,ge,"esm2017")},1877:(Dt,Te,L)=>{"use strict";L.d(Te,{Am:()=>_e,Ub:()=>ve,Yd:()=>ge,in:()=>h});const E=[];var h=(()=>{return(G=h||(h={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",h;var G})();const V={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ne=h.INFO,ae={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},fe=(G,q,...Z)=>{if(q<G.logLevel)return;const Le=(new Date).toISOString(),ue=ae[q];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[ue](`[${Le}]  ${G.name}:`,...Z)};class ge{constructor(q){this.name=q,this._logLevel=ne,this._logHandler=fe,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in h))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?V[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...q),this._logHandler(this,h.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...q),this._logHandler(this,h.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,h.INFO,...q),this._logHandler(this,h.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,h.WARN,...q),this._logHandler(this,h.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...q),this._logHandler(this,h.ERROR,...q)}}function ve(G){E.forEach(q=>{q.setLogLevel(G)})}function _e(G,q){for(const Z of E){let Le=null;q&&q.level&&(Le=V[q.level]),Z.userLogHandler=null===G?null:(ue,Se,...We)=>{const he=We.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch{return null}}).filter(we=>we).join(" ");Se>=(Le??ue.logLevel)&&G({level:h[Se].toLowerCase(),message:he,args:We,type:ue.name})}}}},3008:(Dt,Te,L)=>{"use strict";L.d(Te,{IH:()=>Pr,Gb:()=>Ir});var E=L(5861),h=L(9681),V=L(1877),ne=L(2090),ae=L(4859);L(2833);const ge="analytics",ve="firebase_id",_e="origin",G=6e4,q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Z="https://www.googletagmanager.com/gtag/js",Le=new V.Yd("@firebase/analytics");function ue(F){return Promise.all(F.map(x=>x.catch(N=>N)))}function we(){return(we=(0,E.Z)(function*(F,x,N,M,W,X){const Ge=M[W];try{if(Ge)yield x[Ge];else{const pt=(yield ue(N)).find(Pt=>Pt.measurementId===W);pt&&(yield x[pt.appId])}}catch(dt){Le.error(dt)}F("config",W,X)})).apply(this,arguments)}function Re(){return(Re=(0,E.Z)(function*(F,x,N,M,W){try{let X=[];if(W&&W.send_to){let Ge=W.send_to;Array.isArray(Ge)||(Ge=[Ge]);const dt=yield ue(N);for(const pt of Ge){const Pt=dt.find(vt=>vt.measurementId===pt),Mt=Pt&&x[Pt.appId];if(!Mt){X=[];break}X.push(Mt)}}0===X.length&&(X=Object.values(x)),yield Promise.all(X),F("event",M,W||{})}catch(X){Le.error(X)}})).apply(this,arguments)}const Y=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pe=30,Xe=new class ut{constructor(x={},N=1e3){this.throttleMetadata=x,this.intervalMillis=N}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,N){this.throttleMetadata[x]=N}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Ft(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function oe(){return(oe=(0,E.Z)(function*(F){var x;const{appId:N,apiKey:M}=F,W={method:"GET",headers:Ft(M)},X=q.replace("{app-id}",N),Ge=yield fetch(X,W);if(200!==Ge.status&&304!==Ge.status){let dt="";try{const pt=yield Ge.json();null!==(x=pt.error)&&void 0!==x&&x.message&&(dt=pt.error.message)}catch{}throw Y.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:dt})}return Ge.json()})).apply(this,arguments)}function xe(){return(xe=(0,E.Z)(function*(F,x=Xe,N){const{appId:M,apiKey:W,measurementId:X}=F.options;if(!M)throw Y.create("no-app-id");if(!W){if(X)return{measurementId:X,appId:M};throw Y.create("no-api-key")}const Ge=x.getThrottleMetadata(M)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new mt;return setTimeout((0,E.Z)(function*(){dt.abort()}),void 0!==N?N:G),Be({appId:M,apiKey:W,measurementId:X},Ge,dt,x)})).apply(this,arguments)}function Be(F,x,N){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,E.Z)(function*(F,{throttleEndTimeMillis:x,backoffCount:N},M,W=Xe){var X;const{appId:Ge,measurementId:dt}=F;try{yield function Ke(F,x){return new Promise((N,M)=>{const W=Math.max(x-Date.now(),0),X=setTimeout(N,W);F.addEventListener(()=>{clearTimeout(X),M(Y.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(M,x)}catch(pt){if(dt)return Le.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:Ge,measurementId:dt};throw pt}try{const pt=yield function lt(F){return oe.apply(this,arguments)}(F);return W.deleteThrottleMetadata(Ge),pt}catch(pt){const Pt=pt;if(!function ht(F){if(!(F instanceof ne.ZR&&F.customData))return!1;const x=Number(F.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Pt)){if(W.deleteThrottleMetadata(Ge),dt)return Le.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:Ge,measurementId:dt};throw pt}const Mt=503===Number(null===(X=Pt?.customData)||void 0===X?void 0:X.httpStatus)?(0,ne.$s)(N,W.intervalMillis,pe):(0,ne.$s)(N,W.intervalMillis),vt={throttleEndTimeMillis:Date.now()+Mt,backoffCount:N+1};return W.setThrottleMetadata(Ge,vt),Le.debug(`Calling attemptFetch again in ${Mt} millis`),Be(F,vt,M,W)}}),Ze.apply(this,arguments)}class mt{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let _n,Kn;function Tt(){return(Tt=(0,E.Z)(function*(F,x,N,M,W){if(W&&W.global)F("event",N,M);else{const X=yield x;F("event",N,Object.assign(Object.assign({},M),{send_to:X}))}})).apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(){if(!(0,ne.hl)())return Le.warn(Y.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(F){return Le.warn(Y.create("indexeddb-unavailable",{errorInfo:F?.toString()}).message),!1}return!0})).apply(this,arguments)}function at(){return at=(0,E.Z)(function*(F,x,N,M,W,X,Ge){var dt;const pt=function De(F){return xe.apply(this,arguments)}(F);pt.then(An=>{N[An.measurementId]=An.appId,F.options.measurementId&&An.measurementId!==F.options.measurementId&&Le.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${An.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(An=>Le.error(An)),x.push(pt);const Pt=function ce(){return be.apply(this,arguments)}().then(An=>{if(An)return M.getId()}),[Mt,vt]=yield Promise.all([pt,Pt]);(function Ve(F){const x=window.document.getElementsByTagName("script");for(const N of Object.values(x))if(N.src&&N.src.includes(Z)&&N.src.includes(F))return N;return null})(X)||function Se(F,x){const N=document.createElement("script");N.src=`${Z}?l=${F}&id=${x}`,N.async=!0,document.head.appendChild(N)}(X,Mt.measurementId),Kn&&(W("consent","default",Kn),function se(F){Kn=F}(void 0)),W("js",new Date);const jt=null!==(dt=Ge?.config)&&void 0!==dt?dt:{};return jt[_e]="firebase",jt.update=!0,null!=vt&&(jt[ve]=vt),W("config",Mt.measurementId,jt),_n&&(W("set",_n),function ee(F){_n=F}(void 0)),Mt.measurementId}),at.apply(this,arguments)}class mn{constructor(x){this.app=x}_delete(){return delete Lt[this.app.options.appId],Promise.resolve()}}let Lt={},Ht=[];const Cn={};let bt,tn,St="dataLayer",wt="gtag",zt=!1;function Bn(F,x,N){!function un(){const F=[];if((0,ne.ru)()&&F.push("This is a browser extension environment."),(0,ne.zI)()||F.push("Cookies are not available."),F.length>0){const x=F.map((M,W)=>`(${W+1}) ${M}`).join(" "),N=Y.create("invalid-analytics-context",{errorInfo:x});Le.warn(N.message)}}();const M=F.options.appId;if(!M)throw Y.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Y.create("no-api-key");Le.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lt[M])throw Y.create("already-exists",{id:M});if(!zt){!function We(F){let x=[];Array.isArray(window[F])?x=window[F]:window[F]=x}(St);const{wrappedGtag:X,gtagCore:Ge}=function je(F,x,N,M,W){let X=function(...Ge){window[M].push(arguments)};return window[W]&&"function"==typeof window[W]&&(X=window[W]),window[W]=function Fe(F,x,N,M){function X(){return X=(0,E.Z)(function*(Ge,dt,pt){try{"event"===Ge?yield function Ae(F,x,N,M,W){return Re.apply(this,arguments)}(F,x,N,dt,pt):"config"===Ge?yield function he(F,x,N,M,W,X){return we.apply(this,arguments)}(F,x,N,M,dt,pt):"consent"===Ge?F("consent","update",pt):F("set",dt)}catch(Pt){Le.error(Pt)}}),X.apply(this,arguments)}return function W(Ge,dt,pt){return X.apply(this,arguments)}}(X,F,x,N),{gtagCore:X,wrappedGtag:window[W]}}(Lt,Ht,Cn,St,wt);tn=X,bt=Ge,zt=!0}return Lt[M]=function me(F,x,N,M,W,X,Ge){return at.apply(this,arguments)}(F,Ht,Cn,x,bt,St,N),new mn(F)}function Pr(F=(0,h.getApp)()){F=(0,ne.m9)(F);const x=(0,h._getProvider)(F,ge);return x.isInitialized()?x.getImmediate():function Yt(F,x={}){const N=(0,h._getProvider)(F,ge);if(N.isInitialized()){const W=N.getImmediate();if((0,ne.vZ)(x,N.getOptions()))return W;throw Y.create("already-initialized")}return N.initialize({options:x})}(F)}function Ir(){return nn.apply(this,arguments)}function nn(){return(nn=(0,E.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const ln="@firebase/analytics";!function K(){(0,h._registerComponent)(new ae.wA(ge,(x,{options:N})=>Bn(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,h._registerComponent)(new ae.wA("analytics-internal",function F(x){try{const N=x.getProvider(ge).getImmediate();return{logEvent:(M,W,X)=>function kt(F,x,N,M){F=(0,ne.m9)(F),function Nt(F,x,N,M,W){return Tt.apply(this,arguments)}(tn,Lt[F.app.options.appId],x,N,M).catch(W=>Le.error(W))}(N,M,W,X)}}catch(N){throw Y.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,h.registerVersion)(ln,"0.9.4"),(0,h.registerVersion)(ln,"0.9.4","esm2017")}()},259:(Dt,Te,L)=>{"use strict";L.d(Te,{C6:()=>E.getApps,KN:()=>E.registerVersion,Mq:()=>E.getApp,ZF:()=>E.initializeApp});var E=L(9681);(0,E.registerVersion)("firebase","9.18.0","app")},9260:(Dt,Te,L)=>{"use strict";L.d(Te,{Z:()=>E.Z});var E=L(3942);E.Z.registerVersion("firebase","9.18.0","app-compat")},9568:(Dt,Te,L)=>{"use strict";L.r(Te);var E=L(5861),h=L(3942),V=L(5114),ne=L(2090),ge=(L(9681),L(1877),L(4859));function ve(){return window}const _e=2e3;function q(){return q=(0,E.Z)(function*(x,N,M){var W;const{BuildInfo:X}=ve();(0,V.ap)(N.sessionId,"AuthEvent did not contain a session ID");const Ge=yield function we(x){return Ae.apply(this,arguments)}(N.sessionId),dt={};return(0,V.aq)()?dt.ibi=X.packageName:(0,V.ar)()?dt.apn=X.packageName:(0,V.as)(x,"operation-not-supported-in-this-environment"),X.displayName&&(dt.appDisplayName=X.displayName),dt.sessionId=Ge,(0,V.at)(x,M,N.type,void 0,null!==(W=N.eventId)&&void 0!==W?W:void 0,dt)}),q.apply(this,arguments)}function Le(){return(Le=(0,E.Z)(function*(x){const{BuildInfo:N}=ve(),M={};(0,V.aq)()?M.iosBundleId=N.packageName:(0,V.ar)()?M.androidPackageName=N.packageName:(0,V.as)(x,"operation-not-supported-in-this-environment"),yield(0,V.au)(x,M)})).apply(this,arguments)}function We(){return(We=(0,E.Z)(function*(x,N,M){const{cordova:W}=ve();let X=()=>{};try{yield new Promise((Ge,dt)=>{let pt=null;function Pt(){var jt;Ge();const An=null===(jt=W.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof An&&An(),"function"==typeof M?.close&&M.close()}function Mt(){pt||(pt=window.setTimeout(()=>{dt((0,V.aw)(x,"redirect-cancelled-by-user"))},_e))}function vt(){"visible"===document?.visibilityState&&Mt()}N.addPassiveListener(Pt),document.addEventListener("resume",Mt,!1),(0,V.ar)()&&document.addEventListener("visibilitychange",vt,!1),X=()=>{N.removePassiveListener(Pt),document.removeEventListener("resume",Mt,!1),document.removeEventListener("visibilitychange",vt,!1),pt&&window.clearTimeout(pt)}})}finally{X()}})).apply(this,arguments)}function Ae(){return(Ae=(0,E.Z)(function*(x){const N=function Re(x){if((0,V.ap)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const N=new ArrayBuffer(x.length),M=new Uint8Array(N);for(let W=0;W<x.length;W++)M[W]=x.charCodeAt(W);return M}(x),M=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(M)).map(X=>X.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Fe=20;class je extends V.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(M=>M(N)),super.onEvent(N)}initialized(){var N=this;return(0,E.Z)(function*(){yield N.initPromise})()}}function Y(x){return pe.apply(this,arguments)}function pe(){return(pe=(0,E.Z)(function*(x){const N=yield Xe()._get(Ft(x));return N&&(yield Xe()._remove(Ft(x))),N})).apply(this,arguments)}function ut(){const x=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<Fe;M++){const W=Math.floor(Math.random()*N.length);x.push(N.charAt(W))}return x.join("")}function Xe(){return(0,V.az)(V.b)}function Ft(x){return(0,V.aA)("authEvent",x.config.apiKey,x.name)}function De(x){if(!x?.includes("?"))return{};const[N,...M]=x.split("?");return(0,ne.zd)(M.join("?"))}const Ze=class Be{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(N){var M=this;return(0,E.Z)(function*(){const W=N._key();let X=M.eventManagers.get(W);return X||(X=new je(N),M.eventManagers.set(W,X),M.attachCallbackListeners(N,X)),X})()}_openPopup(N){(0,V.as)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,M,W,X){var Ge=this;return(0,E.Z)(function*(){!function he(x){var N,M,W,X,Ge,dt,pt,Pt,Mt,vt;const jt=ve();(0,V.ax)("function"==typeof(null===(N=jt?.universalLinks)||void 0===N?void 0:N.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.ax)(typeof(null===(M=jt?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.ax)("function"==typeof(null===(Ge=null===(X=null===(W=jt?.cordova)||void 0===W?void 0:W.plugins)||void 0===X?void 0:X.browsertab)||void 0===Ge?void 0:Ge.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(Pt=null===(pt=null===(dt=jt?.cordova)||void 0===dt?void 0:dt.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===Pt?void 0:Pt.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(vt=null===(Mt=jt?.cordova)||void 0===Mt?void 0:Mt.InAppBrowser)||void 0===vt?void 0:vt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const dt=yield Ge._initialize(N);yield dt.initialized(),dt.resetRedirect(),(0,V.aD)(),yield Ge._originValidation(N);const pt=function Ve(x,N,M=null){return{type:N,eventId:M,urlResponse:null,sessionId:ut(),postBody:null,tenantId:x.tenantId,error:(0,V.aw)(x,"no-auth-event")}}(N,W,X);yield function rt(x,N){return Xe()._set(Ft(x),N)}(N,pt);const Pt=yield function G(x,N,M){return q.apply(this,arguments)}(N,pt,M),Mt=yield function ue(x){const{cordova:N}=ve();return new Promise(M=>{N.plugins.browsertab.isAvailable(W=>{let X=null;W?N.plugins.browsertab.openUrl(x):X=N.InAppBrowser.open(x,(0,V.av)()?"_blank":"_system","location=yes"),M(X)})})}(Pt);return function Se(x,N,M){return We.apply(this,arguments)}(N,dt,Mt)})()}_isIframeWebStorageSupported(N,M){throw new Error("Method not implemented.")}_originValidation(N){const M=N._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function Z(x){return Le.apply(this,arguments)}(N)),this.originValidationPromises[M]}attachCallbackListeners(N,M){const{universalLinks:W,handleOpenURL:X,BuildInfo:Ge}=ve(),dt=setTimeout((0,E.Z)(function*(){yield Y(N),M.onEvent(Ke())}),500),pt=function(){var vt=(0,E.Z)(function*(jt){clearTimeout(dt);const An=yield Y(N);let vs=null;An&&jt?.url&&(vs=function Ne(x,N){var M,W;const X=function oe(x){const N=De(x),M=N.link?decodeURIComponent(N.link):void 0,W=De(M).link,X=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return De(X).link||X||W||M||x}(N);if(X.includes("/__/auth/callback")){const Ge=De(X),dt=Ge.firebaseError?function lt(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ge.firebaseError)):null,pt=null===(W=null===(M=dt?.code)||void 0===M?void 0:M.split("auth/"))||void 0===W?void 0:W[1],Pt=pt?(0,V.aw)(pt):null;return Pt?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Pt,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:X,postBody:null}}return null}(An,jt.url)),M.onEvent(vs||Ke())});return function(An){return vt.apply(this,arguments)}}();typeof W<"u"&&"function"==typeof W.subscribe&&W.subscribe(null,pt);const Pt=X,Mt=`${Ge.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var vt=(0,E.Z)(function*(jt){if(jt.toLowerCase().startsWith(Mt)&&pt({url:jt}),"function"==typeof Pt)try{Pt(jt)}catch(An){console.error(An)}});return function(jt){return vt.apply(this,arguments)}}()}};function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aw)("no-auth-event")}}const Nt=1e3;function Tt(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Bt(x=(0,ne.z$)()){return!("file:"!==Tt()&&"ionic:"!==Tt()&&"capacitor:"!==Tt()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function er(){try{const x=self.localStorage,N=V.aI();if(x)return x.setItem(N,"1"),x.removeItem(N),!function On(x=(0,ne.z$)()){return function Rn(){return(0,ne.w1)()&&11===document?.documentMode}()||function pn(x=(0,ne.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,ne.hl)()}catch{return yr()&&(0,ne.hl)()}return!1}function yr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function ot(){return"http:"===Tt()||"https:"===Tt()}()||(0,ne.ru)()||Bt())&&!function qn(){return(0,ne.b$)()||(0,ne.UG)()}()&&er()&&!yr()}function se(){return Bt()&&typeof document<"u"}function ce(){return(ce=(0,E.Z)(function*(){return!!se()&&new Promise(x=>{const N=setTimeout(()=>{x(!1)},Nt);document.addEventListener("deviceready",()=>{clearTimeout(N),x(!0)})})})).apply(this,arguments)}const me={LOCAL:"local",NONE:"none",SESSION:"session"},at=V.ax,mn="persistence";function Ht(x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,E.Z)(function*(x){yield x._initializationPromise;const N=wt(),M=V.aA(mn,x.config.apiKey,x.name);N&&N.setItem(M,x._getPersistence())})).apply(this,arguments)}function wt(){var x;try{return(null===(x=function be(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const bt=V.ax;class tn{constructor(){this.browserResolver=V.az(V.k),this.cordovaResolver=V.az(Ze),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(N){var M=this;return(0,E.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,M,W,X){var Ge=this;return(0,E.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openPopup(N,M,W,X)})()}_openRedirect(N,M,W,X){var Ge=this;return(0,E.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openRedirect(N,M,W,X)})()}_isIframeWebStorageSupported(N,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,M)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return se()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,E.Z)(function*(){if(N.underlyingResolver)return;const M=yield function ee(){return ce.apply(this,arguments)}();N.underlyingResolver=M?N.cordovaResolver:N.browserResolver})()}}function zt(x){return x.unwrap()}function un(x){return Pr(x)}function Pr(x){const{_tokenResponse:N}=x instanceof ne.ZR?x.customData:x;if(!N)return null;if(!(x instanceof ne.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return V.P.credentialFromResult(x);const M=N.providerId;if(!M||M===V.o.PASSWORD)return null;let W;switch(M){case V.o.GOOGLE:W=V.Q;break;case V.o.FACEBOOK:W=V.N;break;case V.o.GITHUB:W=V.T;break;case V.o.TWITTER:W=V.W;break;default:const{oauthIdToken:X,oauthAccessToken:Ge,oauthTokenSecret:dt,pendingToken:pt,nonce:Pt}=N;return Ge||dt||X||pt?pt?M.startsWith("saml.")?V.aL._create(M,pt):V.J._fromParams({providerId:M,signInMethod:M,pendingToken:pt,idToken:X,accessToken:Ge}):new V.U(M).credential({idToken:X,accessToken:Ge,rawNonce:Pt}):null}return x instanceof ne.ZR?W.credentialFromError(x):W.credentialFromResult(x)}function Yt(x,N){return N.catch(M=>{throw M instanceof ne.ZR&&function Bn(x,N){var M;const W=null===(M=N.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new kr(x,V.an(x,N));else if(W){const X=Pr(N),Ge=N;X&&(Ge.credential=X,Ge.tenantId=W.tenantId||void 0,Ge.email=W.email||void 0,Ge.phoneNumber=W.phoneNumber||void 0)}}(x,M),M}).then(M=>{const X=M.user;return{operationType:M.operationType,credential:un(M),additionalUserInfo:V.al(M),user:hr.getOrCreate(X)}})}function Ir(x,N){return nn.apply(this,arguments)}function nn(){return(nn=(0,E.Z)(function*(x,N){const M=yield N;return{verificationId:M.verificationId,confirm:W=>Yt(x,M.confirm(W))}})).apply(this,arguments)}class kr{constructor(N,M){this.resolver=M,this.auth=function Gn(x){return x.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Yt(zt(this.auth),this.resolver.resolveSignIn(N))}}class hr{constructor(N){this._delegate=N,this.multiFactor=V.ao(N)}static getOrCreate(N){return hr.USER_MAP.has(N)||hr.USER_MAP.set(N,new hr(N)),hr.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var M=this;return(0,E.Z)(function*(){return Yt(M.auth,V.Z(M._delegate,N))})()}linkWithPhoneNumber(N,M){var W=this;return(0,E.Z)(function*(){return Ir(W.auth,V.l(W._delegate,N,M))})()}linkWithPopup(N){var M=this;return(0,E.Z)(function*(){return Yt(M.auth,V.d(M._delegate,N,tn))})()}linkWithRedirect(N){var M=this;return(0,E.Z)(function*(){return yield Ht(V.aE(M.auth)),V.g(M._delegate,N,tn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var M=this;return(0,E.Z)(function*(){return Yt(M.auth,V._(M._delegate,N))})()}reauthenticateWithPhoneNumber(N,M){return Ir(this.auth,V.r(this._delegate,N,M))}reauthenticateWithPopup(N){return Yt(this.auth,V.e(this._delegate,N,tn))}reauthenticateWithRedirect(N){var M=this;return(0,E.Z)(function*(){return yield Ht(V.aE(M.auth)),V.h(M._delegate,N,tn)})()}sendEmailVerification(N){return V.ab(this._delegate,N)}unlink(N){var M=this;return(0,E.Z)(function*(){return yield V.ak(M._delegate,N),M})()}updateEmail(N){return V.ag(this._delegate,N)}updatePassword(N){return V.ah(this._delegate,N)}updatePhoneNumber(N){return V.u(this._delegate,N)}updateProfile(N){return V.af(this._delegate,N)}verifyBeforeUpdateEmail(N,M){return V.ac(this._delegate,N,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}hr.USER_MAP=new WeakMap;const Je=V.ax;let ke=(()=>{class x{constructor(M,W){if(this.app=M,W.isInitialized())return this._delegate=W.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:X}=M.options;Je(X,"invalid-api-key",{appName:M.name}),Je(X,"invalid-api-key",{appName:M.name});const Ge=typeof window<"u"?tn:void 0;this._delegate=W.initialize({options:{persistence:kt(X,M.name),popupRedirectResolver:Ge}}),this._delegate._updateErrorMap(V.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?hr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,W){V.G(this._delegate,M,W)}applyActionCode(M){return V.a2(this._delegate,M)}checkActionCode(M){return V.a3(this._delegate,M)}confirmPasswordReset(M,W){return V.a1(this._delegate,M,W)}createUserWithEmailAndPassword(M,W){var X=this;return(0,E.Z)(function*(){return Yt(X._delegate,V.a5(X._delegate,M,W))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return V.aa(this._delegate,M)}isSignInWithEmailLink(M){return V.a8(this._delegate,M)}getRedirectResult(){var M=this;return(0,E.Z)(function*(){Je(Kn(),M._delegate,"operation-not-supported-in-this-environment");const W=yield V.j(M._delegate,tn);return W?Yt(M._delegate,Promise.resolve(W)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function ht(x,N){(0,V.aE)(x)._logFramework(N)}(this._delegate,M)}onAuthStateChanged(M,W,X){const{next:Ge,error:dt,complete:pt}=gt(M,W,X);return this._delegate.onAuthStateChanged(Ge,dt,pt)}onIdTokenChanged(M,W,X){const{next:Ge,error:dt,complete:pt}=gt(M,W,X);return this._delegate.onIdTokenChanged(Ge,dt,pt)}sendSignInLinkToEmail(M,W){return V.a7(this._delegate,M,W)}sendPasswordResetEmail(M,W){return V.a0(this._delegate,M,W||void 0)}setPersistence(M){var W=this;return(0,E.Z)(function*(){let X;switch(function Lt(x,N){at(Object.values(me).includes(N),x,"invalid-persistence-type"),(0,ne.b$)()?at(N!==me.SESSION,x,"unsupported-persistence-type"):(0,ne.UG)()?at(N===me.NONE,x,"unsupported-persistence-type"):yr()?at(N===me.NONE||N===me.LOCAL&&(0,ne.hl)(),x,"unsupported-persistence-type"):at(N===me.NONE||er(),x,"unsupported-persistence-type")}(W._delegate,M),M){case me.SESSION:X=V.a;break;case me.LOCAL:X=(yield V.az(V.i)._isAvailable())?V.i:V.b;break;case me.NONE:X=V.L;break;default:return V.as("argument-error",{appName:W._delegate.name})}return W._delegate.setPersistence(X)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return Yt(this._delegate,V.X(this._delegate))}signInWithCredential(M){return Yt(this._delegate,V.Y(this._delegate,M))}signInWithCustomToken(M){return Yt(this._delegate,V.$(this._delegate,M))}signInWithEmailAndPassword(M,W){return Yt(this._delegate,V.a6(this._delegate,M,W))}signInWithEmailLink(M,W){return Yt(this._delegate,V.a9(this._delegate,M,W))}signInWithPhoneNumber(M,W){return Ir(this._delegate,V.s(this._delegate,M,W))}signInWithPopup(M){var W=this;return(0,E.Z)(function*(){return Je(Kn(),W._delegate,"operation-not-supported-in-this-environment"),Yt(W._delegate,V.c(W._delegate,M,tn))})()}signInWithRedirect(M){var W=this;return(0,E.Z)(function*(){return Je(Kn(),W._delegate,"operation-not-supported-in-this-environment"),yield Ht(W._delegate),V.f(W._delegate,M,tn)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return V.a4(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=me,x})();function gt(x,N,M){let W=x;"function"!=typeof x&&({next:W,error:N,complete:M}=x);const X=W;return{next:dt=>X(dt&&hr.getOrCreate(dt)),error:N,complete:M}}function kt(x,N){const M=function St(x,N){const M=wt();if(!M)return[];const W=V.aA(mn,x,N);switch(M.getItem(W)){case me.NONE:return[V.L];case me.LOCAL:return[V.i,V.a];case me.SESSION:return[V.a];default:return[]}}(x,N);if(typeof self<"u"&&!M.includes(V.i)&&M.push(V.i),typeof window<"u")for(const W of[V.b,V.a])M.includes(W)||M.push(W);return M.includes(V.L)||M.push(V.L),M}class qt{constructor(){this.providerId="phone",this._delegate=new V.P(zt(h.Z.auth()))}static credential(N,M){return V.P.credential(N,M)}verifyPhoneNumber(N,M){return this._delegate.verifyPhoneNumber(N,M)}unwrap(){return this._delegate}}qt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,qt.PROVIDER_ID=V.P.PROVIDER_ID;const ln=V.ax;class Zn{constructor(N,M,W=h.Z.app()){var X;ln(null===(X=W.options)||void 0===X?void 0:X.apiKey,"invalid-api-key",{appName:W.name}),this._delegate=new V.R(N,M,W.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function F(x){x.INTERNAL.registerComponent(new ge.wA("auth-compat",N=>{const M=N.getProvider("app-compat").getImmediate(),W=N.getProvider("auth");return new ke(M,W)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.M,FacebookAuthProvider:V.N,GithubAuthProvider:V.T,GoogleAuthProvider:V.Q,OAuthProvider:V.U,SAMLAuthProvider:V.V,PhoneAuthProvider:qt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:Zn,TwitterAuthProvider:V.W,Auth:ke,AuthCredential:V.H,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.3.5")}(h.Z)},8766:(Dt,Te,L)=>{"use strict";L.d(Te,{Lj:()=>Fe,X3:()=>Re});var E=L(5861);const h=(pe,Ne)=>Ne.some(ut=>pe instanceof ut);let V,ne;const ge=new WeakMap,ve=new WeakMap,_e=new WeakMap,G=new WeakMap,q=new WeakMap;let ue={get(pe,Ne,ut){if(pe instanceof IDBTransaction){if("done"===Ne)return ve.get(pe);if("objectStoreNames"===Ne)return pe.objectStoreNames||_e.get(pe);if("store"===Ne)return ut.objectStoreNames[1]?void 0:ut.objectStore(ut.objectStoreNames[0])}return we(pe[Ne])},set:(pe,Ne,ut)=>(pe[Ne]=ut,!0),has:(pe,Ne)=>pe instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in pe};function he(pe){return"function"==typeof pe?function We(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...Ne){return pe.apply(Ae(this),Ne),we(ge.get(this))}:function(...Ne){return we(pe.apply(Ae(this),Ne))}:function(Ne,...ut){const Xe=pe.call(Ae(this),Ne,...ut);return _e.set(Xe,Ne.sort?Ne.sort():[Ne]),we(Xe)}}(pe):(pe instanceof IDBTransaction&&function Le(pe){if(ve.has(pe))return;const Ne=new Promise((ut,Xe)=>{const Ft=()=>{pe.removeEventListener("complete",lt),pe.removeEventListener("error",oe),pe.removeEventListener("abort",oe)},lt=()=>{ut(),Ft()},oe=()=>{Xe(pe.error||new DOMException("AbortError","AbortError")),Ft()};pe.addEventListener("complete",lt),pe.addEventListener("error",oe),pe.addEventListener("abort",oe)});ve.set(pe,Ne)}(pe),h(pe,function ae(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,ue):pe)}function we(pe){if(pe instanceof IDBRequest)return function Z(pe){const Ne=new Promise((ut,Xe)=>{const Ft=()=>{pe.removeEventListener("success",lt),pe.removeEventListener("error",oe)},lt=()=>{ut(we(pe.result)),Ft()},oe=()=>{Xe(pe.error),Ft()};pe.addEventListener("success",lt),pe.addEventListener("error",oe)});return Ne.then(ut=>{ut instanceof IDBCursor&&ge.set(ut,pe)}).catch(()=>{}),q.set(Ne,pe),Ne}(pe);if(G.has(pe))return G.get(pe);const Ne=he(pe);return Ne!==pe&&(G.set(pe,Ne),q.set(Ne,pe)),Ne}const Ae=pe=>q.get(pe);function Re(pe,Ne,{blocked:ut,upgrade:Xe,blocking:Ft,terminated:lt}={}){const oe=indexedDB.open(pe,Ne),De=we(oe);return Xe&&oe.addEventListener("upgradeneeded",xe=>{Xe(we(oe.result),xe.oldVersion,xe.newVersion,we(oe.transaction))}),ut&&oe.addEventListener("blocked",()=>ut()),De.then(xe=>{lt&&xe.addEventListener("close",()=>lt()),Ft&&xe.addEventListener("versionchange",()=>Ft())}).catch(()=>{}),De}function Fe(pe,{blocked:Ne}={}){const ut=indexedDB.deleteDatabase(pe);return Ne&&ut.addEventListener("blocked",()=>Ne()),we(ut).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],rt=new Map;function Y(pe,Ne){if(!(pe instanceof IDBDatabase)||Ne in pe||"string"!=typeof Ne)return;if(rt.get(Ne))return rt.get(Ne);const ut=Ne.replace(/FromIndex$/,""),Xe=Ne!==ut,Ft=Ve.includes(ut);if(!(ut in(Xe?IDBIndex:IDBObjectStore).prototype)||!Ft&&!je.includes(ut))return;const lt=function(){var oe=(0,E.Z)(function*(De,...xe){const Be=this.transaction(De,Ft?"readwrite":"readonly");let Ze=Be.store;return Xe&&(Ze=Ze.index(xe.shift())),(yield Promise.all([Ze[ut](...xe),Ft&&Be.done]))[0]});return function(xe){return oe.apply(this,arguments)}}();return rt.set(Ne,lt),lt}!function Se(pe){ue=pe(ue)}(pe=>({...pe,get:(Ne,ut,Xe)=>Y(Ne,ut)||pe.get(Ne,ut,Xe),has:(Ne,ut)=>!!Y(Ne,ut)||pe.has(Ne,ut)}))},5861:(Dt,Te,L)=>{"use strict";function E(V,ne,ae,fe,ge,ve,_e){try{var G=V[ve](_e),q=G.value}catch(Z){return void ae(Z)}G.done?ne(q):Promise.resolve(q).then(fe,ge)}function h(V){return function(){var ne=this,ae=arguments;return new Promise(function(fe,ge){var ve=V.apply(ne,ae);function _e(q){E(ve,fe,ge,_e,G,"next",q)}function G(q){E(ve,fe,ge,_e,G,"throw",q)}_e(void 0)})}}L.d(Te,{Z:()=>h})}},Dt=>{var Te=E=>Dt(Dt.s=E);Te(1321),Te(9461)}]);